<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="æ¦‚è¿°\rDelveï¼ˆç®€ç§° dlvï¼‰æ˜¯ Go è¯­è¨€çš„å®˜æ–¹è°ƒè¯•å™¨ï¼Œä¸“é—¨ä¸º Go çš„å¹¶å‘æ¨¡å‹å’Œè¿è¡Œæ—¶ç‰¹æ€§è®¾è®¡ã€‚å®ƒæ˜¯ç›®å‰ Go ç”Ÿæ€ä¸­æœ€ä¸»æµã€åŠŸèƒ½æœ€å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚\nå®‰è£…\ræ¨èå®‰è£…æ–¹å¼\rä½¿ç”¨ Go Module æ¨¡å¼å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š\n"><title>Go è¯­è¨€è°ƒè¯•å™¨ Delve (dlv) å­¦ä¹ ç¬”è®°</title><link rel=canonical href=https://zg-dd.github.io/stu/go-delve/><link rel=stylesheet href=/scss/style.min.ff560f1cad7a040e336f2dd6880b9ee1ad344d6e3d8f5411e5a1aaa8b23bbdd0.css><meta property='og:title' content="Go è¯­è¨€è°ƒè¯•å™¨ Delve (dlv) å­¦ä¹ ç¬”è®°"><meta property='og:description' content="æ¦‚è¿°\rDelveï¼ˆç®€ç§° dlvï¼‰æ˜¯ Go è¯­è¨€çš„å®˜æ–¹è°ƒè¯•å™¨ï¼Œä¸“é—¨ä¸º Go çš„å¹¶å‘æ¨¡å‹å’Œè¿è¡Œæ—¶ç‰¹æ€§è®¾è®¡ã€‚å®ƒæ˜¯ç›®å‰ Go ç”Ÿæ€ä¸­æœ€ä¸»æµã€åŠŸèƒ½æœ€å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚\nå®‰è£…\ræ¨èå®‰è£…æ–¹å¼\rä½¿ç”¨ Go Module æ¨¡å¼å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š\n"><meta property='og:url' content='https://zg-dd.github.io/stu/go-delve/'><meta property='og:site_name' content='å°å··çš„éšç¬”'><meta property='og:type' content='article'><meta property='article:section' content='Stu'><meta property='article:tag' content='Golangè°ƒè¯•å™¨'><meta property='article:tag' content='delve'><meta property='article:tag' content='è°ƒè¯•å™¨'><meta property='article:published_time' content='2025-11-19T11:00:42+08:00'><meta property='article:modified_time' content='2025-11-19T11:00:42+08:00'><meta name=twitter:title content="Go è¯­è¨€è°ƒè¯•å™¨ Delve (dlv) å­¦ä¹ ç¬”è®°"><meta name=twitter:description content="æ¦‚è¿°\rDelveï¼ˆç®€ç§° dlvï¼‰æ˜¯ Go è¯­è¨€çš„å®˜æ–¹è°ƒè¯•å™¨ï¼Œä¸“é—¨ä¸º Go çš„å¹¶å‘æ¨¡å‹å’Œè¿è¡Œæ—¶ç‰¹æ€§è®¾è®¡ã€‚å®ƒæ˜¯ç›®å‰ Go ç”Ÿæ€ä¸­æœ€ä¸»æµã€åŠŸèƒ½æœ€å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚\nå®‰è£…\ræ¨èå®‰è£…æ–¹å¼\rä½¿ç”¨ Go Module æ¨¡å¼å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_a0cc1cf57968b27d.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ±</span></figure><div class=site-meta><h1 class=site-name><a href=/>å°å··çš„éšç¬”</a></h1><h2 class=site-description>è®°å½•ï¼Œä¸æ˜¯ä¸ºäº†è¯æ˜è‡ªå·±ï¼›è€Œæ˜¯æŠŠâ€œè§£å†³é—®é¢˜ â†’ æ€è€ƒ â†’ æ²‰æ·€â€å½¢æˆä¹ æƒ¯ã€‚</h2></div></header><ol class=menu id=main-menu><li class=current><a href=/stu/><span>å­¦ä¹ ç¬”è®°</span></a></li><li><a href=/blog/><span>éšç¬”æ€è€ƒ</span></a></li><li><a href=/life/><span>ç”Ÿæ´»è®°å½•</span></a></li><li><a href=/categories/><span>åˆ†ç±»</span></a></li><li><a href=/tags/><span>æ ‡ç­¾</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://zg-dd.github.io/ selected>ç®€ä½“ä¸­æ–‡</option><option value=https://zg-dd.github.io/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#æ¦‚è¿°>æ¦‚è¿°</a></li><li><a href=#å®‰è£…>å®‰è£…</a><ul><li><a href=#æ¨èå®‰è£…æ–¹å¼>æ¨èå®‰è£…æ–¹å¼</a></li><li><a href=#éªŒè¯å®‰è£…>éªŒè¯å®‰è£…</a></li></ul></li><li><a href=#æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</a></li><li><a href=#åŸºæœ¬ç”¨æ³•>åŸºæœ¬ç”¨æ³•</a><ul><li><a href=#ç¤ºä¾‹ä»£ç >ç¤ºä¾‹ä»£ç </a></li><li><a href=#å¯åŠ¨è°ƒè¯•ä¼šè¯>å¯åŠ¨è°ƒè¯•ä¼šè¯</a></li><li><a href=#å¸¸ç”¨è°ƒè¯•å‘½ä»¤>å¸¸ç”¨è°ƒè¯•å‘½ä»¤</a></li><li><a href=#å®Œæ•´è°ƒè¯•ä¼šè¯ç¤ºä¾‹>å®Œæ•´è°ƒè¯•ä¼šè¯ç¤ºä¾‹</a></li></ul></li><li><a href=#é«˜çº§åŠŸèƒ½>é«˜çº§åŠŸèƒ½</a><ul><li><a href=#æ¡ä»¶æ–­ç‚¹>æ¡ä»¶æ–­ç‚¹</a></li><li><a href=#è°ƒè¯•æµ‹è¯•ä»£ç >è°ƒè¯•æµ‹è¯•ä»£ç </a></li><li><a href=#ä¼ é€’å‘½ä»¤è¡Œå‚æ•°>ä¼ é€’å‘½ä»¤è¡Œå‚æ•°</a></li><li><a href=#goroutine-è°ƒè¯•>Goroutine è°ƒè¯•</a></li></ul></li><li><a href=#å®ç”¨æŠ€å·§>å®ç”¨æŠ€å·§</a><ul><li><a href=#1-ç”Ÿäº§ç¯å¢ƒè°ƒè¯•>1. ç”Ÿäº§ç¯å¢ƒè°ƒè¯•</a></li><li><a href=#2-æ€§èƒ½è€ƒè™‘>2. æ€§èƒ½è€ƒè™‘</a></li><li><a href=#3-ide-é›†æˆ>3. IDE é›†æˆ</a></li><li><a href=#4-å¸¸è§é—®é¢˜æ’æŸ¥>4. å¸¸è§é—®é¢˜æ’æŸ¥</a></li></ul></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/golang/>Golang</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/stu/go-delve/>Go è¯­è¨€è°ƒè¯•å™¨ Delve (dlv) å­¦ä¹ ç¬”è®°</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-11-19T11:00:42+08:00>Nov 19, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 3 åˆ†é’Ÿ</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://zg-dd.github.io/en/stu/go-delve/ class=link>English</a></div></footer></div></header><section class=article-content><h2 id=æ¦‚è¿°>æ¦‚è¿°</h2><p>Delveï¼ˆç®€ç§° dlvï¼‰æ˜¯ Go è¯­è¨€çš„å®˜æ–¹è°ƒè¯•å™¨ï¼Œä¸“é—¨ä¸º Go çš„å¹¶å‘æ¨¡å‹å’Œè¿è¡Œæ—¶ç‰¹æ€§è®¾è®¡ã€‚å®ƒæ˜¯ç›®å‰ Go ç”Ÿæ€ä¸­æœ€ä¸»æµã€åŠŸèƒ½æœ€å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚</p><h2 id=å®‰è£…>å®‰è£…</h2><h3 id=æ¨èå®‰è£…æ–¹å¼>æ¨èå®‰è£…æ–¹å¼</h3><p>ä½¿ç”¨ Go Module æ¨¡å¼å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go install github.com/go-delve/delve/cmd/dlv@latest
</span></span></code></pre></div><h3 id=éªŒè¯å®‰è£…>éªŒè¯å®‰è£…</h3><p>å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dlv version
</span></span></code></pre></div><p>å¦‚æœ <code>$GOPATH/bin</code> ä¸åœ¨ä½ çš„ <code>PATH</code> ç¯å¢ƒå˜é‡ä¸­ï¼Œéœ€è¦å°†å…¶åŠ å…¥ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>~/go/bin/dlv version
</span></span></code></pre></div><h2 id=æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</h2><p>Delve æä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p><ul><li><strong>è®¾ç½®æ–­ç‚¹</strong>ï¼šåœ¨ç‰¹å®šè¡Œã€å‡½æ•°åå¤„æš‚åœç¨‹åºæ‰§è¡Œ</li><li><strong>å•æ­¥æ‰§è¡Œ</strong>ï¼šé€è¡Œæˆ–è¿›å…¥å‡½æ•°å†…éƒ¨æ‰§è¡Œä»£ç </li><li><strong>å˜é‡æŸ¥çœ‹</strong>ï¼šæ‰“å°å˜é‡å€¼ã€æ£€æŸ¥å¤æ‚æ•°æ®ç»“æ„</li><li><strong>Goroutine ç®¡ç†</strong>ï¼šæŸ¥çœ‹æ‰€æœ‰ Goroutineï¼Œåœ¨ç‰¹å®š Goroutine ä¸Šä¸‹æ–‡ä¸­è°ƒè¯•</li><li><strong>è¿è¡Œæ—¶ä¿®æ”¹å˜é‡</strong>ï¼šåŠ¨æ€æ”¹å˜å˜é‡å€¼è¿›è¡Œæµ‹è¯•</li><li><strong>è°ƒç”¨æ ˆæŸ¥çœ‹</strong>ï¼šäº†è§£ç¨‹åºæ‰§è¡Œè·¯å¾„</li></ul><h2 id=åŸºæœ¬ç”¨æ³•>åŸºæœ¬ç”¨æ³•</h2><h3 id=ç¤ºä¾‹ä»£ç >ç¤ºä¾‹ä»£ç </h3><p>åˆ›å»ºæµ‹è¯•æ–‡ä»¶ <code>main.go</code>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>message</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;Hello, Delve!&#34;</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>message</span>)
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>add</span>(<span style=color:#ae81ff>23</span>, <span style=color:#ae81ff>19</span>)
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Result: %d\n&#34;</span>, <span style=color:#a6e22e>result</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>sum</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>sum</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=å¯åŠ¨è°ƒè¯•ä¼šè¯>å¯åŠ¨è°ƒè¯•ä¼šè¯</h3><h4 id=æ¨¡å¼1ç›´æ¥è°ƒè¯•æºä»£ç >æ¨¡å¼1ï¼šç›´æ¥è°ƒè¯•æºä»£ç </h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dlv debug main.go
</span></span></code></pre></div><h4 id=æ¨¡å¼2è°ƒè¯•å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶>æ¨¡å¼2ï¼šè°ƒè¯•å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go build -o myapp main.go
</span></span><span style=display:flex><span>dlv exec ./myapp
</span></span></code></pre></div><h4 id=æ¨¡å¼3é™„åŠ åˆ°è¿è¡Œä¸­çš„è¿›ç¨‹>æ¨¡å¼3ï¼šé™„åŠ åˆ°è¿è¡Œä¸­çš„è¿›ç¨‹</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># ç¼–è¯‘å¹¶å¯åŠ¨ç¨‹åº</span>
</span></span><span style=display:flex><span>go build -gcflags<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;all=-N -l&#34;</span> -o myapp main.go
</span></span><span style=display:flex><span>./myapp &amp;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è·å–è¿›ç¨‹IDå¹¶é™„åŠ </span>
</span></span><span style=display:flex><span>PID<span style=color:#f92672>=</span>$!
</span></span><span style=display:flex><span>dlv attach $PID
</span></span></code></pre></div><h3 id=å¸¸ç”¨è°ƒè¯•å‘½ä»¤>å¸¸ç”¨è°ƒè¯•å‘½ä»¤</h3><h4 id=æ–­ç‚¹ç®¡ç†>æ–­ç‚¹ç®¡ç†</h4><div class=table-wrapper><table><thead><tr><th>å‘½ä»¤</th><th>ç¼©å†™</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>break main.main</code></td><td><code>b main.main</code></td><td>åœ¨ main å‡½æ•°è®¾æ–­ç‚¹</td></tr><tr><td><code>break main.go:10</code></td><td><code>b main.go:10</code></td><td>åœ¨ç¬¬10è¡Œè®¾æ–­ç‚¹</td></tr><tr><td><code>breakpoints</code></td><td><code>bp</code></td><td>åˆ—å‡ºæ‰€æœ‰æ–­ç‚¹</td></tr><tr><td><code>clear 1</code></td><td>-</td><td>åˆ é™¤IDä¸º1çš„æ–­ç‚¹</td></tr><tr><td><code>clearall</code></td><td>-</td><td>åˆ é™¤æ‰€æœ‰æ–­ç‚¹</td></tr></tbody></table></div><h4 id=ç¨‹åºæ‰§è¡Œæ§åˆ¶>ç¨‹åºæ‰§è¡Œæ§åˆ¶</h4><div class=table-wrapper><table><thead><tr><th>å‘½ä»¤</th><th>ç¼©å†™</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>continue</code></td><td><code>c</code></td><td>ç»§ç»­æ‰§è¡Œç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</td></tr><tr><td><code>next</code></td><td><code>n</code></td><td>æ‰§è¡Œå½“å‰è¡Œï¼Œä¸è¿›å…¥å‡½æ•°</td></tr><tr><td><code>step</code></td><td><code>s</code></td><td>æ‰§è¡Œå½“å‰è¡Œï¼Œè¿›å…¥å‡½æ•°å†…éƒ¨</td></tr><tr><td><code>stepout</code></td><td><code>so</code></td><td>æ‰§è¡Œå®Œå½“å‰å‡½æ•°ï¼Œè¿”å›è°ƒç”¨è€…</td></tr><tr><td><code>restart</code></td><td><code>r</code></td><td>é‡æ–°è¿è¡Œç¨‹åº</td></tr></tbody></table></div><h4 id=å˜é‡å’Œè¡¨è¾¾å¼æŸ¥çœ‹>å˜é‡å’Œè¡¨è¾¾å¼æŸ¥çœ‹</h4><div class=table-wrapper><table><thead><tr><th>å‘½ä»¤</th><th>ç¼©å†™</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>print message</code></td><td><code>p message</code></td><td>æ‰“å°å˜é‡å€¼</td></tr><tr><td><code>locals</code></td><td>-</td><td>æ‰“å°å½“å‰å‡½æ•°æ‰€æœ‰å±€éƒ¨å˜é‡</td></tr><tr><td><code>args</code></td><td>-</td><td>æ‰“å°å½“å‰å‡½æ•°å‚æ•°</td></tr></tbody></table></div><h4 id=å…¶ä»–å®ç”¨å‘½ä»¤>å…¶ä»–å®ç”¨å‘½ä»¤</h4><div class=table-wrapper><table><thead><tr><th>å‘½ä»¤</th><th>ç¼©å†™</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>stack</code></td><td><code>bt</code></td><td>æ‰“å°è°ƒç”¨æ ˆ</td></tr><tr><td><code>goroutines</code></td><td>-</td><td>åˆ—å‡ºæ‰€æœ‰ Goroutine</td></tr><tr><td><code>goroutine 1</code></td><td><code>g 1</code></td><td>åˆ‡æ¢åˆ°æŒ‡å®š Goroutine</td></tr><tr><td><code>exit</code></td><td><code>q</code></td><td>é€€å‡ºè°ƒè¯•å™¨</td></tr></tbody></table></div><h3 id=å®Œæ•´è°ƒè¯•ä¼šè¯ç¤ºä¾‹>å®Œæ•´è°ƒè¯•ä¼šè¯ç¤ºä¾‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ dlv debug main.go
</span></span><span style=display:flex><span>Type <span style=color:#e6db74>&#39;help&#39;</span> <span style=color:#66d9ef>for</span> list of commands.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è®¾ç½®æ–­ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> b main.main
</span></span><span style=display:flex><span>Breakpoint <span style=color:#ae81ff>1</span> set at 0x... <span style=color:#66d9ef>for</span> main.main<span style=color:#f92672>()</span> ./main.go:5
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> b main.go:11
</span></span><span style=display:flex><span>Breakpoint <span style=color:#ae81ff>2</span> set at 0x... <span style=color:#66d9ef>for</span> main.main<span style=color:#f92672>()</span> ./main.go:11
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¼€å§‹æ‰§è¡Œ</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> c
</span></span><span style=display:flex><span>&gt; main.main<span style=color:#f92672>()</span> ./main.go:5 <span style=color:#f92672>(</span>hits goroutine<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>:1 total:1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>PC: 0x...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    1: package main
</span></span><span style=display:flex><span>    2: 
</span></span><span style=display:flex><span>    3: import <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    4: 
</span></span><span style=display:flex><span><span style=color:#f92672>=</span>&gt;   5: func main<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    6:  message :<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello, Delve!&#34;</span>
</span></span><span style=display:flex><span>    7:  fmt.Println<span style=color:#f92672>(</span>message<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    8:  result :<span style=color:#f92672>=</span> add<span style=color:#f92672>(</span>23, 19<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    9:  fmt.Printf<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Result: %d\n&#34;</span>, result<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>   10: <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å•æ­¥æ‰§è¡Œ</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> n
</span></span><span style=display:flex><span>&gt; main.main<span style=color:#f92672>()</span> ./main.go:6 <span style=color:#f92672>(</span>PC: 0x...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    5: func main<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span><span style=color:#f92672>=</span>&gt;   6:  message :<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hello, Delve!&#34;</span>
</span></span><span style=display:flex><span>    7:  fmt.Println<span style=color:#f92672>(</span>message<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    8:  result :<span style=color:#f92672>=</span> add<span style=color:#f92672>(</span>23, 19<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    9:  fmt.Printf<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Result: %d\n&#34;</span>, result<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>   10: <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹å˜é‡</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> p message
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> n
</span></span><span style=display:flex><span>&gt; main.main<span style=color:#f92672>()</span> ./main.go:7 <span style=color:#f92672>(</span>PC: 0x...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> p message
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;Hello, Delve!&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ­¥å…¥å‡½æ•°</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> s
</span></span><span style=display:flex><span>&gt; fmt.Println<span style=color:#f92672>(</span>...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ­¥å‡ºå‡½æ•°</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> so
</span></span><span style=display:flex><span>Hello, Delve!
</span></span><span style=display:flex><span>&gt; main.main<span style=color:#f92672>()</span> ./main.go:8 <span style=color:#f92672>(</span>PC: 0x...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ç»§ç»­æ‰§è¡Œ</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> c
</span></span><span style=display:flex><span>Result: <span style=color:#ae81ff>42</span>
</span></span><span style=display:flex><span>&gt; main.main<span style=color:#f92672>()</span> ./main.go:11 <span style=color:#f92672>(</span>hits goroutine<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>:1 total:1<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>PC: 0x...<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> p result
</span></span><span style=display:flex><span><span style=color:#ae81ff>42</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># é€€å‡º</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> q
</span></span></code></pre></div><h2 id=é«˜çº§åŠŸèƒ½>é«˜çº§åŠŸèƒ½</h2><h3 id=æ¡ä»¶æ–­ç‚¹>æ¡ä»¶æ–­ç‚¹</h3><p>è®¾ç½®åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘çš„æ–­ç‚¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># å½“ i == 5 æ—¶æ‰åœ¨ç¬¬10è¡Œæš‚åœ</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> b main.go:10
</span></span><span style=display:flex><span>Breakpoint <span style=color:#ae81ff>1</span> set at main.go:10
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> cond <span style=color:#ae81ff>1</span> i <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>
</span></span></code></pre></div><h3 id=è°ƒè¯•æµ‹è¯•ä»£ç >è°ƒè¯•æµ‹è¯•ä»£ç </h3><p>Delve å¯ä»¥ç›´æ¥è°ƒè¯•æµ‹è¯•ç”¨ä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dlv test main_test.go
</span></span></code></pre></div><p>åœ¨æµ‹è¯•å‡½æ•°ä¸Šè®¾ç½®æ–­ç‚¹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> b TestMyFunction
</span></span></code></pre></div><h3 id=ä¼ é€’å‘½ä»¤è¡Œå‚æ•°>ä¼ é€’å‘½ä»¤è¡Œå‚æ•°</h3><p>å¦‚æœç¨‹åºéœ€è¦å‘½ä»¤è¡Œå‚æ•°ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dlv debug -- arg1 arg2
</span></span><span style=display:flex><span><span style=color:#75715e># æˆ–</span>
</span></span><span style=display:flex><span>dlv exec ./myapp -- arg1 arg2
</span></span></code></pre></div><h3 id=goroutine-è°ƒè¯•>Goroutine è°ƒè¯•</h3><p>è°ƒè¯•å¹¶å‘ç¨‹åºæ—¶çš„ Goroutine æ“ä½œï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æŸ¥çœ‹æ‰€æœ‰ Goroutine</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> goroutines
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åˆ‡æ¢åˆ°ç‰¹å®š Goroutine</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> goroutine <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åœ¨å½“å‰ Goroutine ä¸Šä¸‹æ–‡ä¸­æŸ¥çœ‹å˜é‡</span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>dlv<span style=color:#f92672>)</span> p localVar
</span></span></code></pre></div><h2 id=å®ç”¨æŠ€å·§>å®ç”¨æŠ€å·§</h2><h3 id=1-ç”Ÿäº§ç¯å¢ƒè°ƒè¯•>1. ç”Ÿäº§ç¯å¢ƒè°ƒè¯•</h3><p>å¯¹äºç”Ÿäº§ç¯å¢ƒç¨‹åºï¼Œç¼–è¯‘æ—¶ç¦ç”¨ä¼˜åŒ–ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go build -gcflags<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;all=-N -l&#34;</span> -o myapp main.go
</span></span></code></pre></div><h3 id=2-æ€§èƒ½è€ƒè™‘>2. æ€§èƒ½è€ƒè™‘</h3><ul><li>è°ƒè¯•ç‰ˆæœ¬ç¨‹åºè¿è¡Œè¾ƒæ…¢ï¼Œä»…ç”¨äºè°ƒè¯•ç›®çš„</li><li>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ ‡å‡†ç¼–è¯‘é€‰é¡¹</li></ul><h3 id=3-ide-é›†æˆ>3. IDE é›†æˆ</h3><ul><li><strong>VS Code</strong>ï¼šå®‰è£… Go æ‰©å±•ï¼Œä½¿ç”¨å†…ç½®è°ƒè¯•ç•Œé¢</li><li><strong>Goland</strong>ï¼šåŸç”Ÿæ”¯æŒ Delveï¼Œæä¾›å›¾å½¢åŒ–è°ƒè¯•ç•Œé¢</li><li>æŒæ¡å‘½ä»¤è¡Œæ“ä½œæœ‰åŠ©äºç†è§£ IDE è°ƒè¯•è¿‡ç¨‹</li></ul><h3 id=4-å¸¸è§é—®é¢˜æ’æŸ¥>4. å¸¸è§é—®é¢˜æ’æŸ¥</h3><p><strong>é—®é¢˜</strong>ï¼šæ–­ç‚¹æ— æ³•å‘½ä¸­</p><ul><li>æ£€æŸ¥ä»£ç ä¼˜åŒ–é€‰é¡¹ï¼Œç¡®ä¿ä½¿ç”¨ <code>-gcflags="all=-N -l"</code></li><li>ç¡®è®¤æ–­ç‚¹è®¾ç½®åœ¨æ­£ç¡®çš„è¡Œå·å’Œå‡½æ•°</li></ul><p><strong>é—®é¢˜</strong>ï¼šå˜é‡æ˜¾ç¤ºä¼˜åŒ–å€¼</p><ul><li>ç”±äºç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œå˜é‡å€¼å¯èƒ½æ˜¾ç¤ºä¸å‡†ç¡®</li><li>ä½¿ç”¨ç¦ç”¨ä¼˜åŒ–çš„æ–¹å¼ç¼–è¯‘è°ƒè¯•ç‰ˆæœ¬</li></ul><h2 id=æ€»ç»“>æ€»ç»“</h2><p>Delve æ˜¯ Go å¼€å‘è€…å¿…å¤‡çš„è°ƒè¯•å·¥å…·ï¼Œé€šè¿‡ç†Ÿç»ƒæŒæ¡å…¶ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥ï¼š</p><ol><li><strong>å¿«é€Ÿå®šä½é—®é¢˜</strong>ï¼šé€šè¿‡æ–­ç‚¹å’Œå•æ­¥æ‰§è¡Œç²¾å‡†å®šä½ bug</li><li><strong>æ·±å…¥ç†è§£ä»£ç </strong>ï¼šè§‚å¯Ÿå˜é‡å˜åŒ–å’Œç¨‹åºæ‰§è¡Œæµç¨‹</li><li><strong>è°ƒè¯•å¹¶å‘ç¨‹åº</strong>ï¼šç®¡ç† Goroutine å’Œæ’æŸ¥å¹¶å‘é—®é¢˜</li><li><strong>æé«˜å¼€å‘æ•ˆç‡</strong>ï¼šå‡å°‘è°ƒè¯•æ—¶é—´ï¼Œå¢åŠ å¼€å‘ä¿¡å¿ƒ</li></ol><p>å»ºè®®ä»ç®€å•ç¨‹åºå¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥ç†Ÿæ‚‰å„ç§å‘½ä»¤å’Œåœºæ™¯ï¼Œæœ€ç»ˆèƒ½å¤Ÿç†Ÿç»ƒè¿ç”¨ Delve è§£å†³å¤æ‚çš„è°ƒè¯•é—®é¢˜ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/golang%E8%B0%83%E8%AF%95%E5%99%A8/>Golangè°ƒè¯•å™¨</a>
<a href=/tags/delve/>Delve</a>
<a href=/tags/%E8%B0%83%E8%AF%95%E5%99%A8/>è°ƒè¯•å™¨</a></section></footer></article><script src=https://giscus.app/client.js data-repo=zg-dd/zg-dd.github.io data-repo-id=R_kgDOQwB7tw data-category=Announcements data-category-id=DIC_kwDOQwB7t84C0WGD data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2026 å°å··çš„éšç¬”</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>