<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="ä¸€ã€åŸºç¡€æ¦‚å¿µ\råœ¨ Milvus ä¸­ï¼Œå®ä½“ï¼ˆEntityï¼‰ æ˜¯ Collection ä¸­å…±äº«ç›¸åŒ Schema çš„æ•°æ®è®°å½•ï¼Œæ¯è¡Œå­—æ®µçš„æ•°æ®æ„æˆä¸€ä¸ªå®ä½“ã€‚\nåŒä¸€ Collection ä¸­çš„å®ä½“å…·æœ‰ç›¸åŒçš„å±æ€§ï¼ˆå­—æ®µåã€æ•°æ®ç±»å‹ã€çº¦æŸï¼‰ æ’å…¥å®ä½“æ—¶ï¼Œå¿…é¡»åŒ…å« Schema ä¸­å®šä¹‰çš„æ‰€æœ‰å­—æ®µ å®ä½“é»˜è®¤è¿›å…¥ _default åˆ†åŒºï¼Œä¹Ÿå¯æŒ‡å®šåˆ†åŒºåç§° å¯ç”¨åŠ¨æ€å­—æ®µåï¼ŒSchema å¤–çš„å­—æ®µä¼šå­˜å…¥ $meta ä¿ç•™å­—æ®µ äºŒã€ä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”\rMilvus çš„ CRUD æ“ä½œä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆMySQL / PostgreSQLï¼‰åœ¨æ¦‚å¿µä¸Šç›¸ä¼¼ï¼Œä½†æœ‰é‡è¦å·®å¼‚ï¼š\n"><title>Milvus æ•°æ®æ“ä½œè¯¦è§£ - å®ä½“å¢åˆ æ”¹å®æˆ˜æŒ‡å—</title><link rel=canonical href=https://zg-dd.github.io/stu/milvus-entity-operations/><link rel=stylesheet href=/scss/style.min.ff560f1cad7a040e336f2dd6880b9ee1ad344d6e3d8f5411e5a1aaa8b23bbdd0.css><meta property='og:title' content="Milvus æ•°æ®æ“ä½œè¯¦è§£ - å®ä½“å¢åˆ æ”¹å®æˆ˜æŒ‡å—"><meta property='og:description' content="ä¸€ã€åŸºç¡€æ¦‚å¿µ\råœ¨ Milvus ä¸­ï¼Œå®ä½“ï¼ˆEntityï¼‰ æ˜¯ Collection ä¸­å…±äº«ç›¸åŒ Schema çš„æ•°æ®è®°å½•ï¼Œæ¯è¡Œå­—æ®µçš„æ•°æ®æ„æˆä¸€ä¸ªå®ä½“ã€‚\nåŒä¸€ Collection ä¸­çš„å®ä½“å…·æœ‰ç›¸åŒçš„å±æ€§ï¼ˆå­—æ®µåã€æ•°æ®ç±»å‹ã€çº¦æŸï¼‰ æ’å…¥å®ä½“æ—¶ï¼Œå¿…é¡»åŒ…å« Schema ä¸­å®šä¹‰çš„æ‰€æœ‰å­—æ®µ å®ä½“é»˜è®¤è¿›å…¥ _default åˆ†åŒºï¼Œä¹Ÿå¯æŒ‡å®šåˆ†åŒºåç§° å¯ç”¨åŠ¨æ€å­—æ®µåï¼ŒSchema å¤–çš„å­—æ®µä¼šå­˜å…¥ $meta ä¿ç•™å­—æ®µ äºŒã€ä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”\rMilvus çš„ CRUD æ“ä½œä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆMySQL / PostgreSQLï¼‰åœ¨æ¦‚å¿µä¸Šç›¸ä¼¼ï¼Œä½†æœ‰é‡è¦å·®å¼‚ï¼š\n"><meta property='og:url' content='https://zg-dd.github.io/stu/milvus-entity-operations/'><meta property='og:site_name' content='å°å··çš„éšç¬”'><meta property='og:type' content='article'><meta property='article:section' content='Stu'><meta property='article:tag' content='Milvus'><meta property='article:tag' content='æ•°æ®æ“ä½œ'><meta property='article:tag' content='å®ä½“ç®¡ç†'><meta property='article:published_time' content='2026-02-28T18:56:55+08:00'><meta property='article:modified_time' content='2026-02-28T18:56:55+08:00'><meta name=twitter:title content="Milvus æ•°æ®æ“ä½œè¯¦è§£ - å®ä½“å¢åˆ æ”¹å®æˆ˜æŒ‡å—"><meta name=twitter:description content="ä¸€ã€åŸºç¡€æ¦‚å¿µ\råœ¨ Milvus ä¸­ï¼Œå®ä½“ï¼ˆEntityï¼‰ æ˜¯ Collection ä¸­å…±äº«ç›¸åŒ Schema çš„æ•°æ®è®°å½•ï¼Œæ¯è¡Œå­—æ®µçš„æ•°æ®æ„æˆä¸€ä¸ªå®ä½“ã€‚\nåŒä¸€ Collection ä¸­çš„å®ä½“å…·æœ‰ç›¸åŒçš„å±æ€§ï¼ˆå­—æ®µåã€æ•°æ®ç±»å‹ã€çº¦æŸï¼‰ æ’å…¥å®ä½“æ—¶ï¼Œå¿…é¡»åŒ…å« Schema ä¸­å®šä¹‰çš„æ‰€æœ‰å­—æ®µ å®ä½“é»˜è®¤è¿›å…¥ _default åˆ†åŒºï¼Œä¹Ÿå¯æŒ‡å®šåˆ†åŒºåç§° å¯ç”¨åŠ¨æ€å­—æ®µåï¼ŒSchema å¤–çš„å­—æ®µä¼šå­˜å…¥ $meta ä¿ç•™å­—æ®µ äºŒã€ä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”\rMilvus çš„ CRUD æ“ä½œä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆMySQL / PostgreSQLï¼‰åœ¨æ¦‚å¿µä¸Šç›¸ä¼¼ï¼Œä½†æœ‰é‡è¦å·®å¼‚ï¼š\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_a0cc1cf57968b27d.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ±</span></figure><div class=site-meta><h1 class=site-name><a href=/>å°å··çš„éšç¬”</a></h1><h2 class=site-description>è®°å½•ï¼Œä¸æ˜¯ä¸ºäº†è¯æ˜è‡ªå·±ï¼›è€Œæ˜¯æŠŠâ€œè§£å†³é—®é¢˜ â†’ æ€è€ƒ â†’ æ²‰æ·€â€å½¢æˆä¹ æƒ¯ã€‚</h2></div></header><ol class=menu id=main-menu><li class=current><a href=/stu/><span>å­¦ä¹ ç¬”è®°</span></a></li><li><a href=/blog/><span>éšç¬”æ€è€ƒ</span></a></li><li><a href=/life/><span>ç”Ÿæ´»è®°å½•</span></a></li><li><a href=/categories/><span>åˆ†ç±»</span></a></li><li><a href=/tags/><span>æ ‡ç­¾</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://zg-dd.github.io/ selected>ç®€ä½“ä¸­æ–‡</option><option value=https://zg-dd.github.io/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#ä¸€åŸºç¡€æ¦‚å¿µ>ä¸€ã€åŸºç¡€æ¦‚å¿µ</a></li><li><a href=#äºŒä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”>äºŒã€ä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”</a><ul><li><a href=#21-æ¦‚å¿µæ˜ å°„>2.1 æ¦‚å¿µæ˜ å°„</a></li><li><a href=#22-å…³é”®å·®å¼‚>2.2 å…³é”®å·®å¼‚</a></li><li><a href=#23-è¿‡æ»¤è¯­æ³•å¯¹æ¯”>2.3 è¿‡æ»¤è¯­æ³•å¯¹æ¯”</a></li></ul></li><li><a href=#ä¸‰æ–°å¢å®ä½“-insert>ä¸‰ã€æ–°å¢å®ä½“ Insert</a><ul><li><a href=#31-åŸºæœ¬è¯­æ³•>3.1 åŸºæœ¬è¯­æ³•</a></li><li><a href=#32-è¿”å›å€¼è¯´æ˜>3.2 è¿”å›å€¼è¯´æ˜</a></li><li><a href=#33-ç¤ºä¾‹>3.3 ç¤ºä¾‹</a></li><li><a href=#34-æ•°æ®ç»“æ„ç¤ºä¾‹>3.4 æ•°æ®ç»“æ„ç¤ºä¾‹</a></li><li><a href=#35-æ³¨æ„äº‹é¡¹>3.5 æ³¨æ„äº‹é¡¹</a></li></ul></li><li><a href=#å››ä¿®æ”¹å®ä½“-upsert>å››ã€ä¿®æ”¹å®ä½“ Upsert</a><ul><li><a href=#41-ä¸¤ç§æ¨¡å¼>4.1 ä¸¤ç§æ¨¡å¼</a></li><li><a href=#42-è¦†ç›–æ¨¡å¼partial_updatefalse>4.2 è¦†ç›–æ¨¡å¼ï¼ˆpartial_update=Falseï¼‰</a></li><li><a href=#43-åˆå¹¶æ¨¡å¼partial_updatetrue>4.3 åˆå¹¶æ¨¡å¼ï¼ˆpartial_update=Trueï¼‰</a></li><li><a href=#44-upsert-å¸¸è§é”™è¯¯ä¸æ³¨æ„äº‹é¡¹>4.4 Upsert å¸¸è§é”™è¯¯ä¸æ³¨æ„äº‹é¡¹</a></li><li><a href=#45-upsert-æ¨¡å¼é€‰æ‹©æŒ‡å—>4.5 Upsert æ¨¡å¼é€‰æ‹©æŒ‡å—</a></li></ul></li><li><a href=#äº”åˆ é™¤å®ä½“-delete>äº”ã€åˆ é™¤å®ä½“ Delete</a><ul><li><a href=#51-åŸºæœ¬è¯­æ³•>5.1 åŸºæœ¬è¯­æ³•</a></li><li><a href=#52-ä¸‰ç§åˆ é™¤æ–¹å¼>5.2 ä¸‰ç§åˆ é™¤æ–¹å¼</a></li><li><a href=#53-å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼>5.3 å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼</a></li><li><a href=#54-æ³¨æ„äº‹é¡¹>5.4 æ³¨æ„äº‹é¡¹</a></li></ul></li><li><a href=#å…­æ“ä½œå¯¹æ¯”æ€»ç»“>å…­ã€æ“ä½œå¯¹æ¯”æ€»ç»“</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93/>å‘é‡æ•°æ®åº“</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/stu/milvus-entity-operations/>Milvus æ•°æ®æ“ä½œè¯¦è§£ - å®ä½“å¢åˆ æ”¹å®æˆ˜æŒ‡å—</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2026-02-28T18:56:55+08:00>Feb 28, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 5 åˆ†é’Ÿ</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://zg-dd.github.io/en/stu/milvus-entity-operations/ class=link>English</a></div></footer></div></header><section class=article-content><h2 id=ä¸€åŸºç¡€æ¦‚å¿µ>ä¸€ã€åŸºç¡€æ¦‚å¿µ</h2><p>åœ¨ Milvus ä¸­ï¼Œ<strong>å®ä½“ï¼ˆEntityï¼‰</strong> æ˜¯ Collection ä¸­å…±äº«ç›¸åŒ Schema çš„æ•°æ®è®°å½•ï¼Œæ¯è¡Œå­—æ®µçš„æ•°æ®æ„æˆä¸€ä¸ªå®ä½“ã€‚</p><ul><li>åŒä¸€ Collection ä¸­çš„å®ä½“å…·æœ‰ç›¸åŒçš„å±æ€§ï¼ˆå­—æ®µåã€æ•°æ®ç±»å‹ã€çº¦æŸï¼‰</li><li>æ’å…¥å®ä½“æ—¶ï¼Œå¿…é¡»åŒ…å« Schema ä¸­å®šä¹‰çš„æ‰€æœ‰å­—æ®µ</li><li>å®ä½“é»˜è®¤è¿›å…¥ <code>_default</code> åˆ†åŒºï¼Œä¹Ÿå¯æŒ‡å®šåˆ†åŒºåç§°</li><li>å¯ç”¨åŠ¨æ€å­—æ®µåï¼ŒSchema å¤–çš„å­—æ®µä¼šå­˜å…¥ <code>$meta</code> ä¿ç•™å­—æ®µ</li></ul><hr><h2 id=äºŒä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”>äºŒã€ä¸å…³ç³»å‹æ•°æ®åº“å¯¹æ¯”</h2><p>Milvus çš„ CRUD æ“ä½œä¸ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ï¼ˆMySQL / PostgreSQLï¼‰åœ¨æ¦‚å¿µä¸Šç›¸ä¼¼ï¼Œä½†æœ‰é‡è¦å·®å¼‚ï¼š</p><h3 id=21-æ¦‚å¿µæ˜ å°„>2.1 æ¦‚å¿µæ˜ å°„</h3><div class=table-wrapper><table><thead><tr><th>å…³ç³»å‹æ•°æ®åº“</th><th>Milvus</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Database</td><td>Database</td><td>æ•°æ®åº“</td></tr><tr><td>Table</td><td>Collection</td><td>æ•°æ®è¡¨/é›†åˆ</td></tr><tr><td>Row</td><td>Entity</td><td>è¡Œ/å®ä½“</td></tr><tr><td>Column</td><td>Field</td><td>åˆ—/å­—æ®µ</td></tr><tr><td>Primary Key</td><td>Primary Key</td><td>ä¸»é”®ï¼ŒMilvus ä¸­å¿…é¡»ä¸ºæ•´æ•°æˆ–å­—ç¬¦ä¸²</td></tr><tr><td>Index</td><td>Index</td><td>ç´¢å¼•ï¼ŒMilvus ç´¢å¼•ä¸“ä¸ºå‘é‡æœç´¢ä¼˜åŒ–</td></tr><tr><td><code>INSERT</code></td><td><code>insert()</code></td><td>æ–°å¢è®°å½•</td></tr><tr><td><code>UPDATE</code></td><td><code>upsert(partial_update=True)</code></td><td>æ›´æ–°è®°å½•ï¼ŒMilvus æ— ç‹¬ç«‹ UPDATE</td></tr><tr><td><code>INSERT ... ON DUPLICATE KEY UPDATE</code></td><td><code>upsert()</code></td><td>å­˜åœ¨åˆ™æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™æ’å…¥</td></tr><tr><td><code>DELETE FROM ... WHERE</code></td><td><code>delete(filter=...)</code></td><td>æ¡ä»¶åˆ é™¤</td></tr></tbody></table></div><h3 id=22-å…³é”®å·®å¼‚>2.2 å…³é”®å·®å¼‚</h3><div class=table-wrapper><table><thead><tr><th>ç»´åº¦</th><th>å…³ç³»å‹æ•°æ®åº“</th><th>Milvus</th></tr></thead><tbody><tr><td>æ›´æ–°æ–¹å¼</td><td>æœ‰ç‹¬ç«‹ <code>UPDATE</code> è¯­å¥ï¼Œå¯ç²¾ç¡®ä¿®æ”¹ä»»æ„å­—æ®µ</td><td>æ— ç‹¬ç«‹ UPDATEï¼Œåªèƒ½é€šè¿‡ <code>upsert</code> å®ç°</td></tr><tr><td>åˆ é™¤æ–¹å¼</td><td><code>DELETE</code> ç«‹å³ç”Ÿæ•ˆï¼Œå¯å›æ»š</td><td>åˆ é™¤æ ‡è®°åå¼‚æ­¥æ¸…ç†ï¼Œä¸å¯å›æ»š</td></tr><tr><td>äº‹åŠ¡æ”¯æŒ</td><td>æ”¯æŒ ACID äº‹åŠ¡</td><td>ä¸æ”¯æŒè·¨å®ä½“äº‹åŠ¡</td></tr><tr><td>ä¸»é”®è‡ªå¢</td><td>æ”¯æŒè‡ªå¢ä¸»é”®</td><td>æ”¯æŒè‡ªåŠ¨ç”Ÿæˆ INT64 ä¸»é”®ï¼ˆAutoIDï¼‰</td></tr><tr><td>è¿‡æ»¤è¯­æ³•</td><td>æ ‡å‡† SQL WHERE å­å¥</td><td>ç±» SQL è¡¨è¾¾å¼ï¼Œè¯­æ³•ç•¥æœ‰å·®å¼‚</td></tr><tr><td>æ•°æ®ç±»å‹</td><td>ä¸°å¯Œçš„ç±»å‹ç³»ç»Ÿ</td><td>é¢å¤–æ”¯æŒå‘é‡ç±»å‹ï¼ˆFloatVectorã€SparseVector ç­‰ï¼‰</td></tr></tbody></table></div><h3 id=23-è¿‡æ»¤è¯­æ³•å¯¹æ¯”>2.3 è¿‡æ»¤è¯­æ³•å¯¹æ¯”</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#75715e>-- MySQL
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> books <span style=color:#66d9ef>WHERE</span> score <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3</span>.<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>AND</span> is_active <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> books <span style=color:#66d9ef>WHERE</span> id <span style=color:#66d9ef>IN</span> (<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>UPDATE</span> books <span style=color:#66d9ef>SET</span> score <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>.<span style=color:#ae81ff>0</span> <span style=color:#66d9ef>WHERE</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Milvus</span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>query(collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;score &lt; 3.0 and is_active == false&#34;</span>)
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>delete(collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id in [1, 2, 3]&#34;</span>)
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>upsert(collection_name, data<span style=color:#f92672>=</span>[{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}], partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span></code></pre></div><hr><h2 id=ä¸‰æ–°å¢å®ä½“-insert>ä¸‰ã€æ–°å¢å®ä½“ Insert</h2><h3 id=31-åŸºæœ¬è¯­æ³•>3.1 åŸºæœ¬è¯­æ³•</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>result <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>insert(
</span></span><span style=display:flex><span>    collection_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;your_collection&#34;</span>,
</span></span><span style=display:flex><span>    data<span style=color:#f92672>=</span>data  <span style=color:#75715e># list[dict]ï¼Œæ¯ä¸ª dict ä¸ºä¸€æ¡è®°å½•</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h3 id=32-è¿”å›å€¼è¯´æ˜>3.2 è¿”å›å€¼è¯´æ˜</h3><div class=table-wrapper><table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>insert_count</code></td><td>æˆåŠŸæ’å…¥çš„è®°å½•æ•°</td></tr><tr><td><code>ids</code></td><td>æ’å…¥è®°å½•çš„ä¸»é”® ID åˆ—è¡¨</td></tr></tbody></table></div><h3 id=33-ç¤ºä¾‹>3.3 ç¤ºä¾‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_data</span>(collection_name, data):
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>insert(
</span></span><span style=display:flex><span>        collection_name<span style=color:#f92672>=</span>collection_name,
</span></span><span style=display:flex><span>        data<span style=color:#f92672>=</span>data
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;æ’å…¥è®°å½•æ•°: </span><span style=color:#e6db74>{</span>result[<span style=color:#e6db74>&#39;insert_count&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;æ’å…¥IDèŒƒå›´: </span><span style=color:#e6db74>{</span>result[<span style=color:#e6db74>&#39;ids&#39;</span>][<span style=color:#ae81ff>0</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> - </span><span style=color:#e6db74>{</span>result[<span style=color:#e6db74>&#39;ids&#39;</span>][<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result
</span></span></code></pre></div><h3 id=34-æ•°æ®ç»“æ„ç¤ºä¾‹>3.4 æ•°æ®ç»“æ„ç¤ºä¾‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>record <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Pythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µ&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;isbn&#34;</span>: <span style=color:#e6db74>&#34;978-123-45678-123-0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;is_available&#34;</span>: <span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;page_count&#34;</span>: <span style=color:#ae81ff>500</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;rating&#34;</span>: <span style=color:#ae81ff>4.8</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;price&#34;</span>: <span style=color:#ae81ff>89.9</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;tags&#34;</span>: [<span style=color:#e6db74>&#34;ç¼–ç¨‹&#34;</span>, <span style=color:#e6db74>&#34;å…¥é—¨&#34;</span>, <span style=color:#e6db74>&#34;å®æˆ˜&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;content_vector&#34;</span>: [<span style=color:#ae81ff>0.1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>0.3</span>, <span style=color:#f92672>...</span>]  <span style=color:#75715e># å‘é‡å­—æ®µï¼Œç»´åº¦éœ€ä¸ Schema ä¸€è‡´</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=35-æ³¨æ„äº‹é¡¹>3.5 æ³¨æ„äº‹é¡¹</h3><ul><li>æ’å…¥æ•°æ®å¿…é¡»åŒ…å« Schema ä¸­æ‰€æœ‰éå¯é€‰å­—æ®µ</li><li>å‘é‡å­—æ®µçš„ç»´åº¦å¿…é¡»ä¸ Schema å®šä¹‰ä¸€è‡´</li><li>ç¨€ç–å‘é‡ï¼ˆSparse Vectorï¼‰ä½¿ç”¨å­—å…¸æ ¼å¼ <code>{index: value}</code></li><li>æ—¶é—´å­—æ®µæ¨èä½¿ç”¨ ISO æ ¼å¼å­—ç¬¦ä¸²æˆ– Unix æ—¶é—´æˆ³</li></ul><hr><h2 id=å››ä¿®æ”¹å®ä½“-upsert>å››ã€ä¿®æ”¹å®ä½“ Upsert</h2><p>Upsert æ˜¯ <strong>Update + Insert</strong> çš„ç»„åˆæ“ä½œï¼Œä¹Ÿæ˜¯ Milvus ä¸­å”¯ä¸€çš„æ›´æ–°æ‰‹æ®µï¼š</p><ul><li><strong>ä¸»é”®å­˜åœ¨</strong> â†’ æ‰§è¡Œæ›´æ–°</li><li><strong>ä¸»é”®ä¸å­˜åœ¨</strong> â†’ æ‰§è¡Œæ’å…¥</li></ul><h3 id=41-ä¸¤ç§æ¨¡å¼>4.1 ä¸¤ç§æ¨¡å¼</h3><div class=table-wrapper><table><thead><tr><th>æ¨¡å¼</th><th>å‚æ•°</th><th>è¡Œä¸º</th></tr></thead><tbody><tr><td>è¦†ç›–æ¨¡å¼</td><td><code>partial_update=False</code></td><td>å®Œå…¨æ›¿æ¢æ•´æ¡è®°å½•ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>åˆå¹¶æ¨¡å¼</td><td><code>partial_update=True</code></td><td>åªæ›´æ–°æŒ‡å®šå­—æ®µï¼Œå…¶ä½™å­—æ®µä¿æŒä¸å˜</td></tr></tbody></table></div><hr><h3 id=42-è¦†ç›–æ¨¡å¼partial_updatefalse>4.2 è¦†ç›–æ¨¡å¼ï¼ˆpartial_update=Falseï¼‰</h3><p>é€‚åˆéœ€è¦å®Œæ•´æ›¿æ¢è®°å½•çš„åœºæ™¯ï¼Œå¿…é¡»æä¾›æ‰€æœ‰å­—æ®µã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>new_record <span style=color:#f92672>=</span> [{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;id&#34;</span>: record_id,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;æ–°æ ‡é¢˜&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;category&#34;</span>: <span style=color:#e6db74>&#34;æ–°åˆ†ç±»&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>4.5</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;is_active&#34;</span>: <span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;tags&#34;</span>: [<span style=color:#e6db74>&#34;æ›´æ–°&#34;</span>, <span style=color:#e6db74>&#34;æµ‹è¯•&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;embedding&#34;</span>: [random<span style=color:#f92672>.</span>uniform(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>128</span>)]  <span style=color:#75715e># å‘é‡å­—æ®µå¿…é¡»æä¾›</span>
</span></span><span style=display:flex><span>}]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>upsert(
</span></span><span style=display:flex><span>    collection_name<span style=color:#f92672>=</span>collection_name,
</span></span><span style=display:flex><span>    data<span style=color:#f92672>=</span>new_record,
</span></span><span style=display:flex><span>    partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><hr><h3 id=43-åˆå¹¶æ¨¡å¼partial_updatetrue>4.3 åˆå¹¶æ¨¡å¼ï¼ˆpartial_update=Trueï¼‰</h3><p>åªæ›´æ–°æŒ‡å®šå­—æ®µï¼Œæœªæä¾›çš„å­—æ®µä¿æŒåŸå€¼ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># åªæ›´æ–°è¯„åˆ†å’Œæ´»è·ƒçŠ¶æ€ï¼Œå…¶ä»–å­—æ®µä¸å˜</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>,           <span style=color:#75715e># ä¸»é”®å¿…é¡»æä¾›</span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>2.0</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;is_active&#34;</span>: <span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;tags&#34;</span>: [<span style=color:#e6db74>&#34;åˆå¹¶&#34;</span>, <span style=color:#e6db74>&#34;æ›´æ–°&#34;</span>]
</span></span><span style=display:flex><span>}]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>result <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>upsert(
</span></span><span style=display:flex><span>    collection_name<span style=color:#f92672>=</span>collection_name,
</span></span><span style=display:flex><span>    data<span style=color:#f92672>=</span>update_data,
</span></span><span style=display:flex><span>    partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><hr><h3 id=44-upsert-å¸¸è§é”™è¯¯ä¸æ³¨æ„äº‹é¡¹>4.4 Upsert å¸¸è§é”™è¯¯ä¸æ³¨æ„äº‹é¡¹</h3><p><strong>1. ä¸»é”®å¿…é¡»æä¾›</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># âŒ é”™è¯¯ï¼šå¿˜è®°ä¸»é”®ï¼Œæ— æ³•å®šä½ç›®æ ‡è®°å½•</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># âœ… æ­£ç¡®ï¼šä¸»é”® + è¦æ›´æ–°çš„å­—æ®µ</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}]
</span></span></code></pre></div><p><strong>2. ä¸»é”®ç±»å‹å¿…é¡»ä¸ Schema ä¸€è‡´</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Schema å®šä¹‰ä¸»é”®ä¸º INT64</span>
</span></span><span style=display:flex><span><span style=color:#75715e># âŒ é”™è¯¯ï¼šä¼ å…¥å­—ç¬¦ä¸²ç±»å‹</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;1&#34;</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># âœ… æ­£ç¡®ï¼šä¼ å…¥æ•´æ•°ç±»å‹</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}]
</span></span></code></pre></div><p><strong>3. åˆå¹¶æ¨¡å¼ä¸æ”¯æŒ STRUCT ç±»å‹å­—æ®µ</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># âŒ åˆå¹¶æ¨¡å¼ä¸‹æ›´æ–° STRUCT å­—æ®µä¼šå¤±è´¥</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;details&#34;</span>: {<span style=color:#e6db74>&#34;author&#34;</span>: <span style=color:#e6db74>&#34;æ–°ä½œè€…&#34;</span>}}]  <span style=color:#75715e># details ä¸º STRUCT ç±»å‹</span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>upsert(collection_name, data<span style=color:#f92672>=</span>update_data, partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># âœ… æ”¹ç”¨è¦†ç›–æ¨¡å¼å¤„ç†å« STRUCT å­—æ®µçš„æ›´æ–°</span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>upsert(collection_name, data<span style=color:#f92672>=</span>full_record, partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span></code></pre></div><p><strong>4. æ•°æ®å¿…é¡»æ˜¯è¡Œæ ¼å¼ï¼ˆlist of dictï¼‰</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># âŒ é”™è¯¯ï¼šåˆ—æ ¼å¼æ•°æ®åœ¨åˆå¹¶æ¨¡å¼ä¸‹ä¼šå¤±è´¥</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;id&#34;</span>: [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], <span style=color:#e6db74>&#34;score&#34;</span>: [<span style=color:#ae81ff>4.0</span>, <span style=color:#ae81ff>5.0</span>]}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># âœ… æ­£ç¡®ï¼šè¡Œæ ¼å¼</span>
</span></span><span style=display:flex><span>update_data <span style=color:#f92672>=</span> [{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>4.0</span>}, {<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>2</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}]
</span></span></code></pre></div><p><strong>5. æ“ä½œå‰åå»ºè®®éªŒè¯ç»“æœ</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># æ›´æ–°å‰æŸ¥è¯¢åŸå§‹å€¼</span>
</span></span><span style=display:flex><span>before <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>query(collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id == 1&#34;</span>, output_fields<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;score&#34;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>upsert(collection_name, data<span style=color:#f92672>=</span>[{<span style=color:#e6db74>&#34;id&#34;</span>: <span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;score&#34;</span>: <span style=color:#ae81ff>5.0</span>}], partial_update<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ›´æ–°åæŸ¥è¯¢ç¡®è®¤</span>
</span></span><span style=display:flex><span>after <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>query(collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id == 1&#34;</span>, output_fields<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;score&#34;</span>])
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;score: </span><span style=color:#e6db74>{</span>before[<span style=color:#ae81ff>0</span>][<span style=color:#e6db74>&#39;score&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> â†’ </span><span style=color:#e6db74>{</span>after[<span style=color:#ae81ff>0</span>][<span style=color:#e6db74>&#39;score&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=45-upsert-æ¨¡å¼é€‰æ‹©æŒ‡å—>4.5 Upsert æ¨¡å¼é€‰æ‹©æŒ‡å—</h3><div class=table-wrapper><table><thead><tr><th>æ“ä½œåœºæ™¯</th><th>æ¨èæ¨¡å¼</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>å®Œæ•´è®°å½•æ›´æ–°</td><td>è¦†ç›–æ¨¡å¼</td><td>å¿…é¡»æä¾›æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬å‘é‡</td></tr><tr><td>éƒ¨åˆ†å­—æ®µä¿®æ”¹</td><td>åˆå¹¶æ¨¡å¼</td><td>é¿å…æ›´æ–° STRUCT ç±»å‹å­—æ®µ</td></tr><tr><td>æ–°è®°å½•åˆ›å»º</td><td>è¦†ç›–æ¨¡å¼</td><td>ä½¿ç”¨æ–°ä¸»é”®å€¼å³å¯è‡ªåŠ¨æ’å…¥</td></tr><tr><td>å¤æ‚åµŒå¥—ç»“æ„</td><td>è¦†ç›–æ¨¡å¼</td><td>å¤æ‚ç»“æ„ä¸é€‚åˆåˆå¹¶æ¨¡å¼</td></tr></tbody></table></div><hr><h2 id=äº”åˆ é™¤å®ä½“-delete>äº”ã€åˆ é™¤å®ä½“ Delete</h2><h3 id=51-åŸºæœ¬è¯­æ³•>5.1 åŸºæœ¬è¯­æ³•</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>result <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>delete(
</span></span><span style=display:flex><span>    collection_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;your_collection&#34;</span>,
</span></span><span style=display:flex><span>    filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;è¿‡æ»¤è¡¨è¾¾å¼&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;åˆ é™¤è®°å½•æ•°: </span><span style=color:#e6db74>{</span>result<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;delete_count&#39;</span>, <span style=color:#ae81ff>0</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span></code></pre></div><h3 id=52-ä¸‰ç§åˆ é™¤æ–¹å¼>5.2 ä¸‰ç§åˆ é™¤æ–¹å¼</h3><h4 id=521-å•æ¡åˆ é™¤>5.2.1 å•æ¡åˆ é™¤</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>delete(collection_name<span style=color:#f92672>=</span>collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id == 1&#34;</span>)
</span></span></code></pre></div><h4 id=522-æ‰¹é‡åˆ é™¤>5.2.2 æ‰¹é‡åˆ é™¤</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>client<span style=color:#f92672>.</span>delete(collection_name<span style=color:#f92672>=</span>collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;id in [2, 3, 4]&#34;</span>)
</span></span></code></pre></div><h4 id=523-æ¡ä»¶åˆ é™¤>5.2.3 æ¡ä»¶åˆ é™¤</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># åˆ é™¤è¯„åˆ†ä½äº 3.0 çš„è®°å½•</span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>delete(collection_name<span style=color:#f92672>=</span>collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;score &lt; 3.0&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ç»„åˆæ¡ä»¶</span>
</span></span><span style=display:flex><span>client<span style=color:#f92672>.</span>delete(collection_name<span style=color:#f92672>=</span>collection_name, filter<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;score &lt; 3.0 and is_active == false&#34;</span>)
</span></span></code></pre></div><h3 id=53-å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼>5.3 å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼</h3><div class=table-wrapper><table><thead><tr><th>åœºæ™¯</th><th>è¡¨è¾¾å¼ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ç²¾ç¡®åŒ¹é…å•ä¸ª ID</td><td><code>"id == 1"</code></td></tr><tr><td>åŒ¹é…å¤šä¸ª ID</td><td><code>"id in [1, 2, 3]"</code></td></tr><tr><td>æ•°å€¼æ¯”è¾ƒ</td><td><code>"score &lt; 3.0"</code></td></tr><tr><td>å­—ç¬¦ä¸²åŒ¹é…</td><td><code>"category == 'æŠ€æœ¯'"</code></td></tr><tr><td>å¸ƒå°”å­—æ®µ</td><td><code>"is_active == false"</code></td></tr><tr><td>ç»„åˆæ¡ä»¶</td><td><code>"score &lt; 3.0 and is_active == false"</code></td></tr></tbody></table></div><h3 id=54-æ³¨æ„äº‹é¡¹>5.4 æ³¨æ„äº‹é¡¹</h3><ul><li>åˆ é™¤æ“ä½œä¸å¯å›æ»šï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®å…ˆ <code>query</code> ç¡®è®¤å½±å“èŒƒå›´å†æ‰§è¡Œ</li><li>å¤§æ‰¹é‡åˆ é™¤å»ºè®®åˆ†æ‰¹æ‰§è¡Œï¼Œé¿å…å½±å“é›†ç¾¤æ€§èƒ½</li><li>åˆ é™¤åæ•°æ®å¼‚æ­¥æ¸…ç†ï¼Œ<code>get_collection_stats</code> çš„ç»Ÿè®¡æ•°å­—å¯èƒ½æœ‰çŸ­æš‚å»¶è¿Ÿ</li></ul><hr><h2 id=å…­æ“ä½œå¯¹æ¯”æ€»ç»“>å…­ã€æ“ä½œå¯¹æ¯”æ€»ç»“</h2><div class=table-wrapper><table><thead><tr><th>æ“ä½œ</th><th>æ–¹æ³•</th><th>ä¸»é”®å­˜åœ¨æ—¶</th><th>ä¸»é”®ä¸å­˜åœ¨æ—¶</th><th>å¿…é¡»æä¾›æ‰€æœ‰å­—æ®µ</th></tr></thead><tbody><tr><td><code>insert</code></td><td><code>client.insert()</code></td><td>æŠ¥é”™/é‡å¤</td><td>æ’å…¥æ–°è®°å½•</td><td>âœ… æ˜¯</td></tr><tr><td><code>upsert</code>ï¼ˆè¦†ç›–ï¼‰</td><td><code>client.upsert(partial_update=False)</code></td><td>å®Œå…¨è¦†ç›–</td><td>æ’å…¥æ–°è®°å½•</td><td>âœ… æ˜¯</td></tr><tr><td><code>upsert</code>ï¼ˆåˆå¹¶ï¼‰</td><td><code>client.upsert(partial_update=True)</code></td><td>éƒ¨åˆ†æ›´æ–°</td><td>æ’å…¥æ–°è®°å½•</td><td>âŒ åªéœ€æä¾›è¦æ”¹çš„å­—æ®µ</td></tr><tr><td><code>delete</code></td><td><code>client.delete()</code></td><td>åˆ é™¤è®°å½•</td><td>æ— æ“ä½œ</td><td>â€”</td></tr></tbody></table></div></section><footer class=article-footer><section class=article-tags><a href=/tags/milvus/>Milvus</a>
<a href=/tags/%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C/>æ•°æ®æ“ä½œ</a>
<a href=/tags/%E5%AE%9E%E4%BD%93%E7%AE%A1%E7%90%86/>å®ä½“ç®¡ç†</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>ç›¸å…³æ–‡ç« </h2><div class=related-content><div class="flex article-list--tile"><article><a href=/stu/milvus-index-explained/><div class=article-details><h2 class=article-title>Milvus ç´¢å¼•è¯¦è§£ - å‘é‡æœç´¢æ€§èƒ½ä¼˜åŒ–æŒ‡å—</h2></div></a></article><article><a href=/stu/milvus-collection-operations/><div class=article-details><h2 class=article-title>Milvus é›†åˆæ“ä½œè¯¦è§£</h2></div></a></article><article><a href=/stu/milvus-stu-schema/><div class=article-details><h2 class=article-title>Milvus Schemaæ¨¡å¼è¯¦è§£ - å­—æ®µç±»å‹ä¸æ•°æ®å»ºæ¨¡æŒ‡å—</h2></div></a></article><article><a href=/stu/milvus-stu-db/><div class=article-details><h2 class=article-title>Milvusæ•°æ®åº“æ“ä½œ</h2></div></a></article><article><a href=/stu/milvus-install-guide/><div class=article-details><h2 class=article-title>Milvus Standalone æ¨¡å¼å®‰è£…å®Œæ•´æŒ‡å—åŠå¸¸è§é—®é¢˜è§£å†³</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=zg-dd/zg-dd.github.io data-repo-id=R_kgDOQwB7tw data-category=Announcements data-category-id=DIC_kwDOQwB7t84C0WGD data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2026 å°å··çš„éšç¬”</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>