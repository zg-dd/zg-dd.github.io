[{"content":"å¤šç§Ÿæˆ·æ¶æ„å…¥é—¨æŒ‡å—ï¼šå°ç™½å¦‚ä½•å¿«é€Ÿææ‡‚ SaaS ç³»ç»Ÿçš„å…±äº«æœºåˆ¶\rå¤šç§Ÿæˆ·ï¼ˆMulti-Tenancyï¼‰æ˜¯ç°ä»£ SaaS ç³»ç»Ÿä¸­æœ€å¸¸è§ä¸”æœ€é‡è¦çš„æ¶æ„æ¨¡å¼ä¹‹ä¸€ã€‚è®¸å¤šåˆå­¦è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¼šæ„Ÿåˆ°æ¦‚å¿µæŠ½è±¡ã€å®ç°æ–¹å¼éš¾ä»¥æŠŠæ¡ã€‚æœ¬æ–‡ä»é›¶åŸºç¡€è§†è§’å‡ºå‘ï¼Œä»¥æ¸…æ™°çš„ç»“æ„ã€é€šä¿—çš„è¯­è¨€å’Œç®€æ˜è¯´æ˜ï¼Œå¸®åŠ©è¯»è€…å¿«é€Ÿå»ºç«‹å¯¹å¤šç§Ÿæˆ·çš„æ•´ä½“è®¤çŸ¥ã€‚\n1. ä»€ä¹ˆæ˜¯å¤šç§Ÿæˆ·ï¼Ÿå®ƒåˆ°åº•æ˜¯æ¶æ„è¿˜æ˜¯æ€ç»´æ–¹å¼ï¼Ÿ\rå®˜æ–¹å®šä¹‰\nå¤šç§Ÿæˆ·æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼ŒæŒ‡å•ä¸€çš„è½¯ä»¶å®ä¾‹ï¼ˆæˆ–åŸºç¡€è®¾æ–½ï¼‰èƒ½å¤ŸåŒæ—¶ä¸ºå¤šä¸ªç‹¬ç«‹çš„ç§Ÿæˆ·ï¼ˆTenantï¼Œé€šå¸¸æŒ‡ä¸åŒçš„å®¢æˆ·ã€ä¼ä¸šã€ç»„ç»‡ï¼‰æä¾›æœåŠ¡ï¼ŒåŒæ—¶é€šè¿‡æŠ€æœ¯æ‰‹æ®µä¿è¯æ•°æ®éš”ç¦»ã€å®‰å…¨æ€§ã€éšç§åˆè§„ä»¥åŠèµ„æºçš„é«˜æ•ˆåˆ©ç”¨ã€‚\né€šä¿—ç†è§£\nå¯ä»¥å°†å¤šç§Ÿæˆ·æƒ³è±¡ä¸ºä¸€æ ‹å¤§å‹å…±äº«å…¬å¯“å¤§æ¥¼ï¼š\nå¤§æ¥¼çš„åŸºç¡€è®¾æ–½ï¼ˆç”µæ¢¯ã€æ°´ç”µã€å¤§å ‚ã€æ¶ˆé˜²ç³»ç»Ÿï¼‰ç”±æ‰€æœ‰ä½æˆ·å…±åŒä½¿ç”¨ ä½†æ¯ä½ä½æˆ·æ‹¥æœ‰ç‹¬ç«‹çš„æˆ¿é—´ï¼Œæˆ¿é—¨ä¸Šé”ï¼Œå†…éƒ¨ç‰©å“ä¸ä»–äººå®Œå…¨éš”ç¦» è¿™ç§æ–¹å¼æ— éœ€ä¸ºæ¯æˆ·å•ç‹¬å»ºé€ ä¸€æ ‹åˆ«å¢…ï¼Œå°±èƒ½è®©å¤šå®¶ä½æˆ·å…±åŒå±…ä½ï¼Œæ—¢èŠ‚çº¦æˆæœ¬åˆä¾¿äºç®¡ç† å¤šç§Ÿæˆ·æ­£æ˜¯åŸºäºåŒæ ·çš„æ€è·¯ï¼šä¸€å¥—è½¯ä»¶ç³»ç»ŸåŒæ—¶æœåŠ¡å¤šå®¶å…¬å¸ï¼Œä½†æ¯å®¶å…¬å¸çš„æ•°æ®ä¸æ“ä½œåœ¨é€»è¾‘ä¸Šå®Œå…¨éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ã€‚\nå®ƒä¸æ˜¯ä¸€ç§æŠ½è±¡çš„æ€ç»´æ–¹å¼ï¼Œè€Œæ˜¯ä¸€ç§å…·ä½“çš„ã€å¯è½åœ°çš„ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆã€‚\ngraph TD\rA[å…±äº«åŸºç¡€è®¾æ–½\u0026lt;br\u0026gt;æœåŠ¡å™¨ / ä»£ç  / åŸºç¡€æœåŠ¡] --\u0026gt; B[ç§Ÿæˆ· A\u0026lt;br\u0026gt;ç‹¬ç«‹æ•°æ®ä¸ä¸Šä¸‹æ–‡]\rA --\u0026gt; C[ç§Ÿæˆ· B\u0026lt;br\u0026gt;ç‹¬ç«‹æ•°æ®ä¸ä¸Šä¸‹æ–‡]\rA --\u0026gt; D[ç§Ÿæˆ· C\u0026lt;br\u0026gt;ç‹¬ç«‹æ•°æ®ä¸ä¸Šä¸‹æ–‡]\rclassDef shared fill:#e6f3ff,stroke:#0066cc,stroke-width:2px\rclassDef tenant fill:#fff3e6,stroke:#cc6600,stroke-width:2px\rclass A shared\rclass B,C,D tenant\r2. å¤šç§Ÿæˆ·åœ¨å®é™…é¡¹ç›®ä¸­æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ\rå¤šç§Ÿæˆ·å®ç°çš„æ ¸å¿ƒåœ¨äºéš”ç¦»ï¼Œå…¶ä¸­æœ€å…³é”®çš„éƒ¨åˆ†é€šå¸¸æ˜¯æ•°æ®åº“éš”ç¦»ï¼Œå…¶æ¬¡æ˜¯åº”ç”¨å±‚ä¸Šä¸‹æ–‡ç®¡ç†ä¸åŸºç¡€è®¾æ–½éš”ç¦»ã€‚\næ•°æ®åº“éš”ç¦»çš„ä¸‰ç§ä¸»æµæ¨¡å¼\rç‰¹ç‚¹å¯¹æ¯”è¡¨\næ–¹å¼ éš”ç¦»å¼ºåº¦ èµ„æºæˆæœ¬ ç®¡ç†å¤æ‚åº¦ å…¸å‹é€‚ç”¨åœºæ™¯ ç‹¬ç«‹æ•°æ®åº“ï¼ˆæ¯ç§Ÿæˆ·ä¸€ä¸ªåº“ï¼‰ â˜…â˜…â˜…â˜…â˜… é«˜ é«˜ é«˜åˆè§„è¦æ±‚ã€é‡‘èã€åŒ»ç–—ã€å¤§å®¢æˆ· å…±äº«æ•°æ®åº“ + ç‹¬ç«‹ Schema â˜…â˜…â˜…â˜…â˜† ä¸­ ä¸­ ä¸­å¤§å‹ SaaSï¼Œå‡ ç™¾è‡³æ•°åƒç§Ÿæˆ· å…±äº«æ•°æ®åº“ + å…±äº« Schema + è¡Œçº§éš”ç¦» â˜…â˜…â˜…â˜†â˜† ä½ ä½ å¤§è§„æ¨¡æ¶ˆè´¹çº§ SaaSï¼Œä¸‡çº§ä»¥ä¸Šç§Ÿæˆ· é€šä¿—æ¯”å–»\nç‹¬ç«‹æ•°æ®åº“ â†’ æ¯å®¶å…¬å¸ç§Ÿä¸€æ•´å±‚æ¥¼ ç‹¬ç«‹ Schema â†’ æ¯å®¶å…¬å¸ç§ŸåŒä¸€å±‚æ¥¼ä¸­çš„ç‹¬ç«‹å¥—æˆ¿ è¡Œçº§éš”ç¦» â†’ å¤§å®¶å…±ç”¨ä¸€ä¸ªå¤§ç©ºé—´ï¼Œä½†æ¯å¼ åºŠä½è´´æœ‰æ˜ç¡®æ ‡è¯†å¹¶æœ‰ä¸¥æ ¼ç®¡æ§ graph LR\rA[æ•°æ®åº“éš”ç¦»æ–¹å¼] --\u0026gt; B[ç‹¬ç«‹æ•°æ®åº“\u0026lt;br\u0026gt;æ¯ç§Ÿæˆ·ä¸€ä¸ªç‰©ç†åº“]\rA --\u0026gt; C[å…±äº«æ•°æ®åº“ + ç‹¬ç«‹ Schema\u0026lt;br\u0026gt;é€»è¾‘å‘½åç©ºé—´éš”ç¦»]\rA --\u0026gt; D[å…±äº«æ•°æ®åº“ + å…±äº« Schema\u0026lt;br\u0026gt;è¡Œçº§éš”ç¦» tenant_id]\rB --\u0026gt;|éš”ç¦»æœ€å¼º| E[æœ€é«˜åˆè§„éœ€æ±‚\u0026lt;br\u0026gt;é‡‘è/åŒ»ç–—/å¤§å®¢æˆ·]\rC --\u0026gt;|å¹³è¡¡æ–¹æ¡ˆ| F[ä¸­å¤§å‹ SaaS\u0026lt;br\u0026gt;æ•°ç™¾~æ•°åƒç§Ÿæˆ·]\rD --\u0026gt;|æˆæœ¬æœ€ä½| G[å¤§è§„æ¨¡æ¶ˆè´¹çº§ SaaS\u0026lt;br\u0026gt;ä¸‡çº§ä»¥ä¸Šç§Ÿæˆ·]\rclassDef high fill:#ffcccc,stroke:#990000\rclassDef medium fill:#ffffcc,stroke:#996600\rclassDef low fill:#ccffcc,stroke:#006600\rclass B high\rclass C medium\rclass D low\r3. å¤šç§Ÿæˆ·ä¸è§’è‰²æƒé™ï¼ˆRBACï¼‰æœ‰ä½•åŒºåˆ«ï¼Ÿ\rå¤šç§Ÿæˆ·å’Œè§’è‰²æƒé™ï¼ˆRBACï¼‰æ˜¯ä¸¤ä¸ªä¸åŒå±‚é¢çš„æ¦‚å¿µï¼Œç»å¸¸è¢«æ··æ·†ã€‚\næ ¸å¿ƒåŒºåˆ«å¯¹æ¯”\nç»´åº¦ å¤šç§Ÿæˆ· è§’è‰²æƒé™ï¼ˆRBACï¼‰ è§£å†³çš„é—®é¢˜ å¤šå®¶å…¬å¸å…±ç”¨ä¸€å¥—ç³»ç»Ÿï¼Œæ•°æ®éœ€éš”ç¦» åŒä¸€å®¶å…¬å¸å†…éƒ¨ï¼Œä¸åŒäººæƒé™ä¸åŒ éš”ç¦»çš„å¯¹è±¡ å…¬å¸ vs å…¬å¸ äºº vs äººï¼ˆåŒä¸€å…¬å¸å†…ï¼‰ æ‰€å±å±‚çº§ æ¶æ„å±‚ã€ç³»ç»Ÿè¾¹ç•Œ æƒé™æ¨¡å—ã€åŠŸèƒ½å±‚ é…ç½®ä¸»ä½“ é€šå¸¸ç”±å¹³å°æ–¹ï¼ˆSaaS å‚å•†ï¼‰è´Ÿè´£ é€šå¸¸ç”±å®¢æˆ·ï¼ˆç§Ÿæˆ·ç®¡ç†å‘˜ï¼‰è‡ªè¡Œé…ç½® ä¸€å¥è¯æ€»ç»“\nå¤šç§Ÿæˆ·å†³å®šâ€œå‡ å®¶å…¬å¸åˆç§Ÿä¸€æ ‹å¤§æ¥¼â€ï¼Œè§’è‰²æƒé™å†³å®šâ€œä¸€å®¶å…¬å¸å†…éƒ¨è°æŒæœ‰å“ªæŠŠé’¥åŒ™â€ã€‚\ngraph TD\rA[æ•´ä¸ªç³»ç»Ÿ] --\u0026gt; B[å¤šç§Ÿæˆ·å±‚\u0026lt;br\u0026gt;å…¬å¸ / ç»„ç»‡è¾¹ç•Œéš”ç¦»]\rB --\u0026gt; C[ç§Ÿæˆ·å†…éƒ¨\u0026lt;br\u0026gt;RBAC æƒé™æ§åˆ¶]\rsubgraph ç§Ÿæˆ·è¾¹ç•Œ\rC --\u0026gt; D[è§’è‰²ï¼šç®¡ç†å‘˜]\rC --\u0026gt; E[è§’è‰²ï¼šæ™®é€šå‘˜å·¥]\rC --\u0026gt; F[è§’è‰²ï¼šè´¢åŠ¡äººå‘˜]\rend\rclassDef boundary fill:#f0f8ff,stroke:#4682b4,stroke-width:2px\rclassDef rbac fill:#fffacd,stroke:#dAA520,stroke-width:2px\rclass B boundary\rclass C,D,E,F rbac\r4. å®¢æˆ·ä¸ªæ€§åŒ–éœ€æ±‚ä¼šè®©å¤šç§Ÿæˆ·å˜å¾—éå¸¸å¤æ‚å—ï¼Ÿ\rä¸ªæ€§åŒ–éœ€æ±‚ç¡®å®æ˜¯å¤šç§Ÿæˆ·è½åœ°ä¸­æœ€å¸¸è§çš„æŒ‘æˆ˜ä¹‹ä¸€ã€‚\nå®šåˆ¶åŒ–å¤æ‚åº¦å±‚çº§ï¼ˆç”±ä½åˆ°é«˜ï¼‰\nå¤–è§‚ä¸å“ç‰Œï¼ˆLogoã€ä¸»é¢˜è‰²ã€æ–‡æ¡ˆã€ç™»å½•é¡µï¼‰ å­—æ®µä¸è¡¨å•ï¼ˆå¢åˆ å­—æ®µã€æ˜¾éšè§„åˆ™ã€æ ¡éªŒè§„åˆ™ï¼‰ æµç¨‹ä¸è§„åˆ™ï¼ˆå®¡æ‰¹æµã€çŠ¶æ€æœºã€è®¡ç®—å…¬å¼ï¼‰ ä¸šåŠ¡é€»è¾‘åˆ†å‰ï¼ˆç­–ç•¥æ¨¡å¼ã€Hookã€æ’ä»¶ï¼‰ å…¨æ–°æ¨¡å—æˆ–å®Œå…¨ä¸åŒçš„ä¸šåŠ¡æ¨¡å‹ï¼ˆå¾®æœåŠ¡ã€ç‹¬ç«‹éƒ¨ç½²ï¼‰ å¤„ç†åŸåˆ™\nä¼˜å…ˆä½¿ç”¨é…ç½®è§£å†³ æ¬¡ä¹‹ä½¿ç”¨è§„åˆ™å¼•æ“æˆ–å¯ç¼–è¾‘è§„åˆ™ å°½é‡é¿å…ç¡¬ç¼–ç ï¼Œæ”¹ä¸ºç­–ç•¥æ¨¡å¼æˆ–æ’ä»¶æœºåˆ¶ æå°‘æ•°æç«¯å®šåˆ¶åœºæ™¯å¯é‡‡ç”¨æ··åˆéƒ¨ç½²æˆ–ç‹¬ç«‹éƒ¨ç½² 5. ç»“è¯­ä¸å­¦ä¹ å»ºè®®\rå¤šç§Ÿæˆ·çš„æ ¸å¿ƒä»·å€¼å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼šä»¥æœ€å°‘çš„èµ„æºæŠ•å…¥ï¼Œå®‰å…¨ã€é«˜æ•ˆåœ°æœåŠ¡å°½å¯èƒ½å¤šçš„ç‹¬ç«‹å®¢æˆ·ã€‚\n","date":"2026-02-04T08:35:21+08:00","permalink":"https://zg-dd.github.io/stu/multi-tenancy-guide/","title":"å¤šç§Ÿæˆ·æ¶æ„å…¥é—¨æŒ‡å—ï¼šå°ç™½å¦‚ä½•å¿«é€Ÿææ‡‚ SaaS ç³»ç»Ÿçš„å…±äº«æœºåˆ¶"},{"content":"æ¦‚è¿°\rDelveï¼ˆç®€ç§° dlvï¼‰æ˜¯ Go è¯­è¨€çš„å®˜æ–¹è°ƒè¯•å™¨ï¼Œä¸“é—¨ä¸º Go çš„å¹¶å‘æ¨¡å‹å’Œè¿è¡Œæ—¶ç‰¹æ€§è®¾è®¡ã€‚å®ƒæ˜¯ç›®å‰ Go ç”Ÿæ€ä¸­æœ€ä¸»æµã€åŠŸèƒ½æœ€å¼ºå¤§çš„è°ƒè¯•å·¥å…·ã€‚\nå®‰è£…\ræ¨èå®‰è£…æ–¹å¼\rä½¿ç”¨ Go Module æ¨¡å¼å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š\ngo install github.com/go-delve/delve/cmd/dlv@latest éªŒè¯å®‰è£…\rå®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š\ndlv version å¦‚æœ $GOPATH/bin ä¸åœ¨ä½ çš„ PATH ç¯å¢ƒå˜é‡ä¸­ï¼Œéœ€è¦å°†å…¶åŠ å…¥ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š\n~/go/bin/dlv version æ ¸å¿ƒåŠŸèƒ½\rDelve æä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š\nè®¾ç½®æ–­ç‚¹ï¼šåœ¨ç‰¹å®šè¡Œã€å‡½æ•°åå¤„æš‚åœç¨‹åºæ‰§è¡Œ å•æ­¥æ‰§è¡Œï¼šé€è¡Œæˆ–è¿›å…¥å‡½æ•°å†…éƒ¨æ‰§è¡Œä»£ç  å˜é‡æŸ¥çœ‹ï¼šæ‰“å°å˜é‡å€¼ã€æ£€æŸ¥å¤æ‚æ•°æ®ç»“æ„ Goroutine ç®¡ç†ï¼šæŸ¥çœ‹æ‰€æœ‰ Goroutineï¼Œåœ¨ç‰¹å®š Goroutine ä¸Šä¸‹æ–‡ä¸­è°ƒè¯• è¿è¡Œæ—¶ä¿®æ”¹å˜é‡ï¼šåŠ¨æ€æ”¹å˜å˜é‡å€¼è¿›è¡Œæµ‹è¯• è°ƒç”¨æ ˆæŸ¥çœ‹ï¼šäº†è§£ç¨‹åºæ‰§è¡Œè·¯å¾„ åŸºæœ¬ç”¨æ³•\rç¤ºä¾‹ä»£ç \råˆ›å»ºæµ‹è¯•æ–‡ä»¶ main.goï¼š\npackage main import \u0026#34;fmt\u0026#34; func main() { message := \u0026#34;Hello, Delve!\u0026#34; fmt.Println(message) result := add(23, 19) fmt.Printf(\u0026#34;Result: %d\\n\u0026#34;, result) } func add(a, b int) int { sum := a + b return sum } å¯åŠ¨è°ƒè¯•ä¼šè¯\ræ¨¡å¼1ï¼šç›´æ¥è°ƒè¯•æºä»£ç \rdlv debug main.go æ¨¡å¼2ï¼šè°ƒè¯•å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶\rgo build -o myapp main.go dlv exec ./myapp æ¨¡å¼3ï¼šé™„åŠ åˆ°è¿è¡Œä¸­çš„è¿›ç¨‹\r# ç¼–è¯‘å¹¶å¯åŠ¨ç¨‹åº go build -gcflags=\u0026#34;all=-N -l\u0026#34; -o myapp main.go ./myapp \u0026amp; # è·å–è¿›ç¨‹IDå¹¶é™„åŠ  PID=$! dlv attach $PID å¸¸ç”¨è°ƒè¯•å‘½ä»¤\ræ–­ç‚¹ç®¡ç†\rå‘½ä»¤ ç¼©å†™ åŠŸèƒ½ break main.main b main.main åœ¨ main å‡½æ•°è®¾æ–­ç‚¹ break main.go:10 b main.go:10 åœ¨ç¬¬10è¡Œè®¾æ–­ç‚¹ breakpoints bp åˆ—å‡ºæ‰€æœ‰æ–­ç‚¹ clear 1 - åˆ é™¤IDä¸º1çš„æ–­ç‚¹ clearall - åˆ é™¤æ‰€æœ‰æ–­ç‚¹ ç¨‹åºæ‰§è¡Œæ§åˆ¶\rå‘½ä»¤ ç¼©å†™ åŠŸèƒ½ continue c ç»§ç»­æ‰§è¡Œç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ next n æ‰§è¡Œå½“å‰è¡Œï¼Œä¸è¿›å…¥å‡½æ•° step s æ‰§è¡Œå½“å‰è¡Œï¼Œè¿›å…¥å‡½æ•°å†…éƒ¨ stepout so æ‰§è¡Œå®Œå½“å‰å‡½æ•°ï¼Œè¿”å›è°ƒç”¨è€… restart r é‡æ–°è¿è¡Œç¨‹åº å˜é‡å’Œè¡¨è¾¾å¼æŸ¥çœ‹\rå‘½ä»¤ ç¼©å†™ åŠŸèƒ½ print message p message æ‰“å°å˜é‡å€¼ locals - æ‰“å°å½“å‰å‡½æ•°æ‰€æœ‰å±€éƒ¨å˜é‡ args - æ‰“å°å½“å‰å‡½æ•°å‚æ•° å…¶ä»–å®ç”¨å‘½ä»¤\rå‘½ä»¤ ç¼©å†™ åŠŸèƒ½ stack bt æ‰“å°è°ƒç”¨æ ˆ goroutines - åˆ—å‡ºæ‰€æœ‰ Goroutine goroutine 1 g 1 åˆ‡æ¢åˆ°æŒ‡å®š Goroutine exit q é€€å‡ºè°ƒè¯•å™¨ å®Œæ•´è°ƒè¯•ä¼šè¯ç¤ºä¾‹\r$ dlv debug main.go Type \u0026#39;help\u0026#39; for list of commands. # è®¾ç½®æ–­ç‚¹ (dlv) b main.main Breakpoint 1 set at 0x... for main.main() ./main.go:5 (dlv) b main.go:11 Breakpoint 2 set at 0x... for main.main() ./main.go:11 # å¼€å§‹æ‰§è¡Œ (dlv) c \u0026gt; main.main() ./main.go:5 (hits goroutine(1):1 total:1) (PC: 0x...) 1: package main 2: 3: import \u0026#34;fmt\u0026#34; 4: =\u0026gt; 5: func main() { 6: message := \u0026#34;Hello, Delve!\u0026#34; 7: fmt.Println(message) 8: result := add(23, 19) 9: fmt.Printf(\u0026#34;Result: %d\\n\u0026#34;, result) 10: } # å•æ­¥æ‰§è¡Œ (dlv) n \u0026gt; main.main() ./main.go:6 (PC: 0x...) 5: func main() { =\u0026gt; 6: message := \u0026#34;Hello, Delve!\u0026#34; 7: fmt.Println(message) 8: result := add(23, 19) 9: fmt.Printf(\u0026#34;Result: %d\\n\u0026#34;, result) 10: } # æŸ¥çœ‹å˜é‡ (dlv) p message \u0026#34;\u0026#34; (dlv) n \u0026gt; main.main() ./main.go:7 (PC: 0x...) (dlv) p message \u0026#34;Hello, Delve!\u0026#34; # æ­¥å…¥å‡½æ•° (dlv) s \u0026gt; fmt.Println(...) # æ­¥å‡ºå‡½æ•° (dlv) so Hello, Delve! \u0026gt; main.main() ./main.go:8 (PC: 0x...) # ç»§ç»­æ‰§è¡Œ (dlv) c Result: 42 \u0026gt; main.main() ./main.go:11 (hits goroutine(1):1 total:1) (PC: 0x...) (dlv) p result 42 # é€€å‡º (dlv) q é«˜çº§åŠŸèƒ½\ræ¡ä»¶æ–­ç‚¹\rè®¾ç½®åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘çš„æ–­ç‚¹ï¼š\n# å½“ i == 5 æ—¶æ‰åœ¨ç¬¬10è¡Œæš‚åœ (dlv) b main.go:10 Breakpoint 1 set at main.go:10 (dlv) cond 1 i == 5 è°ƒè¯•æµ‹è¯•ä»£ç \rDelve å¯ä»¥ç›´æ¥è°ƒè¯•æµ‹è¯•ç”¨ä¾‹ï¼š\ndlv test main_test.go åœ¨æµ‹è¯•å‡½æ•°ä¸Šè®¾ç½®æ–­ç‚¹ï¼š\n(dlv) b TestMyFunction ä¼ é€’å‘½ä»¤è¡Œå‚æ•°\rå¦‚æœç¨‹åºéœ€è¦å‘½ä»¤è¡Œå‚æ•°ï¼š\ndlv debug -- arg1 arg2 # æˆ– dlv exec ./myapp -- arg1 arg2 Goroutine è°ƒè¯•\rè°ƒè¯•å¹¶å‘ç¨‹åºæ—¶çš„ Goroutine æ“ä½œï¼š\n# æŸ¥çœ‹æ‰€æœ‰ Goroutine (dlv) goroutines # åˆ‡æ¢åˆ°ç‰¹å®š Goroutine (dlv) goroutine 5 # åœ¨å½“å‰ Goroutine ä¸Šä¸‹æ–‡ä¸­æŸ¥çœ‹å˜é‡ (dlv) p localVar å®ç”¨æŠ€å·§\r1. ç”Ÿäº§ç¯å¢ƒè°ƒè¯•\rå¯¹äºç”Ÿäº§ç¯å¢ƒç¨‹åºï¼Œç¼–è¯‘æ—¶ç¦ç”¨ä¼˜åŒ–ï¼š\ngo build -gcflags=\u0026#34;all=-N -l\u0026#34; -o myapp main.go 2. æ€§èƒ½è€ƒè™‘\rè°ƒè¯•ç‰ˆæœ¬ç¨‹åºè¿è¡Œè¾ƒæ…¢ï¼Œä»…ç”¨äºè°ƒè¯•ç›®çš„ ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ ‡å‡†ç¼–è¯‘é€‰é¡¹ 3. IDE é›†æˆ\rVS Codeï¼šå®‰è£… Go æ‰©å±•ï¼Œä½¿ç”¨å†…ç½®è°ƒè¯•ç•Œé¢ Golandï¼šåŸç”Ÿæ”¯æŒ Delveï¼Œæä¾›å›¾å½¢åŒ–è°ƒè¯•ç•Œé¢ æŒæ¡å‘½ä»¤è¡Œæ“ä½œæœ‰åŠ©äºç†è§£ IDE è°ƒè¯•è¿‡ç¨‹ 4. å¸¸è§é—®é¢˜æ’æŸ¥\ré—®é¢˜ï¼šæ–­ç‚¹æ— æ³•å‘½ä¸­\næ£€æŸ¥ä»£ç ä¼˜åŒ–é€‰é¡¹ï¼Œç¡®ä¿ä½¿ç”¨ -gcflags=\u0026quot;all=-N -l\u0026quot; ç¡®è®¤æ–­ç‚¹è®¾ç½®åœ¨æ­£ç¡®çš„è¡Œå·å’Œå‡½æ•° é—®é¢˜ï¼šå˜é‡æ˜¾ç¤ºä¼˜åŒ–å€¼\nç”±äºç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œå˜é‡å€¼å¯èƒ½æ˜¾ç¤ºä¸å‡†ç¡® ä½¿ç”¨ç¦ç”¨ä¼˜åŒ–çš„æ–¹å¼ç¼–è¯‘è°ƒè¯•ç‰ˆæœ¬ æ€»ç»“\rDelve æ˜¯ Go å¼€å‘è€…å¿…å¤‡çš„è°ƒè¯•å·¥å…·ï¼Œé€šè¿‡ç†Ÿç»ƒæŒæ¡å…¶ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥ï¼š\nå¿«é€Ÿå®šä½é—®é¢˜ï¼šé€šè¿‡æ–­ç‚¹å’Œå•æ­¥æ‰§è¡Œç²¾å‡†å®šä½ bug æ·±å…¥ç†è§£ä»£ç ï¼šè§‚å¯Ÿå˜é‡å˜åŒ–å’Œç¨‹åºæ‰§è¡Œæµç¨‹ è°ƒè¯•å¹¶å‘ç¨‹åºï¼šç®¡ç† Goroutine å’Œæ’æŸ¥å¹¶å‘é—®é¢˜ æé«˜å¼€å‘æ•ˆç‡ï¼šå‡å°‘è°ƒè¯•æ—¶é—´ï¼Œå¢åŠ å¼€å‘ä¿¡å¿ƒ å»ºè®®ä»ç®€å•ç¨‹åºå¼€å§‹ç»ƒä¹ ï¼Œé€æ­¥ç†Ÿæ‚‰å„ç§å‘½ä»¤å’Œåœºæ™¯ï¼Œæœ€ç»ˆèƒ½å¤Ÿç†Ÿç»ƒè¿ç”¨ Delve è§£å†³å¤æ‚çš„è°ƒè¯•é—®é¢˜ã€‚\n","date":"2025-11-19T11:00:42+08:00","permalink":"https://zg-dd.github.io/stu/go-delve/","title":"Go è¯­è¨€è°ƒè¯•å™¨ Delve (dlv) å­¦ä¹ ç¬”è®°"},{"content":"Docker\u0026amp;Docker Completeå¸¸ç”¨å‘½ä»¤å¤§å…¨\rä¸€ã€é•œåƒï¼ˆImageï¼‰ç®¡ç†\ré•œåƒå°±åƒæ˜¯è½¯ä»¶çš„å®‰è£…åŒ…æˆ–æ¨¡æ¿ã€‚\nå‘½ä»¤ æè¿° ç¤ºä¾‹ docker imagesdocker image ls åˆ—å‡ºæœ¬åœ°æ‰€æœ‰é•œåƒ docker images docker search \u0026lt;åç§°\u0026gt; ä»ä»“åº“æœç´¢é•œåƒ docker search nginx docker pull \u0026lt;é•œåƒå\u0026gt;:\u0026lt;æ ‡ç­¾\u0026gt; ä¸‹è½½é•œåƒï¼ˆä¸æŒ‡å®šæ ‡ç­¾åˆ™é»˜è®¤ä¸º latestï¼‰ docker pull nginx:alpine docker rmi \u0026lt;é•œåƒIDæˆ–å\u0026gt; åˆ é™¤æœ¬åœ°é•œåƒ docker rmi nginx docker image prune æ¸…ç†æœªè¢«ä½¿ç”¨çš„é•œåƒï¼ˆæ‚¬ç©ºé•œåƒï¼‰ docker image prune docker build -t \u0026lt;æ ‡ç­¾\u0026gt; . æ ¹æ® Dockerfile æ„å»ºé•œåƒï¼ˆ. ä»£è¡¨å½“å‰ç›®å½•ï¼‰ docker build -t my-app:1.0 . äºŒã€å®¹å™¨ï¼ˆContainerï¼‰ç®¡ç†\rå®¹å™¨æ˜¯ä»é•œåƒè¿è¡Œèµ·æ¥çš„å®ä¾‹ã€‚\nå‘½ä»¤ æè¿° ç¤ºä¾‹ docker run [é€‰é¡¹] \u0026lt;é•œåƒ\u0026gt; åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªæ–°å®¹å™¨ docker run -d -p 80:80 nginx docker start \u0026lt;å®¹å™¨å/ID\u0026gt; å¯åŠ¨ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨ docker start my_nginx docker stop \u0026lt;å®¹å™¨å/ID\u0026gt; åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼ˆä¼˜é›…åœæ­¢ï¼‰ docker stop my_nginx docker restart \u0026lt;å®¹å™¨å/ID\u0026gt; é‡å¯å®¹å™¨ docker restart my_nginx docker rm \u0026lt;å®¹å™¨å/ID\u0026gt; åˆ é™¤ä¸€ä¸ªå·²åœæ­¢çš„å®¹å™¨ docker rm my_nginx docker container prune åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨ docker container prune docker ps åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ docker ps docker ps -a åˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å·²åœæ­¢çš„ï¼‰ docker ps -a docker logs \u0026lt;å®¹å™¨å/ID\u0026gt; æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—è¾“å‡º docker logs my_nginx docker logs -f \u0026lt;å®¹å™¨å/ID\u0026gt; å®æ—¶è·Ÿè¸ªï¼ˆè·Ÿéšï¼‰æ—¥å¿—è¾“å‡º docker logs -f my_nginx docker exec -it \u0026lt;å®¹å™¨å/ID\u0026gt; \u0026lt;å‘½ä»¤\u0026gt; åœ¨è¿è¡Œä¸­çš„å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ docker exec -it my_nginx /bin/bash ä¸‰ã€ç½‘ç»œï¼ˆNetworkï¼‰ç®¡ç†\rå‘½ä»¤ æè¿° ç¤ºä¾‹ docker network ls åˆ—å‡ºæ‰€æœ‰ç½‘ç»œ docker network ls docker network create \u0026lt;ç½‘ç»œå\u0026gt; åˆ›å»ºä¸€ä¸ªæ–°ç½‘ç»œ docker network create my_net docker network inspect \u0026lt;ç½‘ç»œå\u0026gt; æŸ¥çœ‹ç½‘ç»œè¯¦ç»†ä¿¡æ¯ docker network inspect bridge å››ã€æ•°æ®å·ï¼ˆVolumeï¼‰ç®¡ç†\ræ•°æ®å·ç”¨äºæŒä¹…åŒ–å­˜å‚¨æ•°æ®ã€‚\nå‘½ä»¤ æè¿° ç¤ºä¾‹ docker volume ls åˆ—å‡ºæ‰€æœ‰æ•°æ®å· docker volume ls docker volume create \u0026lt;å·å\u0026gt; åˆ›å»ºä¸€ä¸ªæ•°æ®å· docker volume create my_data docker volume rm \u0026lt;å·å\u0026gt; åˆ é™¤ä¸€ä¸ªæ•°æ®å· docker volume rm my_data docker volume prune æ¸…ç†æœªè¢«ä½¿ç”¨çš„æ•°æ®å· docker volume prune äº”ã€ç³»ç»Ÿä¸ä¿¡æ¯\rå‘½ä»¤ æè¿° ç¤ºä¾‹ docker info æ˜¾ç¤º Docker ç³»ç»Ÿä¿¡æ¯ docker info docker version æ˜¾ç¤º Docker ç‰ˆæœ¬ä¿¡æ¯ docker version docker stats å®æ—¶æ˜¾ç¤ºå®¹å™¨èµ„æºä½¿ç”¨ç»Ÿè®¡ docker stats docker system df æŸ¥çœ‹ Docker ç£ç›˜ä½¿ç”¨æƒ…å†µ docker system df å…­ã€Docker Compose å¸¸ç”¨å‘½ä»¤\rç”¨äºç®¡ç†å¤šå®¹å™¨åº”ç”¨ã€‚\nå‘½ä»¤ æè¿° ç¤ºä¾‹ docker compose up åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ docker compose up docker compose up -d åœ¨åå°åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ docker compose up -d docker compose down åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰å®¹å™¨ã€ç½‘ç»œ docker compose down docker compose ps åˆ—å‡ºæœ¬é¡¹ç›®ä¸‹çš„æ‰€æœ‰å®¹å™¨ docker compose ps docker compose logs æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„æ—¥å¿— docker compose logs docker compose logs -f \u0026lt;æœåŠ¡å\u0026gt; å®æ—¶è·Ÿè¸ªç‰¹å®šæœåŠ¡çš„æ—¥å¿— docker compose logs -f web docker compose exec \u0026lt;æœåŠ¡å\u0026gt; \u0026lt;å‘½ä»¤\u0026gt; åœ¨æŒ‡å®šæœåŠ¡çš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ docker compose exec db mysql -u root -p å‘½ä»¤ä¸­çš„å¸¸ç”¨é€‰é¡¹ï¼ˆFlagsï¼‰é‡Šä¹‰\ré€‰é¡¹ å…¨ç§° å«ä¹‰ ç¤ºä¾‹ -d --detach åå°è¿è¡Œå®¹å™¨ docker run -d nginx -it -i -t äº¤äº’å¼è¿è¡Œï¼ˆåˆ†é…ä¼ªç»ˆç«¯ï¼Œé€šå¸¸ä¸ /bin/bash è¿ç”¨ï¼‰ docker run -it ubuntu /bin/bash -p --publish ç«¯å£æ˜ å°„ï¼ˆä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ï¼‰ docker run -p 8080:80 nginx -v --volume æŒ‚è½½æ•°æ®å·æˆ–ç›®å½• docker run -v /host/data:/container/data nginx -e --env è®¾ç½®ç¯å¢ƒå˜é‡ docker run -e MY_VAR=value nginx --name ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§° docker run --name my_nginx nginx --rm å®¹å™¨é€€å‡ºæ—¶è‡ªåŠ¨åˆ é™¤ï¼ˆå¸¸ç”¨äºæµ‹è¯•ï¼‰ docker run --rm alpine echo \u0026quot;hello\u0026quot; ğŸš€ æœ€å¸¸ç”¨å‘½ä»¤æ€»ç»“ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰\rçœ‹çŠ¶æ€: docker ps (çœ‹å®¹å™¨), docker images (çœ‹é•œåƒ) æ‹‰é•œåƒ: docker pull \u0026lt;åå­—\u0026gt; å¯å®¹å™¨: docker run -d -p ... --name ... \u0026lt;é•œåƒå\u0026gt; åœå®¹å™¨: docker stop \u0026lt;åå­—\u0026gt; è¿›å®¹å™¨: docker exec -it \u0026lt;åå­—\u0026gt; /bin/bash çœ‹æ—¥å¿—: docker logs -f \u0026lt;åå­—\u0026gt; åˆ å®¹å™¨: docker rm \u0026lt;åå­—\u0026gt; åˆ é•œåƒ: docker rmi \u0026lt;åå­—\u0026gt; å»ºè®®: å°†è¿™ä»½åˆ—è¡¨ä¿å­˜ä¸‹æ¥ï¼Œä½œä¸ºæ—¥å¸¸æ“ä½œçš„é€ŸæŸ¥æ‰‹å†Œã€‚\n","date":"2025-09-25T11:57:50+08:00","permalink":"https://zg-dd.github.io/stu/docker-command/","title":"Docker å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥"},{"content":"ç½‘ç»œé€šè®¯æ ¸å¿ƒçŸ¥è¯†\rä¸€ã€æ ¸å¿ƒæ¦‚å¿µ\r1. Socket\ræ˜¯ä»€ä¹ˆï¼šè¿›ç¨‹é—´é€šä¿¡(IPC)çš„æ‰©å±•æœºåˆ¶\nç”¨é€”ï¼šå»ºç«‹ç½‘ç»œé€šä¿¡é€šé“ï¼ˆTCP/UDPï¼‰\næµç¨‹ï¼š\næœåŠ¡ç«¯ï¼šsocket â†’ bind â†’ listen â†’ accept å®¢æˆ·ç«¯ï¼šsocket â†’ connect â†’ write/read â†’ close\næ³¨æ„äº‹é¡¹ï¼šéœ€å¤„ç†å­—èŠ‚åºè½¬æ¢(htonl/ntohl) 2. TCP vs UDP\rç‰¹æ€§ TCP UDP è¿æ¥æ–¹å¼ é¢å‘è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ æ— è¿æ¥ å¯é æ€§ å¯é ä¼ è¾“ï¼ˆé‡ä¼ æœºåˆ¶ï¼‰ ä¸å¯é ä¼ è¾“ æ•°æ®å½¢å¼ æµå¼å¥—æ¥å­— æ•°æ®æŠ¥å¥—æ¥å­— é€‚ç”¨åœºæ™¯ æ–‡ä»¶ä¼ è¾“ã€ç½‘é¡µæµè§ˆ å®æ—¶è§†é¢‘ã€DNSæŸ¥è¯¢ äºŒã€æœåŠ¡å™¨æ¨¡å‹\r1. è¿­ä»£æœåŠ¡å™¨\rç¼ºé™·ï¼šå•çº¿ç¨‹é˜»å¡ï¼Œæ— æ³•å¹¶å‘å¤„ç†è¯·æ±‚\n2. è¿›ç¨‹/çº¿ç¨‹æ¨¡å‹\rè¿›ç¨‹æ–¹æ¡ˆï¼š\néœ€ç”¨waitpid()é¿å…åƒµå°¸è¿›ç¨‹ æ³¨æ„ï¼šå­è¿›ç¨‹ç»“æŸéœ€çˆ¶è¿›ç¨‹å›æ”¶èµ„æº åƒµå°¸è¿›ç¨‹å¤„ç†è¯¦è§£ï¼š\näº§ç”ŸåŸå› ï¼š\nå­è¿›ç¨‹ç»ˆæ­¢ä½†æœªè¢«çˆ¶è¿›ç¨‹wait() ä¼šå ç”¨ç³»ç»Ÿè¿›ç¨‹è¡¨èµ„æº å¤„ç†æ–¹æ³•ï¼š\nåŒæ­¥å›æ”¶ï¼š waitpid(pid, NULL, 0); // é˜»å¡ç­‰å¾… å¼‚æ­¥å›æ”¶ï¼ˆæ¨èï¼‰ï¼š signal(SIGCHLD, [](int) { while(waitpid(-1, NULL, WNOHANG) \u0026gt; 0); }); ç‰¹æ®Šæƒ…å½¢ï¼š\nçˆ¶è¿›ç¨‹å…ˆç»ˆæ­¢æ—¶ï¼Œåƒµå°¸è¿›ç¨‹ç”±initè¿›ç¨‹æ¥ç®¡å¹¶å›æ”¶ æ‰¹é‡å›æ”¶æ—¶éœ€å¾ªç¯è°ƒç”¨waitpid() çº¿ç¨‹æ–¹æ¡ˆï¼š\néœ€å¤„ç†å…±äº«å˜é‡åŠ é”é—®é¢˜ çº¿ç¨‹åŒæ­¥æ›´å¤æ‚ï¼ˆä¸´ç•ŒåŒº/é”æœºåˆ¶ï¼‰ 3. è¿›ç¨‹æ± ä¼˜åŒ–\rç±»å‹ ç‰¹ç‚¹ é™æ€è¿›ç¨‹æ±  é¢„åˆ›å»ºè¿›ç¨‹ï¼Œé™åˆ¶å¹¶å‘ä¸Šé™ åŠ¨æ€è¿›ç¨‹æ±  ç»´æŠ¤æœ€å°/æœ€å¤§ç©ºé—²è¿›ç¨‹æ•° ä¸‰ã€é«˜æ€§èƒ½I/Oæ¨¡å‹\r1. ä¼ ç»Ÿé˜»å¡æ¨¡å‹\rç‰¹ç‚¹ï¼š\nå•çº¿ç¨‹é˜»å¡ç­‰å¾…I/Oå°±ç»ª èµ„æºåˆ©ç”¨ç‡ä½ 2. Select/Poll\rç‰¹æ€§ Select Poll å®ç°åŸç† ä½å›¾è½®è¯¢FD(æè¿°ç¬¦é›†) é“¾è¡¨è½®è¯¢FD(æè¿°ç¬¦é›†) æœ€å¤§è¿æ¥æ•° 1024ï¼ˆFD_SETSIZEé™åˆ¶ï¼‰ æ— ç¡¬æ€§é™åˆ¶ æ•ˆç‡ç¼ºé™· O(n)çº¿æ€§æ‰«æ O(n)çº¿æ€§æ‰«æ è·¨å¹³å°æ€§ æ‰€æœ‰å¹³å°æ”¯æŒ æ‰€æœ‰å¹³å°æ”¯æŒ 3. Epoll\ræ ¸å¿ƒæœºåˆ¶ï¼š\näº‹ä»¶æ³¨å†Œï¼šé€šè¿‡epoll_ctlç»´æŠ¤çº¢é»‘æ ‘ å°±ç»ªåˆ—è¡¨ï¼šå†…æ ¸ç»´æŠ¤å°±ç»ªFDåŒå‘é“¾è¡¨ è§¦å‘æ¨¡å¼ï¼š LTï¼ˆLevel Triggerï¼‰ï¼šç±»ä¼¼Pollçš„è§¦å‘æ–¹å¼ ETï¼ˆEdge Triggerï¼‰ï¼šçŠ¶æ€å˜åŒ–æ—¶å•æ¬¡é€šçŸ¥ æ€§èƒ½ä¼˜åŠ¿ï¼š\nO(1)äº‹ä»¶é€šçŸ¥å¤æ‚åº¦ ç™¾ä¸‡çº§è¿æ¥æ”¯æŒï¼ˆC1000Kåœºæ™¯ï¼‰ 4. NIOï¼ˆNon-blocking I/Oï¼‰\ræ ¸å¿ƒç»„ä»¶ï¼š\nChannelï¼šå…¨åŒå·¥é€šä¿¡ç®¡é“ï¼ˆSocketChannel/FileChannelï¼‰ Bufferï¼šç»“æ„åŒ–æ•°æ®å®¹å™¨ï¼ˆByteBuffer/CharBufferï¼‰ Selectorï¼šå¤šè·¯å¤ç”¨å™¨ï¼ˆåŸºäºç³»ç»Ÿepoll/kqueueå®ç°ï¼‰ å·¥ä½œæµç¨‹ï¼š\nstart\r: åˆ›å»ºSelector;\r: æ³¨å†ŒChannelåˆ°Selector;\rrepeat\r: select()æŸ¥è¯¢å°±ç»ªäº‹ä»¶;\r: å¤„ç†SelectionKeyäº‹ä»¶;\rrepeat while (æœ‰äº‹ä»¶?) stop 5. AIOï¼ˆAsynchronous I/Oï¼‰\rå®ç°åŸç†ï¼š\nå†…æ ¸å®ŒæˆI/Oæ“ä½œåä¸»åŠ¨å›è°ƒ æ— éœ€ç”¨æˆ·çº¿ç¨‹è½®è¯¢ å…¸å‹åœºæ™¯ï¼š\nå¤§æ–‡ä»¶å¼‚æ­¥è¯»å†™ é«˜å»¶è¿Ÿç½‘ç»œæ“ä½œ 6. å®Œæ•´å¯¹æ¯”è¡¨\ræ¨¡å‹ é˜»å¡æ€§ çº¿ç¨‹è¦æ±‚ è§¦å‘æ–¹å¼ é€‚ç”¨åœºæ™¯ é˜»å¡I/O å®Œå…¨é˜»å¡ 1:1 - ä½å¹¶å‘ç®€å•åœºæ™¯ Select éé˜»å¡ 1:N è½®è¯¢é€šçŸ¥ è·¨å¹³å°ä¸­ç­‰å¹¶å‘ Poll éé˜»å¡ 1:N è½®è¯¢é€šçŸ¥ è¿æ¥æ•°\u0026lt;10K Epoll éé˜»å¡ 1:N äº‹ä»¶é©±åŠ¨ Linuxé«˜å¹¶å‘ç³»ç»Ÿ NIO éé˜»å¡ 1:N å°±ç»ªé€‰æ‹© é«˜åååº”ç”¨ AIO å¼‚æ­¥ 0:1 å®Œæˆå›è°ƒ å»¶è¿Ÿæ•æ„Ÿå‹æ“ä½œ è¡¥å……è¯´æ˜\rå†…æ ¸æ”¯æŒï¼š\nWindowsï¼šIOCPæ˜¯çœŸæ­£çš„å¼‚æ­¥I/O Linuxï¼š5.1+å†…æ ¸çš„io_uringæ¥è¿‘çœŸå¼‚æ­¥ æ€§èƒ½ä¸´ç•Œç‚¹ï¼š\nC10Kï¼šSelect/Pollè¾¾åˆ°æ€§èƒ½ç“¶é¢ˆ C100Kï¼šå¿…é¡»ä½¿ç”¨Epoll/NIO C1000Kï¼šéœ€è¦Epoll+é›¶æ‹·è´ä¼˜åŒ– ç¼–ç¨‹å¤æ‚åº¦ï¼š\né˜»å¡I/O \u0026lt; Select \u0026lt; Poll \u0026lt; Epoll \u0026lt; NIO \u0026lt; AIO å››ã€å®è·µè¦ç‚¹\r1. å®ˆæŠ¤è¿›ç¨‹\rå…³é”®æ­¥éª¤ï¼š\nfork() setsid()\néœ€é‡å®šå‘æ ‡å‡†I/Oè‡³/dev/null 2. UDPæœåŠ¡å™¨\rç‰¹ç‚¹ï¼š\næ— éœ€listen()/accept() ç›´æ¥ä½¿ç”¨recvfrom()/sendto() 3. å…¶ä»–\rReuse Addressï¼šé¿å…TIME_WAITçŠ¶æ€å ç”¨ç«¯å£ æƒŠç¾¤æ•ˆåº”ï¼šå¤šè¿›ç¨‹Acceptäº’ç›¸ç«äº‰å¯¼è‡´ï¼Œéœ€å†…æ ¸é”ä¼˜åŒ–\næœåŠ¡å™¨ç±»å‹ï¼š IOå¯†é›†å‹ï¼šLNMP(nginx) CPUå¯†é›†å‹ï¼šLAMP(Apache) åç¨‹ï¼šæ˜¯ç”¨æˆ·æ€çº¿ç¨‹ï¼Œç”¨æˆ·æ€è°ƒåº¦ï¼Œé¿å…å†…æ ¸åˆ‡æ¢å¼€é”€ï¼Œçº¿ç¨‹æ˜¯å†…æ ¸è°ƒç”¨ã€‚å¯¹æ¯”çº¿ç¨‹ï¼šåˆ‡æ¢é€Ÿåº¦æ›´å¿«ï¼Œèµ„æºæ¶ˆè€—æ›´ä½ äº”ã€å­¦ä¹ å»ºè®®\r1. è¯Šæ–­å·¥å…·\rnetstat -anp # æŸ¥çœ‹ç½‘ç»œè¿æ¥ 2. ç»å…¸ä¹¦ç±\rã€ŠUnixç½‘ç»œç¼–ç¨‹ã€‹ ã€ŠUnixç¯å¢ƒé«˜çº§ç¼–ç¨‹ã€‹ ","date":"2025-08-15T19:08:51+08:00","permalink":"https://zg-dd.github.io/stu/socket/","title":"ç½‘ç»œé€šè®¯æ ¸å¿ƒçŸ¥è¯†"},{"content":" ä¸ªäººå­¦ä¹ ç¬”è®°\n1. MCPçš„å®šä¹‰\rMCPå…¨ç§°ï¼ˆModel Content Protocol, æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ˜¯2024å¹´ç”±Anthropicå…¬å¸æ¨å‡ºçš„ä¸€é¡¹å¼€æ”¾æ ‡å‡†åè®®ï¼Œæ—¨åœ¨å¤§æ¨¡å‹ï¼ˆLLMï¼‰ä¸å¤–éƒ¨å·¥å…·ã€æ•°æ®æºå’ŒæœåŠ¡æä¾›ç»Ÿä¸€çš„äº¤äº’æ¡†æ¶ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³AIç”Ÿæ€ä¸­çš„â€œæ•°æ®å­¤å²›â€é—®é¢˜ï¼Œé€šè¿‡æ ‡å‡†åŒ–æ¥å£å®ç°æ¨¡å‹ä¸å¤–éƒ¨èµ„æºçš„æ— ç¼è¿æ¥ï¼Œç±»ä¼¼äºâ€œAIé¢†åŸŸçš„USB-Cæ¥å£â€æˆ–è€…â€œä¸‡èƒ½é€‚é…å™¨â€ã€‚\n2. æ ¸å¿ƒç‰¹æ€§ä¸æŠ€æœ¯åŸç†\r2.1 æ ‡å‡†åŒ–ä¸‰å±‚æ¶æ„\rä¸»æœºï¼ˆHostï¼‰ï¼šè¿è¡ŒAIæ¨¡å‹çš„æ ¸å¿ƒåº”ç”¨ï¼ˆå¦‚Claudeã€Desktopã€IDEæ’ä»¶ï¼‰ å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼šä¸æœåŠ¡å™¨å»ºç«‹1:1è¿æ¥ï¼Œå°è£…è¯·æ±‚å¹¶è½¬å‘ æœåŠ¡å™¨ï¼ˆServerï¼‰ï¼šè½»é‡çº§é€‚é…å™¨ï¼Œè¿æ¥å…·ä½“å·¥å…·æˆ–æ•°æ®æºï¼ˆå¦‚æ•°æ®åº“ã€APIã€æ–‡ä»¶ç³»ç»Ÿï¼‰ 2.2 é€šä¿¡æœºåˆ¶ï¼šJSON-RPC 2.0åè®®\ræœ¬åœ°é€šä¿¡ï¼šé€šè¿‡stdio(æ ‡å‡†è¾“å…¥è¾“å‡º)ä¼ è¾“JSON-RPCæ¶ˆæ¯ï¼Œé€‚ç”¨äºæœ¬åœ°å·¥å…·è°ƒç”¨ è¿œç¨‹é€šä¿¡ï¼šåŸºäºSSE(Server-Sent Events)å’ŒStreamable HTTPçš„HTTPé•¿è¿æ¥ï¼Œæ”¯æŒå¼‚æ­¥æ•°æ®æµ æ¶ˆæ¯æ ¼å¼ï¼šæ‰€æœ‰è¯·æ±‚å’Œå“åº”å‡éµå¾ªJSON-RPC 2.0è§„èŒƒ 2.3 åŠ¨æ€å‘ç°æœºåˆ¶\rå·¥å…·çº§åŠ¨æ€å‘ç°ï¼šå·¥å…·é€šè¿‡è‡ªæè¿°æ¥å£ï¼ˆå¦‚OpenAPIï¼‰å£°æ˜èƒ½åŠ›ï¼ŒAIæ¨¡å‹å¯è‡ªåŠ¨è¯†åˆ«å¹¶è°ƒç”¨ï¼Œæ— éœ€è¦ç¡¬ç¼–ç é›†æˆ æœåŠ¡çº§åŠ¨æ€å‘ç°ï¼ˆä¸æ‡‚ï¼‰ï¼š URIé©±åŠ¨å‘ç°ï¼Œå®¢æˆ·ç«¯é€šè¿‡è§£æè‡ªå®šä¹‰URIï¼ˆå¦‚mcp://api.service.comï¼‰å‘ç°è¿œç¨‹æœåŠ¡ï¼šå®¢æˆ·ç«¯è®¿é—®URIå¯¹åº”çš„å…ƒæ•°æ®ç«¯ç‚¹ï¼ˆå¦‚https://api.service.com/llms.txtï¼‰ã€‚æœåŠ¡ç«¯è¿”å›JSONæè¿°æ–‡ä»¶ï¼ŒåŒ…å«åŠŸèƒ½åˆ—è¡¨ï¼ŒAPIæ–‡æ¡£å’Œè®¤è¯æ–¹å¼ã€‚Clientæ ¹æ®å…ƒæ•°æ®è‡ªåŠ¨é…ç½®å·¥å…·è°ƒç”¨æƒé™ã€‚åº”ç”¨åœºæ™¯ï¼šç”¨æˆ·ç²˜è´´ä¸€ä¸ªMCP URIåˆ°èŠå¤©çª—å£ï¼ŒLLMè‡ªåŠ¨è¯†åˆ«å¹¶é›†æˆè¯¥æœåŠ¡ï¼ˆå¦‚è‚¡ç¥¨APIï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚ 3. å®‰å…¨ä¸æƒé™æ§åˆ¶\ræœ¬åœ°åŒ–æ‰§è¡Œï¼šé»˜è®¤MCP Serverè¿è¡Œåœ¨æœ¬åœ°ï¼Œé¿å…æ•æ„Ÿæ•°æ®å¤–æ³„ æ“ä½œç¡®è®¤æœºåˆ¶ï¼šé«˜é£é™©æ“ä½œï¼ˆå¦‚åˆ é™¤æ–‡ä»¶ï¼‰éœ€ç”¨æˆ·æ‰‹åŠ¨æˆæƒ ä¼ä¸šçº§å®‰å…¨å‘˜æ‰©å±•ï¼šæ”¯æŒJWTä»¤ç‰Œã€RBACæƒé™æ¨¡å‹å’ŒIPsecéš§é“åŠ å¯†ï¼Œæ»¡è¶³é‡‘èã€åŒ»ç–—ç­‰åœºæ™¯éœ€æ±‚ 4. ä¸ä¼ ç»ŸæŠ€æœ¯çš„åŒºåˆ«\rç‰¹æ€§ MCP ä¼ ç»ŸAPI Function Callingâ€‹ é›†æˆæ–¹å¼â€‹ ç»Ÿä¸€åè®®ï¼ŒåŠ¨æ€å‘ç°å·¥å…· æ¯ä¸ªAPIç‹¬ç«‹å®šåˆ¶ éœ€ç¡¬ç¼–ç ç»‘å®šç‰¹å®šå‡½æ•° é€šä¿¡æ¨¡å¼â€‹ åŒå‘å®æ—¶äº¤äº’ å•å‘è¯·æ±‚-å“åº” åŒæ­¥æ‰§è¡Œï¼Œæ— å®æ—¶æ¨é€ çµæ´»æ€§â€‹ å³æ’å³ç”¨ï¼Œæ”¯æŒå¤šå·¥å…·ç»„åˆ æ‰©å±•éœ€é‡æ–°å¼€å‘ ä¾èµ–æ¨¡å‹ä¾›åº”å•†æ¥å£ 5. æ€»ç»“\rMCPåè®®é€šè¿‡ â€œå®¢æˆ·ç«¯-æœåŠ¡å™¨è§£è€¦â€ + â€œJSON-RPCé€šä¿¡â€ + â€œåŠ¨æ€å‘ç°æœºåˆ¶â€ï¼Œ è§£å†³äº†LLMä¸å¤–éƒ¨èµ„æºäº¤äº’çš„ä¸‰å¤§ç—›ç‚¹ï¼š çµæ´»æ€§ï¼šå·¥å…·å¯çƒ­æ’æ‹”ï¼ŒæœåŠ¡å¯åŠ¨æ€æ‰©å±•ï¼› å®‰å…¨æ€§ï¼šæœ¬åœ°åŒ–æ‰§è¡Œä¸æƒé™æ§åˆ¶å…¼é¡¾æ•ˆç‡ä¸éšç§ï¼› æ ‡å‡†åŒ–ï¼šç»Ÿä¸€åè®®é™ä½é›†æˆæˆæœ¬ï¼Œæ¨åŠ¨AIç”Ÿæ€å¼€æ”¾ã€‚\nMCPé€šè¿‡åè®®å±‚è§£è€¦AIæ¨¡å‹ä¸å·¥å…·ï¼Œæ¨åŠ¨AIä»â€œå¯¹è¯åŠ©æ‰‹â€å‡çº§ä¸ºâ€œæ‰§è¡Œä»£ç†â€ï¼Œæˆä¸ºæ„å»ºå¤æ‚Agentç³»ç»Ÿçš„åº•å±‚åŸºç¡€ã€‚éšç€ä¼ä¸šæ™ºèƒ½åŒ–å‡çº§åŠ é€Ÿï¼ˆå¦‚é•¿è™¹è™¹ä¿¡EADPå¹³å°é›†æˆMCPï¼‰ï¼Œè¯¥åè®®å·²æˆä¸ºæ„å»ºä¸‹ä¸€ä»£AI Agentçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚\n","date":"2025-08-06T15:14:07+08:00","permalink":"https://zg-dd.github.io/stu/mcp-protocol-core/","title":"MCP åè®®å…¥é—¨ä¸æ ¸å¿ƒæœºåˆ¶"},{"content":"åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œä½¿ç”¨ MyBatis ä½œä¸ºæŒä¹…å±‚æ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æŸ¥çœ‹ SQL æ—¥å¿—ä»¥è°ƒè¯•å’Œä¼˜åŒ–æŸ¥è¯¢ã€‚ç„¶è€Œï¼ŒMyBatis çš„æ—¥å¿—è¾“å‡ºé€šå¸¸åŒ…å«å ä½ç¬¦å’Œå‚æ•°ä¿¡æ¯ï¼Œè¿™ä½¿å¾—ç›´æ¥æ‰§è¡Œè¿™äº› SQL è¯­å¥å˜å¾—å›°éš¾ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªç®€å•çš„ HTML å’Œ JavaScript è„šæœ¬ï¼Œç”¨äºè§£æ MyBatis çš„ SQL æ—¥å¿—å¹¶ç”Ÿæˆå¯æ‰§è¡Œçš„ SQL è¯­å¥ã€‚\n1. è„šæœ¬åŠŸèƒ½æ¦‚è¿°\rè¯¥è„šæœ¬çš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼š\nè§£æ SQL æ—¥å¿—ï¼šä» MyBatis æ—¥å¿—ä¸­æå– SQL è¯­å¥å’Œå‚æ•°ã€‚ å‚æ•°æ›¿æ¢ï¼šå°† SQL è¯­å¥ä¸­çš„å ä½ç¬¦ ? æ›¿æ¢ä¸ºå®é™…çš„å‚æ•°å€¼ã€‚ ç”Ÿæˆå¯æ‰§è¡Œ SQLï¼šè¾“å‡ºå®Œæ•´çš„ SQL è¯­å¥ï¼Œä¾¿äºåœ¨æ•°æ®åº“ä¸­ç›´æ¥æ‰§è¡Œã€‚ 2. å®ç°ç»†èŠ‚\r2.1 HTML ç»“æ„\rè„šæœ¬çš„ HTML éƒ¨åˆ†æä¾›äº†ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼ŒåŒ…å«è¾“å…¥åŒºåŸŸã€è§£ææŒ‰é’®å’Œè¾“å‡ºåŒºåŸŸã€‚\nè¾“å…¥åŒºåŸŸï¼šç”¨æˆ·å¯ä»¥åœ¨æ­¤ç²˜è´´ MyBatis çš„ SQL æ—¥å¿—ã€‚ è§£ææŒ‰é’®ï¼šç‚¹å‡»åè§¦å‘ JavaScript å‡½æ•°è¿›è¡Œè§£æã€‚ è¾“å‡ºåŒºåŸŸï¼šæ˜¾ç¤ºè§£æåçš„å¯æ‰§è¡Œ SQL è¯­å¥ã€‚ 2.2 JavaScript é€»è¾‘\rJavaScript éƒ¨åˆ†å®ç°äº†æ—¥å¿—è§£æçš„æ ¸å¿ƒé€»è¾‘ï¼š\næ—¥å¿—åˆ†å‰²ï¼šé€šè¿‡æ¢è¡Œç¬¦å°†æ—¥å¿—åˆ†å‰²ä¸ºå¤šè¡Œï¼Œé€è¡Œå¤„ç†ã€‚ SQL è¯­å¥æå–ï¼šè¯†åˆ«åŒ…å« Preparing: çš„è¡Œï¼Œæå– SQL è¯­å¥ã€‚ å‚æ•°è§£æï¼šè¯†åˆ«åŒ…å« Parameters: çš„è¡Œï¼Œæå–å‚æ•°å¹¶æ ¹æ®ç±»å‹è¿›è¡Œå¤„ç†ã€‚ å­—ç¬¦ä¸²å’Œæ—¶é—´æˆ³ï¼šç”¨å•å¼•å·åŒ…è£¹ï¼Œå¤„ç†è½¬ä¹‰å­—ç¬¦ã€‚ ç©ºå€¼ï¼šæ›¿æ¢ä¸º NULLã€‚ å…¶ä»–ç±»å‹ï¼šç›´æ¥æ›¿æ¢ã€‚ ç»“æœè¾“å‡ºï¼šå°†æ›¿æ¢åçš„ SQL è¯­å¥æ˜¾ç¤ºåœ¨è¾“å‡ºåŒºåŸŸã€‚ 3. è„šæœ¬ä»£ç \råˆ›å»ºä¸€ä¸ª.htmlæ–‡ä»¶ï¼Œç¼–è¾‘ï¼Œå°†è„šæœ¬å†…å®¹è´´è‡³æ–‡ä»¶å†…ï¼Œä¿å­˜ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€æ–‡ä»¶å³å¯ä½¿ç”¨\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Mybatis SQLæ—¥å¿—è§£æ\u0026lt;/title\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; function f(obj) { try { var textVa = obj.value; var logs = textVa.split(\u0026#39;\\n\u0026#39;); // Split by newline var results = []; var currentStatement = null; logs.forEach(function(log) { // Check if this line contains \u0026#34;Preparing:\u0026#34; or \u0026#34;Parameters:\u0026#34; if (log.indexOf(\u0026#39;Preparing:\u0026#39;) !== -1) { if (currentStatement !== null) { // If we have a current statement, push it to the results results.push(currentStatement); } // Start a new statement currentStatement = log.substring(log.indexOf(\u0026#39;Preparing:\u0026#39;) + \u0026#34;Preparing:\u0026#34;.length).trim(); } else if (log.indexOf(\u0026#39;Parameters:\u0026#39;) !== -1 \u0026amp;\u0026amp; currentStatement !== null) { // If we find parameters and have a current statement, parse the parameters var parametersStr = log.substring(log.indexOf(\u0026#39;Parameters:\u0026#39;) + \u0026#34;Parameters:\u0026#34;.length).trim(); var parameters = parametersStr.split(/,(?![^()]*\\))/g); // Use regex to split correctly for (var i = 0; i \u0026lt; parameters.length; i++) { var paramValue = parameters[i].trim(); if (paramValue === \u0026#34;null\u0026#34;) { currentStatement = currentStatement.replace(\u0026#34;?\u0026#34;, \u0026#34;NULL\u0026#34;); } else { var typeStr = paramValue.substring(paramValue.indexOf(\u0026#34;(\u0026#34;) + 1, paramValue.indexOf(\u0026#34;)\u0026#34;)); paramValue = paramValue.substring(0, paramValue.indexOf(\u0026#34;(\u0026#34;)).trim(); if (typeStr === \u0026#34;String\u0026#34; || typeStr === \u0026#34;Timestamp\u0026#34;) { paramValue = \u0026#34;\u0026#39;\u0026#34; + paramValue.replace(\u0026#34;\u0026#39;\u0026#34;, \u0026#34;\u0026#39;\u0026#39;\u0026#34;) + \u0026#34;\u0026#39;\u0026#34;; } currentStatement = currentStatement.replace(\u0026#34;?\u0026#34;, paramValue); } } // Add the final statement to the results and reset currentStatement results.push(currentStatement); currentStatement = null; } }); // If there\u0026#39;s a remaining statement, push it to the results if (currentStatement !== null) { results.push(currentStatement); } document.getElementById(\u0026#34;d1\u0026#34;).value = results.join(\u0026#34;\\n\\n\u0026#34;); } catch (e) { console.error(e); alert(\u0026#34;è§£æSQLæ—¶å‘ç”Ÿé”™è¯¯ï¼š\u0026#34; + e.message); } } function copySQL() { var SQL = document.getElementById(\u0026#34;d1\u0026#34;); navigator.clipboard.writeText(SQL.value).then(function() { var msg = document.getElementById(\u0026#34;msg\u0026#34;); msg.innerHTML = \u0026#34;å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿\u0026#34;; setTimeout(function () { msg.innerHTML = \u0026#34;\u0026#34;; }, 3000); }).catch(function(err) { console.error(\u0026#34;å¤åˆ¶å¤±è´¥ï¼š\u0026#34;, err); alert(\u0026#34;å¤åˆ¶SQLæ—¶å‘ç”Ÿé”™è¯¯ï¼š\u0026#34; + err.message); }); } function clearLog(obj) { obj.value = \u0026#34;\u0026#34;; } \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;h2\u0026gt;\u0026lt;font color=\u0026#34;#00bfff\u0026#34;\u0026gt; è¾“å…¥Mybatis SQLæ—¥å¿—ï¼š\u0026lt;/font\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;textarea id=\u0026#34;sqlLog\u0026#34; rows=\u0026#34;12\u0026#34; cols=\u0026#34;140\u0026#34; style=\u0026#34;font-size:12px;font-family: \u0026#39;CourierNew\u0026#39;;font-weight: bold;width: 98%;\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;div style=\u0026#34;border:0px deepskyblue solid;width:1425px;height:50px;text-align:right;\u0026#34;\u0026gt; \u0026lt;button style=\u0026#34;color:mediumblue;width:100px;height:60px\u0026#34; type=\u0026#34;button\u0026#34; onclick=\u0026#34;clearLog(document.getElementById(\u0026#39;sqlLog\u0026#39;))\u0026#34;\u0026gt;æ¸…ç©º\u0026lt;/button\u0026gt; \u0026lt;button style=\u0026#34;color:mediumblue;width:100px;height:60px\u0026#34; type=\u0026#34;submit\u0026#34; onclick=\u0026#34;f(document.getElementById(\u0026#39;sqlLog\u0026#39;))\u0026#34;\u0026gt;è§£æSQL\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;h2\u0026gt;\u0026lt;font color=\u0026#34;#32cd32\u0026#34;\u0026gt;è§£æä¸ºå¯æ‰§è¡ŒSQLï¼š\u0026lt;/font\u0026gt;\u0026lt;/h2\u0026gt; \u0026lt;textarea id=\u0026#34;d1\u0026#34; rows=\u0026#34;12\u0026#34; cols=\u0026#34;140\u0026#34; style=\u0026#34;font-size:12px;font-family: \u0026#39;CourierNew\u0026#39;;font-weight: bold;width: 98%;\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt; \u0026lt;div style=\u0026#34;border:0px deepskyblue solid;width:1425px;height:50px;text-align:right;\u0026#34;\u0026gt; \u0026lt;button style=\u0026#34;color:mediumblue;width:100px;height:60px\u0026#34; type=\u0026#34;button\u0026#34; onclick=\u0026#34;copySQL()\u0026#34;\u0026gt;å¤åˆ¶SQL\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;msg\u0026#34; style=\u0026#34;color:cornflowerblue;border:0px black solid;width:800px;height:20px;text-align:right;font-style: initial;font-size: large\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; 4. ä½¿ç”¨æ–¹æ³•\rå°† MyBatis çš„ SQL æ—¥å¿—ç²˜è´´åˆ°è¾“å…¥åŒºåŸŸã€‚ ç‚¹å‡»\u0026quot;è§£æSQL\u0026quot;æŒ‰é’®ã€‚ åœ¨è¾“å‡ºåŒºåŸŸæŸ¥çœ‹å¹¶å¤åˆ¶è§£æåçš„ SQL è¯­å¥ã€‚ 4.1 ç¤ºä¾‹\rå‡è®¾è¾“å…¥çš„æ—¥å¿—ä¸ºï¼š\nPreparing: INSERT INTO users (name, email) VALUES (?, ?)\rParameters: John(String), null è§£æåçš„è¾“å‡ºä¸ºï¼š\nINSERT INTO users (name, email) VALUES (\u0026#39;John\u0026#39;, NULL) 5. æ€»ç»“\ré€šè¿‡è¿™ä¸ªç®€å•çš„è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå°† MyBatis çš„ SQL æ—¥å¿—è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œæå¤§åœ°æ–¹ä¾¿äº†å¼€å‘å’Œè°ƒè¯•å·¥ä½œã€‚å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼\n","date":"2025-02-19T21:52:49+08:00","permalink":"https://zg-dd.github.io/blog/mybatis-sql-log-parser/","title":"MyBatis SQL æ—¥å¿—è§£æè„šæœ¬"},{"content":" åœ¨Javaé¡¹ç›®ä¸­ï¼ŒPOï¼ˆPlain Old Java Objectï¼‰å¯¹è±¡éå¸ƒå„ä¸ªè§’è½ï¼Œä¸”å¸¸å¸¸ä¼´éšç€å¤§é‡çš„æ—¥å¿—è®°å½•éœ€æ±‚ã€‚ä¼ ç»Ÿçš„åšæ³•æ˜¯é€šè¿‡toStringæ–¹æ³•ç›´æ¥æ‰“å°è¿™äº›å¯¹è±¡ï¼Œç„¶è€Œè¿™ç§æ–¹å¼è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯å¾€å¾€ä¸å¤Ÿç»“æ„åŒ–ï¼Œç»™æ—¥å¿—æ’æŸ¥å¸¦æ¥äº†è¯¸å¤šä¸ä¾¿ã€‚ä¸ºäº†æå‡æ—¥å¿—çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€æ¬¾é«˜æ•ˆå·¥å…·ï¼Œè¯¥å·¥å…·èƒ½å¤Ÿå°†é¡¹ç›®ä¸­çº¦90%çš„æ—¥å¸¸POå¯¹è±¡æ—¥å¿—è‡ªåŠ¨è½¬æ¢ä¸ºç»“æ„åŒ–çš„JSONæ ¼å¼æ•°æ®ã€‚è¿™ä¸€è½¬å˜æå¤§åœ°ç®€åŒ–äº†ç³»ç»Ÿè¿ç»´äººå‘˜çš„å·¥ä½œï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿæ›´è¿…é€Ÿã€æ›´å‡†ç¡®åœ°å®šä½å’Œè§£å†³é—®é¢˜ã€‚\n1. è§£å†³çš„é—®é¢˜\rç¤ºä¾‹ 1ï¼šç®€å•å¯¹è±¡\nè¾“å…¥ï¼šUser(id=1, name=\u0026quot;Alice\u0026quot;, age=25)\nè¾“å‡ºï¼š{\u0026quot;User\u0026quot;: {\u0026quot;id\u0026quot;: 1, \u0026quot;name\u0026quot;: \u0026quot;Alice\u0026quot;, \u0026quot;age\u0026quot;: 25}} ç¤ºä¾‹ 2ï¼šåµŒå¥—å¯¹è±¡\nè¾“å…¥ï¼šOrder(id=1001, items=[Item(id=2001, name=\u0026quot;Book\u0026quot;)])\nè¾“å‡ºï¼š{\u0026quot;Order\u0026quot;: {\u0026quot;id\u0026quot;: 1001, \u0026quot;items\u0026quot;: [{\u0026quot;Item\u0026quot;: {\u0026quot;id\u0026quot;: 2001, \u0026quot;name\u0026quot;: \u0026quot;Book\u0026quot;}}]}}\nç¤ºä¾‹ 3ï¼šå¤æ‚ Map\nè¾“å…¥ï¼šConfig(settings={key1=\u0026quot;value1\u0026quot;, key2=[1, 2, 3]})\nè¾“å‡ºï¼š{\u0026quot;Config\u0026quot;: {\u0026quot;settings\u0026quot;: {\u0026quot;key1\u0026quot;: \u0026quot;value1\u0026quot;, \u0026quot;key2\u0026quot;: [1, 2, 3]}}} ç¤ºä¾‹4ï¼šè‡ªå®šä¹‰å¤æ‚å¯¹è±¡\nè¾“å…¥ï¼šUser(username=å¼ ä¸‰, password=123456, students=[Student(name=æå››, age=18, score=0.0, courses=null), Student(name=ç‹äº”, age=20, score=0.0, courses=[æ•°å­¦, è‹±è¯­, ç‰©ç†])], map={aa=123, bb=456, cc=ä½ å¥½})\nè¾“å‡ºï¼š{\r\u0026quot;User\u0026quot;: {\r\u0026quot;username\u0026quot;: \u0026quot;å¼ ä¸‰\u0026quot;,\r\u0026quot;password\u0026quot;: 123456,\r\u0026quot;students\u0026quot;: [\r{\r\u0026quot;Student\u0026quot;: {\r\u0026quot;name\u0026quot;: \u0026quot;æå››\u0026quot;,\r\u0026quot;age\u0026quot;: 18,\r\u0026quot;score\u0026quot;: 0.0,\r\u0026quot;courses\u0026quot;: null\r}\r},\r{\r\u0026quot;Student\u0026quot;: {\r\u0026quot;name\u0026quot;: \u0026quot;ç‹äº”\u0026quot;,\r\u0026quot;age\u0026quot;: 20,\r\u0026quot;score\u0026quot;: 0.0,\r\u0026quot;courses\u0026quot;: [\r\u0026quot;æ•°å­¦\u0026quot;,\r\u0026quot;è‹±è¯­\u0026quot;,\r\u0026quot;ç‰©ç†\u0026quot;\r]\r}\r}\r],\r\u0026quot;map\u0026quot;: {\r\u0026quot;aa\u0026quot;: 123,\r\u0026quot;bb\u0026quot;: 456,\r\u0026quot;cc\u0026quot;: \u0026quot;ä½ å¥½\u0026quot;\r}\r}\r} 2. ä¸‹è½½åœ°å€\rä¸‹è½½è„šæœ¬\n","date":"2025-02-19T21:48:01+08:00","permalink":"https://zg-dd.github.io/blog/java-pojo-log-json/","title":"Java PO æ—¥å¿— JSON åŒ–å·¥å…·"},{"content":"1. é—­åŒ…\r1.1 é—­åŒ…çš„å®šä¹‰\ré—­åŒ…å‡½æ•°ï¼ˆClosureï¼‰æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚åœ¨Goè¯­è¨€ä¸­ï¼Œé—­åŒ…å‡½æ•°æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°ä¸å…¶å¼•ç”¨çš„ç¯å¢ƒçš„ç»„åˆã€‚é—­åŒ…å‡½æ•°å¯ä»¥è®¿é—®å¹¶ä¿®æ”¹å…¶å¤–éƒ¨å‡½æ•°ä¸­çš„å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚\n1.2 é—­åŒ…çš„ç‰¹ç‚¹\ré—­åŒ…å‡½æ•°å¯ä»¥è®¿é—®å…¶å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚ é—­åŒ…å‡½æ•°å¯ä»¥ä¿®æ”¹å…¶å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚ é—­åŒ…å‡½æ•°å¯ä»¥ä¿æŒå…¶å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åä»ç„¶å­˜åœ¨ã€‚ 1.3 é—­åŒ…çš„ç¤ºä¾‹\rpackage main import \u0026#34;fmt\u0026#34; /** * é—­åŒ… * ä¸€ä¸ªå‡½æ•°å’Œä¸å…¶ç›¸å…³çš„å¼•ç”¨ç¯å¢ƒç»„åˆè€Œæˆçš„å®ä½“ */ func adder() func(int) int { sum := 0 // è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å¼•ç”¨äº†sumå˜é‡ return func(x int) int { // å‡½æ•°å¼•ç”¨äº†sumå˜é‡ sum += x return sum } } func main() { // è°ƒç”¨adderå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¼•ç”¨äº†sumå˜é‡ pos, neg := adder(), adder() for i := 0; i \u0026lt; 10; i++ { // è°ƒç”¨è¿”å›çš„å‡½æ•°ï¼Œå‡½æ•°å¼•ç”¨äº†sumå˜é‡ fmt.Println(pos(i), neg(-2*i)) } /** - `adder` å‡½æ•°è¿”å›ä¸€ä¸ªé—­åŒ…ã€‚æ¯ä¸ªé—­åŒ…éƒ½ç»‘å®šäº†è‡ªå·±çš„ `sum` å˜é‡ã€‚ - `pos` å’Œ `neg` æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„é—­åŒ…ï¼Œå®ƒä»¬å„è‡ªç»´æŠ¤è‡ªå·±çš„ `sum`ã€‚ è¿è¡Œç»“æœ 0 0 1 -2 3 -6 6 -12 10 -20 15 -30 21 -42 28 -56 36 -72 45 -90 */ } 2. ç±»å‹(type)\r2.1 è‡ªå®šä¹‰ç±»å‹\rGo å…è®¸ä½¿ç”¨ type å…³é”®å­—å®šä¹‰æ–°çš„ç±»å‹ã€‚\n2.2 ç±»å‹ç¤ºä¾‹\rpackage main import \u0026#34;fmt\u0026#34; // è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œç±»å‹åï¼šaddFun type addFun func(int) int // è‡ªå®šä¹‰ä¸€ä¸ªintç±»å‹ï¼Œç±»å‹åï¼šselfint type selfint int func adder2(x int) addFun { return func(y int) int { return x + y } } func main() { // å®šä¹‰ä¸€ä¸ªegå‡½æ•°ï¼Œå…¶ç±»å‹ä¸ºaddFunï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ var eg addFun = adder2(10) // è°ƒç”¨egå‡½æ•° ,egå‡½æ•°æ˜¯adder2å‡½æ•°çš„è¿”å›é—­åŒ…å‡½æ•°ï¼Œæ‰§è¡Œeg ==\u0026gt; adder2(10) + y ==\u0026gt; 10 + 15 = 25 fmt.Println(eg(15)) var num1 selfint = 10 var num2 int = 20 // è‡ªå®šä¹‰ç±»å‹selfintï¼Œä¸èƒ½ç›´æ¥ä¸intç±»å‹è¿›è¡Œè¿ç®—ï¼Œéœ€è¦è½¬æ¢ fmt.Println(num1 + selfint(num2)) // æˆ–è€…ä½¿ç”¨ç±»å‹è½¬æ¢ fmt.Println(int(num1) + num2) /** * è¿è¡Œç»“æœï¼š * 25 * 30 * 30 */ } 3. å»¶è¿Ÿæ‰§è¡Œï¼ˆDeferï¼‰\r3.1 defer çš„ç”¨æ³•\rdefer è¯­å¥ä¼šå°†å…¶åé¢çš„å‡½æ•°è°ƒç”¨æ¨è¿Ÿåˆ°å¤–å±‚å‡½æ•°è¿”å›ä¹‹åæ‰§è¡Œã€‚\n3.2 defer ç¤ºä¾‹\rpackage main import \u0026#34;fmt\u0026#34; func main() { // defer æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºå»¶è¿Ÿæ‰§è¡Œä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œç›´åˆ°åŒ…å«è¯¥ defer è¯­å¥çš„å‡½æ•°æ‰§è¡Œå®Œæ¯•ã€‚ defer fmt.Println(\u0026#34;world\u0026#34;) fmt.Println(\u0026#34;hello\u0026#34;) /* * è¿è¡Œç»“æœï¼š * hello * world */ } 4. ææ…Œï¼ˆPanicï¼‰å’Œæ¢å¤ï¼ˆRecoverï¼‰\rPanicç›¸å½“ä¸æŠ›å‡ºå¼‚å¸¸ï¼ŒRecoverç›¸å½“äºæ•è·å¼‚å¸¸ï¼ŒGolangä¸­æ²¡æœ‰try..catch\n4.1 panic å’Œ recover çš„ç”¨æ³•\rpanic ç”¨äºè¡¨ç¤ºç¨‹åºé‡åˆ°äº†æ— æ³•å¤„ç†çš„é”™è¯¯ã€‚ recover ç”¨äºä» panic ä¸­æ¢å¤ã€‚ 4.2 panic å’Œ recover ç¤ºä¾‹\rpackage main import \u0026#34;fmt\u0026#34; func main() { // å®šä¹‰ä¸€ä¸ªå»¶æ—¶å‡½æ•°å¹¶æ‰§è¡Œ defer func() { // å»¶æ—¶å‡½æ•°ï¼Œç­‰å¾…ä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œæ•è·panic if r := recover(); r != nil { // æ‰“å°panicä¿¡æ¯ fmt.Println(\u0026#34;Recovered from\u0026#34;, r) } }() // æ‰§è¡Œè¯­å¥ Starting the program fmt.Println(\u0026#34;Starting the program\u0026#34;) // è§¦å‘panic ç›¸å½“äºè§¦å‘javaçš„throw new Exception() panic(\u0026#34;Something went wrong!\u0026#34;) // ä¸‹é¢è¯­å¥ä¸ä¼šè¢«æ‰§è¡Œ fmt.Println(\u0026#34;This line will not be executed\u0026#34;) /* * è¿è¡Œç»“æœï¼š * - `panic` è§¦å‘äº†ä¸€ä¸ªææ…Œï¼Œç¨‹åºä¼šä¸­æ­¢æ‰§è¡Œã€‚ - `recover` æ•è·äº†ææ…Œï¼Œç¨‹åºç»§ç»­æ‰§è¡Œã€‚ * Starting the program * Recovered from Something went wrong! */ } 5. timeåŒ…\rtimeåŒ…æ˜¯Goè¯­è¨€æ ‡å‡†åº“ä¸­æä¾›çš„ä¸€ä¸ªç”¨äºå¤„ç†æ—¶é—´çš„åŒ…ï¼Œå®ƒæä¾›äº†æ—¶é—´ç›¸å…³çš„å‡½æ•°å’Œæ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨äºè·å–å½“å‰æ—¶é—´ã€æ ¼å¼åŒ–æ—¶é—´ã€è§£ææ—¶é—´ç­‰æ“ä½œã€‚ timeåŒ…ä¸­çš„Nowå‡½æ•°å¯ä»¥è·å–å½“å‰æ—¶é—´ï¼Œå®ƒè¿”å›ä¸€ä¸ªTimeç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š\n// 1. è·å–å½“å‰æ—¶é—´ currentTime := time.Now() fmt.Println(\u0026#34;å½“å‰æ—¶é—´ï¼š\u0026#34;, currentTime) // 2. è·å–å½“å‰æ—¶é—´çš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’ç­‰ä¿¡æ¯ year := currentTime.Year() month := currentTime.Month() day := currentTime.Day() hour := currentTime.Hour() minute := currentTime.Minute() second := currentTime.Second() fmt.Printf(\u0026#34;å½“å‰æ—¶é—´ï¼š%då¹´%dæœˆ%dæ—¥ %dæ—¶%dåˆ†%dç§’\\n\u0026#34;, year, month, day, hour, minute, second) // 3. æ ¼å¼åŒ–æ—¶é—´ // timeåŒ…æä¾›äº†Formatå‡½æ•°ç”¨äºæ ¼å¼åŒ–æ—¶é—´ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š fmt.Println(\u0026#34;æ ¼å¼åŒ–æ—¶é—´ï¼š\u0026#34;, currentTime.Format(\u0026#34;2006-01-02 15:04:05\u0026#34;)) // 4. è§£ææ—¶é—´ // timeåŒ…æä¾›äº†Parseå‡½æ•°ç”¨äºè§£ææ—¶é—´ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸²å’Œä¸€ä¸ªæ—¶é—´å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªTimeç±»å‹çš„å€¼è¡¨ç¤ºè§£æåçš„æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š timeStr := \u0026#34;2023-01-01 12:00:00\u0026#34; parsedTime, err := time.Parse(\u0026#34;2006-01-02 15:04:05\u0026#34;, timeStr) if err != nil { fmt.Println(\u0026#34;è§£ææ—¶é—´å¤±è´¥ï¼š\u0026#34;, err) return } fmt.Println(\u0026#34;è§£ææ—¶é—´ï¼š\u0026#34;, parsedTime) // 5. æ—¶é—´é—´éš” // timeåŒ…æä¾›äº†Durationç±»å‹è¡¨ç¤ºæ—¶é—´é—´éš”ï¼Œå®ƒè¡¨ç¤ºä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„æ—¶é—´å·®ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š duration := time.Duration(10) * time.Second fmt.Println(\u0026#34;æ—¶é—´é—´éš”ï¼š\u0026#34;, duration) // 6. æ—¶é—´æ“ä½œ // timeåŒ…æä¾›äº†Addå‡½æ•°ç”¨äºå°†æ—¶é—´é—´éš”æ·»åŠ åˆ°æ—¶é—´ä¸Šï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ—¶é—´ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š newTime := currentTime.Add(duration) fmt.Println(\u0026#34;æ–°æ—¶é—´ï¼š\u0026#34;, newTime) // 7. æ—¶é—´æ¯”è¾ƒ // timeåŒ…æä¾›äº†Beforeã€Afterå’ŒEqualå‡½æ•°ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ—¶é—´çš„å¤§å°å…³ç³»ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š if currentTime.Before(parsedTime) { fmt.Println(\u0026#34;å½“å‰æ—¶é—´åœ¨è§£ææ—¶é—´ä¹‹å‰\u0026#34;) } else if currentTime.After(parsedTime) { fmt.Println(\u0026#34;å½“å‰æ—¶é—´åœ¨è§£ææ—¶é—´ä¹‹å\u0026#34;) } else { fmt.Println(\u0026#34;å½“å‰æ—¶é—´ä¸è§£ææ—¶é—´ç›¸ç­‰\u0026#34;) } if currentTime.Equal(parsedTime) { fmt.Println(\u0026#34;å½“å‰æ—¶é—´ä¸è§£ææ—¶é—´ç›¸ç­‰\u0026#34;) } /** * ä»¥ä¸Šè¿è¡Œç»“æœï¼š * å½“å‰æ—¶é—´ï¼š 2023-10-13 10:18:00.0000007 +0800 CST m=+0.000014679 * å½“å‰æ—¶é—´ï¼š 2023å¹´10æœˆ13æ—¥ 10æ—¶18åˆ†0ç§’ * æ ¼å¼åŒ–æ—¶é—´ï¼š 2023-10-13 10:18:00 * è§£ææ—¶é—´ï¼š 2023-01-01 12:00:00 +0000 UTC * æ—¶é—´é—´éš”ï¼š 10s * æ–°æ—¶é—´ï¼š 2023-10-13 10:28:00.0000007 +0800 CST m=+10.000014679 * å½“å‰æ—¶é—´åœ¨è§£ææ—¶é—´ä¹‹å‰ * å½“å‰æ—¶é—´ä¸è§£ææ—¶é—´ä¸ç›¸ç­‰ */ æ€»ç»“ï¼š\nè·å–å½“å‰æ—¶é—´ï¼š\ttime.Now() è·å–æ—¶é—´çš„è¯¦ç»†ä¿¡æ¯ï¼š currentTime.Year() | currentTime.Month() | currentTime.Day() | currentTime.Hour() | currentTime.Minute() | currentTime.Second() æ ¼å¼åŒ–æ—¶é—´ï¼š currentTime.Format(\u0026ldquo;2006-01-02 15:04:05\u0026rdquo;) è§£ææ—¶é—´ï¼š time.Parse(\u0026ldquo;2006-01-02 15:04:05\u0026rdquo;, timeStr) æ—¶é—´é—´éš”ï¼š time.Duration(10) * time.Second æ—¶é—´æ“ä½œï¼š currentTime.Add(duration) æ—¶é—´æ¯”è¾ƒï¼š currentTime.Before(parsedTime) | currentTime.After(parsedTime) | currentTime.Equal(parsedTime) ","date":"2025-02-13T17:45:37+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-07/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬ä¸ƒç¯‡ é—­åŒ…\u0026type defer panic recoveräº†è§£\u0026timeåŒ…ã€‘"},{"content":"1. Mapæ•°æ®ç±»å‹\rMapç»“æ„æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­æ¯ä¸ªé”®éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚ Mapæ˜¯æ— åºçš„ï¼Œå³å…ƒç´ çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚ Mapçš„åˆå§‹å€¼æ˜¯nilï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨makeå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªMapã€‚ Mapç»“æ„ä¸ºå¼•ç”¨æ•°æ®ç±»å‹\n1.1. Mapå£°æ˜å’Œåˆå§‹åŒ–\r// Mapçš„å£°æ˜,å…¶ä¸­keyTypeæ˜¯é”®çš„ç±»å‹ï¼ŒvalueTypeæ˜¯å€¼çš„ç±»å‹ // 1. å…ˆå£°æ˜ var å˜é‡å map[keyType]valueType var map1 map[string]int // 2. ä½¿ç”¨makeå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªMap map1 = make(map[string]int) map1[\u0026#34;a\u0026#34;] = 1 map1[\u0026#34;b\u0026#34;] = 2 map1[\u0026#34;c\u0026#34;] = 3 // 2. å£°æ˜å³åˆ›å»º ,å¹¶èµ‹å€¼ var å˜é‡å = make(map[keyType]valueType) var map2 = make(map[string]int) map2[\u0026#34;a\u0026#34;] = 4 map2[\u0026#34;b\u0026#34;] = 5 map2[\u0026#34;c\u0026#34;] = 6 // 3. ç®€çŸ­å£°æ˜ å˜é‡å := map[keyType]valueType map3 := map[string]int{} map3[\u0026#34;a\u0026#34;] = 7 map3[\u0026#34;b\u0026#34;] = 8 map3[\u0026#34;c\u0026#34;] = 9 // 4. å£°æ˜å³åˆ›å»º,å¹¶èµ‹å€¼ var map4 = map[string]int{\u0026#34;a\u0026#34;: 10, \u0026#34;b\u0026#34;: 11, \u0026#34;c\u0026#34;: 12} // 5. ç®€çŸ­å£°æ˜,å¹¶èµ‹å€¼ map5 := map[string]int{\u0026#34;a\u0026#34;: 13, \u0026#34;b\u0026#34;: 14, \u0026#34;c\u0026#34;: 15} // 6. å£°æ˜ä¸€ä¸ªmapå’Œå®šä¹‰ä¸€ä¸ªmap,å…¶å€¼çš„åŒºåˆ« var map6 map[string]int var map7 = map[string]int{} fmt.Printf(\u0026#34;map1 ç±»å‹ï¼š%T å€¼ï¼š%v map1 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map1, map1, map1 == nil) fmt.Printf(\u0026#34;map2 ç±»å‹ï¼š%T å€¼ï¼š%v map2 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map2, map2, map2 == nil) fmt.Printf(\u0026#34;map3 ç±»å‹ï¼š%T å€¼ï¼š%v map3 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map3, map3, map3 == nil) fmt.Printf(\u0026#34;map4 ç±»å‹ï¼š%T å€¼ï¼š%v map4 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map4, map4, map4 == nil) fmt.Printf(\u0026#34;map5 ç±»å‹ï¼š%T å€¼ï¼š%v map5 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map5, map5, map5 == nil) fmt.Printf(\u0026#34;map6 ç±»å‹ï¼š%T å€¼ï¼š%v map6 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map6, map6, map6 == nil) // map6 æ˜¯ nilï¼Œä¸èƒ½ä½¿ç”¨ï¼Œå› ä¸ºä»…åšäº†å£°æ˜ï¼Œæ²¡æœ‰åˆå§‹åŒ– fmt.Printf(\u0026#34;map7 ç±»å‹ï¼š%T å€¼ï¼š%v map7 æ˜¯å¦ä¸º nil %v \\n\u0026#34;, map7, map7, map7 == nil) // map7 æ˜¯ä¸€ä¸ªç©ºçš„mapï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ /** * Mapè·å–é•¿åº¦å‡½æ•° len()ï¼Œç»“æœä¸ºé”®å€¼å¯¹ä¸ªæ•° */ map8 := map[string]string{ \u0026#34;one\u0026#34;: \u0026#34;java\u0026#34;, \u0026#34;two\u0026#34;: \u0026#34;python\u0026#34;, \u0026#34;three\u0026#34;: \u0026#34;go\u0026#34;, } fmt.Println(len(map1)) /** * ä»¥ä¸Šè¿è¡Œç»“æœ * map1 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[a:1 b:2 c:3] map1 æ˜¯å¦ä¸º nil false * map2 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[a:4 b:5 c:6] map2 æ˜¯å¦ä¸º nil false * map3 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[a:7 b:8 c:9] map3 æ˜¯å¦ä¸º nil false * map4 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[a:10 b:11 c:12] map4 æ˜¯å¦ä¸º nil false * map5 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[a:13 b:14 c:15] map5 æ˜¯å¦ä¸º nil false * map6 ç±»å‹ï¼šmap[string]int å€¼ï¼š\u0026lt;nil\u0026gt; map6 æ˜¯å¦ä¸º nil true * map7 ç±»å‹ï¼šmap[string]int å€¼ï¼šmap[] map7 æ˜¯å¦ä¸º nil false * 3 */ 1.2. Map éå†\r/** * Mapçš„éå† */ map1 := map[string]string{ \u0026#34;one\u0026#34;: \u0026#34;java\u0026#34;, \u0026#34;two\u0026#34;: \u0026#34;python\u0026#34;, \u0026#34;three\u0026#34;: \u0026#34;go\u0026#34;, } // 1. foriéå†æ–¹å¼ fmt.Println(\u0026#34;1. foriéå†æ–¹å¼\u0026#34;) keys := make([]string, 0, len(map1)) for k := range map1 { keys = append(keys, k) } for i := 0; i \u0026lt; len(keys); i++ { fmt.Printf(\u0026#34;key=%v value=%v\\n\u0026#34;, keys[i], map1[keys[i]]) } // 2. forrangeéå†æ–¹å¼ fmt.Println(\u0026#34;2. forrangeéå†æ–¹å¼\u0026#34;) for k, v := range map1 { fmt.Printf(\u0026#34;key=%v value=%v\\n\u0026#34;, k, v) } /** * ç»“æœï¼š * 1. foriéå†æ–¹å¼ * key=one value=java * key=two value=python * key=three value=go * 2. forrangeéå†æ–¹å¼ * key=one value=java * key=two value=python * key=three value=go */ 1.3 Mapå¢åˆ æ”¹æŸ¥\rmap1 := map[string]string{ \u0026#34;one\u0026#34;: \u0026#34;java\u0026#34;, \u0026#34;two\u0026#34;: \u0026#34;python\u0026#34;, \u0026#34;three\u0026#34;: \u0026#34;go\u0026#34;, } // mapçš„å¢åˆ æ”¹æŸ¥ // å¢ map1[\u0026#34;four\u0026#34;] = \u0026#34;php\u0026#34; fmt.Printf(\u0026#34;map1: %v\\n\u0026#34;, map1) // åˆ  delete(map1, \u0026#34;one\u0026#34;) fmt.Printf(\u0026#34;map1: %v\\n\u0026#34;, map1) // æ”¹ map1[\u0026#34;two\u0026#34;] = \u0026#34;c++\u0026#34; // æŸ¥ value, ok := map1[\u0026#34;two\u0026#34;] // okä¸ºtrueè¡¨ç¤ºå­˜åœ¨,ä¸ºfalseè¡¨ç¤ºä¸å­˜åœ¨ if ok { fmt.Println(value) } value1, ok1 := map1[\u0026#34;five\u0026#34;] // okä¸ºtrueè¡¨ç¤ºå­˜åœ¨,ä¸ºfalseè¡¨ç¤ºä¸å­˜åœ¨ if ok1 { fmt.Println(value1) } else { fmt.Println(\u0026#34;fiveä¸å­˜åœ¨\u0026#34;) } /* * ç»“æœ * map1: map[four:php three:go two:python] * map1: map[three:go two:python] * c++ * fiveä¸å­˜åœ¨ */ 2. function (å‡½æ•°)\rå‡½æ•°æ˜¯ä¸€æ®µå¯é‡å¤ä½¿ç”¨çš„ä»£ç å—ï¼Œç”¨æ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½\nå‡½æ•°çš„ç‰¹ç‚¹æœ‰ä¸‹ï¼š\nå‡½æ•°çš„ä½œç”¨ï¼šæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œæé«˜ä»£ç çš„ç»´æŠ¤æ€§ .ã€‘å‡½æ•°çš„è¿”å›å€¼ï¼šå‡½æ•°çš„è¿”å›å€¼æ˜¯é€šè¿‡returnè¯­å¥æ¥å®ç°çš„ï¼Œreturnè¯­å¥å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥è¿”å›å¤šä¸ªå€¼ å‡½æ•°çš„å‚æ•°ï¼šå‡½æ•°çš„å‚æ•°æ˜¯é€šè¿‡å‡½æ•°çš„å‚æ•°åˆ—è¡¨æ¥å®ç°çš„ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ä¸ªæ•° å‡½æ•°å˜é‡ä½œç”¨åŸŸï¼šå‡½æ•°å˜é‡ä½œç”¨åŸŸæ˜¯æŒ‡åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡ï¼Œè¯¥å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå‡½æ•°å¤–éƒ¨æ— æ³•è®¿é—®è¯¥å˜é‡ å‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨ï¼šå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„ç»„æˆéƒ¨åˆ†ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„è¾“å‡ºå’Œè¾“å…¥ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„æ¥å£ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„å¥‘çº¦ 2.1 å‡½æ•°å„ç§å®šä¹‰æ–¹å¼\rpackage main import \u0026#34;fmt\u0026#34; /* * å‡½æ•°åˆè¯† ä»€ä¹ˆæ˜¯å‡½æ•°ï¼šå‡½æ•°æ˜¯ä¸€æ®µå¯é‡å¤ä½¿ç”¨çš„ä»£ç å—ï¼Œç”¨æ¥å®Œæˆç‰¹å®šçš„åŠŸèƒ½ å‡½æ•°çš„ä½œç”¨ï¼šæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œæé«˜ä»£ç çš„ç»´æŠ¤æ€§ å‡½æ•°çš„å®šä¹‰ï¼šfunc å‡½æ•°å(å‚æ•°åˆ—è¡¨) è¿”å›å€¼åˆ—è¡¨ {å‡½æ•°ä½“} å‡½æ•°çš„è°ƒç”¨ï¼šå‡½æ•°å(å‚æ•°åˆ—è¡¨) å‡½æ•°çš„è¿”å›å€¼ï¼šå‡½æ•°çš„è¿”å›å€¼æ˜¯é€šè¿‡returnè¯­å¥æ¥å®ç°çš„ï¼Œreturnè¯­å¥å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥è¿”å›å¤šä¸ªå€¼ å‡½æ•°çš„å‚æ•°ï¼šå‡½æ•°çš„å‚æ•°æ˜¯é€šè¿‡å‡½æ•°çš„å‚æ•°åˆ—è¡¨æ¥å®ç°çš„ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°å¯ä»¥æ˜¯ä»»æ„ä¸ªæ•° å‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨ï¼šå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„ç»„æˆéƒ¨åˆ†ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„è¾“å‡ºå’Œè¾“å…¥ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„æ¥å£ï¼Œå‡½æ•°çš„è¿”å›å€¼å’Œå‚æ•°åˆ—è¡¨æ˜¯å‡½æ•°çš„å¥‘çº¦ * */ // å‡½æ•°å®šä¹‰ // func å‡½æ•°å(å‚æ•°åˆ—è¡¨) è¿”å›å€¼åˆ—è¡¨ { // å‡½æ•°ä½“ // } /* * 1. æ— å‚æ•°æ— è¿”å›å€¼ */ func sayHello() { fmt.Println(\u0026#34;hello world\u0026#34;) } /* * 2. æœ‰å‚æ•°æ— è¿”å›å€¼ * @param name string */ func sayHello2(name string) { fmt.Println(\u0026#34;hello\u0026#34;, name) } /** * 2. æœ‰å‚æ•°æœ‰è¿”å›å€¼ * @param a int * @param b int * @return int */ func add(a int, b int) int { return a + b } /* * 3. çœç•¥å‚æ•°ç±»å‹ï¼Œæ­¤æ—¶açš„ç±»å‹ä¸bçš„ç±»å‹ä¿æŒä¸€è‡´ * @param a int * @param b int * @return int */ func add2(a, b int) int { return a + b } /** * 4. çœç•¥è¿”å›å€¼ï¼Œæ­¤æ—¶å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸ºint * @param a int * @param b int * @return int */ func add3(a, b int) (c int) { // c := a + b c = a + b return // return c } /** * 5. å¤šä¸ªè¿”å›å€¼ * @param a int * @param b int * @return int ä¹‹å’Œ * @return int ä¹‹å·® */ func add4(a, b int) (int, int) { return a + b, a - b } /** * 6. å‘½åè¿”å›å€¼ * @param a int * @param b int * @return int ä¹‹å’Œ * @return int ä¹‹å·® */ func add5(a, b int) (sum, diff int) { sum = a + b diff = a - b return } /** * 7. å¯å˜å‚æ•° * @param a ...int * @return int */ func add6(a ...int) int { sum := 0 for _, v := range a { sum += v } return sum } /** * 8. å‡½æ•°åšå½¢å‚ * @param a int * @param b int * @param op func(int, int) int è¡¨ç¤ºå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªintç±»å‹çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªintç±»å‹çš„å€¼ */ func opreate(a, b int, op func(int, int) int) int { return op(a, b) // è°ƒç”¨å‡½æ•° } /** * 9. å‡½æ•°åšè¿”å›å€¼ * @param a int * @param b int * @return func() string */ func add7(a, b int) func() string { // å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•° f := func() string { return fmt.Sprintf(\u0026#34;%d + %d = %d\u0026#34;, a, b, a+b) // è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² } // è¿™é‡Œåªæ˜¯å®šä¹‰å‡½æ•°ï¼Œæ²¡æœ‰è°ƒç”¨å‡½æ•°ï¼Œè°ƒç”¨å‡½æ•°éœ€è¦ä½¿ç”¨f() return f // è¿”å›å‡½æ•° } /** * 10. åŒ¿åå‡½æ•° * è§£é‡Šï¼šåŒ¿åå‡½æ•°æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°ï¼ŒåŒ¿åå‡½æ•°å¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ * * @param a int æ•°å€¼1 * @param b int æ•°å€¼2 * @return func() string è¿”å›ç±»å‹ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ç±»å‹ä¸ºstring */ func add8(a, b int) func() string { return func() string { // åŒ¿åå‡½æ•°çš„å®šä¹‰ï¼Œæ²¡æœ‰å‡½æ•°å return fmt.Sprintf(\u0026#34;%d + %d = %d\u0026#34;, a, b, a+b) // è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² } // åŒ¿åå‡½æ•°çš„è°ƒç”¨ } // mainå‡½æ•° å…¥å£å‡½æ•° func main() { sayHello() sayHello2(\u0026#34;å¼ ä¸‰\u0026#34;) fmt.Printf(\u0026#34;add %d\\n\u0026#34;, add(1, 2)) fmt.Printf(\u0026#34;add2 %d\\n\u0026#34;, add2(3, 4)) fmt.Printf(\u0026#34;add3 %d\\n\u0026#34;, add3(5, 6)) sum1, diff1 := add4(7, 8) fmt.Printf(\u0026#34;add4 %d %d\\n\u0026#34;, sum1, diff1) sum2, diff2 := add5(9, 10) fmt.Printf(\u0026#34;add5 %d %d\\n\u0026#34;, sum2, diff2) fmt.Printf(\u0026#34;add6 %d\\n\u0026#34;, add6(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)) fmt.Printf(\u0026#34;opreate %d\\n\u0026#34;, opreate(1, 2, add)) fmt.Printf(\u0026#34;opreate %d\\n\u0026#34;, opreate(2, 4, func(i1, i2 int) int { // è‡ªå®šä¹‰åŒ¿åå‡½æ•°åšå‚æ•° return i1 * i2 // è¿”å›ä¸¤ä¸ªæ•°çš„ä¹˜ç§¯ })) fmt.Printf(\u0026#34;add7 %s\\n\u0026#34;, add7(1, 2)()) fmt.Printf(\u0026#34;add8 %s\\n\u0026#34;, add8(3, 4)()) /** * ä»¥ä¸Šè¿è¡Œç»“æœï¼š * hello world * hello å¼ ä¸‰ * add 3 * add2 7 * add3 11 * add4 15 -3 * add5 19 -1 * add6 55 * opreate 3 * opreate 8 * add7 1 + 2 = 3 * add8 3 + 4 = 7 */ } ","date":"2025-02-11T20:05:09+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-06/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬å…­ç¯‡ å¤åˆæ•°æ®ç±»å‹map\u0026å‡½æ•°åˆè¯†ã€‘"},{"content":"1. æ•°ç»„ï¼ˆArrayï¼‰\ræ•°ç»„: ä¸€ç³»åˆ—å›ºå®šé•¿åº¦ã€åŒä¸€ç±»å‹æ•°æ®çš„é›†åˆã€‚æ•°ç»„ä¸ºå€¼ç±»å‹\n1.1 æ•°ç»„çš„å®šä¹‰\rvar å˜é‡å = [å…ƒç´ ä¸ªæ•°]\u0026lt;æ•°æ®ç±»å‹\u0026gt; // å£°æ˜ + åˆå§‹åŒ–ï¼Œæ­¤æ—¶å¯å°†[å…ƒç´ ä¸ªæ•°]æ›¿æ¢ä¸º[...]ï¼Œè¡¨ç¤ºåˆå§‹åŒ–ä»»æ„å¤šä¸ªæ•°æ® var å˜é‡å = [å…ƒç´ ä¸ªæ•°]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} å˜é‡å:= [å…ƒç´ ä¸ªæ•°]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} ç¤ºä¾‹ï¼š\n// æ•°ç»„çš„å®šä¹‰ var arr1 [4]int // lenè·å–æ•°æ®é•¿åº¦ fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr1, len(arr1), arr1) ç»“æœï¼š\nç±»å‹ï¼š[4]int; æ•°ç»„é•¿åº¦ï¼š4; æ•°æ®ï¼š[0 0 0 0] 1.2 åˆå§‹åŒ–æ•°ç»„\r// æ•°ç»„çš„å®šä¹‰ var arr1 [4]int // lenè·å–æ•°æ®é•¿åº¦ fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr1, len(arr1), arr1) /* æ•°ç»„åˆå§‹åŒ– */ // 1.æ–¹å¼ä¸€ arr1[0] = 1 arr1[3] = 4 fmt.Printf(\u0026#34;æ–¹å¼ä¸€: ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr1, len(arr1), arr1) // 2. æ–¹å¼äºŒ var å˜é‡å = [å…ƒç´ ä¸ªæ•°]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} var arr2 = [3]float64{1, 2, 4.6} fmt.Printf(\u0026#34;æ–¹å¼äºŒ: ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr2, len(arr2), arr2) // 3. æ–¹å¼ä¸‰ å˜é‡å:= [å…ƒç´ ä¸ªæ•°]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} arr3 := [3]string{\u0026#34;java\u0026#34;, \u0026#34;Golang\u0026#34;, \u0026#34;Python\u0026#34;} fmt.Printf(\u0026#34;æ–¹å¼ä¸‰: ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr3, len(arr3), arr3) // 4. æ–¹å¼å›› var å˜é‡å = [...]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} æˆ– å˜é‡å:= [...]\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} arr4 := [...]int{2, 4, 6, 7, 8} fmt.Printf(\u0026#34;æ–¹å¼å››: ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr4, len(arr4), arr4) // 5. æ–¹å¼äº” æŒ‡å®šä¸‹æ ‡ç´¢å¼•åˆå§‹åŒ–ç´¢å¼• arr5 := [...]float64{0: 2, 2: 3.5, 5: 4.6, 7: 9} fmt.Printf(\u0026#34;æ–¹å¼äº”: ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr5, len(arr5), arr5) ç»“æœï¼š\nç±»å‹ï¼š[4]int; æ•°ç»„é•¿åº¦ï¼š4; æ•°æ®ï¼š[0 0 0 0] æ–¹å¼ä¸€: ç±»å‹ï¼š[4]int; æ•°ç»„é•¿åº¦ï¼š4; æ•°æ®ï¼š[1 0 0 4] æ–¹å¼äºŒ: ç±»å‹ï¼š[3]float64; æ•°ç»„é•¿åº¦ï¼š3; æ•°æ®ï¼š[1 2 4.6] æ–¹å¼ä¸‰: ç±»å‹ï¼š[3]string; æ•°ç»„é•¿åº¦ï¼š3; æ•°æ®ï¼š[java Golang Python] æ–¹å¼å››: ç±»å‹ï¼š[5]int; æ•°ç»„é•¿åº¦ï¼š5; æ•°æ®ï¼š[2 4 6 7 8] æ–¹å¼äº”: ç±»å‹ï¼š[8]float64; æ•°ç»„é•¿åº¦ï¼š8; æ•°æ®ï¼š[2 0 3.5 0 0 4.6 0 9] 1.3 æ•°æ®çš„å¾ªç¯éå†\r/* æ•°ç»„çš„å¾ªç¯éå† */ arr6 := [3]string{\u0026#34;java\u0026#34;, \u0026#34;Golang\u0026#34;, \u0026#34;Python\u0026#34;} // 1. ä½¿ç”¨foriå¾ªç¯ fmt.Printf(\u0026#34;foriå¾ªç¯ \u0026#34;) for i := 0; i \u0026lt; len(arr6); i++ { fmt.Printf(\u0026#34;ä¸‹æ ‡%v: å€¼ï¼š%v; \\t\u0026#34;, i, arr6[i]) } fmt.Println() // 2. ä½¿ç”¨for range fmt.Printf(\u0026#34;for rangeå¾ªç¯ \u0026#34;) for index, value := range arr6 { fmt.Printf(\u0026#34;ä¸‹æ ‡%v: å€¼ï¼š%v; \\t\u0026#34;, index, value) } ç»“æœï¼š\nforiå¾ªç¯ ä¸‹æ ‡0: å€¼ï¼šjava; ä¸‹æ ‡1: å€¼ï¼šGolang; ä¸‹æ ‡2: å€¼ï¼šPython; for rangeå¾ªç¯ ä¸‹æ ‡0: å€¼ï¼šjava; ä¸‹æ ‡1: å€¼ï¼šGolang; ä¸‹æ ‡2: å€¼ï¼šPython; 1.4 å¤šç»´æ•°ç»„\r// 2ç»´æ•°ç»„ä¸ºä¾‹ var å˜é‡å = [è¡Œä¸ªæ•°][åˆ—ä¸ªæ•°]æ•°æ®ç±»å‹{{}} var arr7 = [3][3]int{ {1, 2, 3}, // æ¯ä¸€è¡Œæ•°æ® {4, 5, 6}, {7, 8, 9}, } fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr7, len(arr7), arr7) // å¯ä»¥å¿½ç•¥è¡Œçš„æ•°æ®ä¸ªæ•°ï¼Œåˆ—çš„æ•°æ®ä¸ªæ•°ä¸å…è®¸å¿½ç•¥ var arr8 = [...][2]string{ {\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;}, {\u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;}, } fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\tæ•°ç»„é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr8, len(arr8), arr8) // äºŒç»´æ•°ç»„å¾ªç¯ for i := 0; i \u0026lt; len(arr7); i++ { for j := 0; j \u0026lt; len(arr7[i]); j++ { fmt.Printf(\u0026#34;%vè¡Œ%våˆ—: å€¼ï¼š%v; \\t\u0026#34;, i+1, j+1, arr7[i][j]) } fmt.Println() } for row, rowValue := range arr8 { for col, value := range rowValue { fmt.Printf(\u0026#34;%vè¡Œ%våˆ—: å€¼ï¼š%v; \\t\u0026#34;, row+1, col+1, value) } fmt.Println() } ç»“æœï¼š\nç±»å‹ï¼š[3][3]int; æ•°ç»„é•¿åº¦ï¼š3; æ•°æ®ï¼š[[1 2 3] [4 5 6] [7 8 9]] ç±»å‹ï¼š[2][2]string; æ•°ç»„é•¿åº¦ï¼š2; æ•°æ®ï¼š[[a b] [c d]] 1è¡Œ1åˆ—: å€¼ï¼š1; 1è¡Œ2åˆ—: å€¼ï¼š2; 1è¡Œ3åˆ—: å€¼ï¼š3; 2è¡Œ1åˆ—: å€¼ï¼š4; 2è¡Œ2åˆ—: å€¼ï¼š5; 2è¡Œ3åˆ—: å€¼ï¼š6; 3è¡Œ1åˆ—: å€¼ï¼š7; 3è¡Œ2åˆ—: å€¼ï¼š8; 3è¡Œ3åˆ—: å€¼ï¼š9; 1è¡Œ1åˆ—: å€¼ï¼ša; 1è¡Œ2åˆ—: å€¼ï¼šb; 2è¡Œ1åˆ—: å€¼ï¼šc; 2è¡Œ2åˆ—: å€¼ï¼šd; 2. åˆ‡ç‰‡ï¼ˆSliceï¼‰\råˆ‡ç‰‡ï¼šåŸºäºæ•°ç»„å®ç°çš„ä¸€å±‚å°è£…ï¼Œå¯å˜é•¿åº¦çš„åºåˆ—ï¼Œå¯è‡ªåŠ¨æ‰©å®¹ã€‚åˆ‡ç‰‡ä¸ºå¼•ç”¨ç±»å‹\n2.1 åˆ‡ç‰‡å£°æ˜ã€åˆå§‹åŒ–\rvar å˜é‡å = []\u0026lt;æ•°æ®ç±»å‹\u0026gt; // å£°æ˜ + åˆå§‹åŒ– var å˜é‡å = []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} å˜é‡å:= []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} ç¤ºä¾‹ï¼š\n// åˆ‡ç‰‡çš„å®šä¹‰ var arr1 []int // lenè·å–æ•°æ®é•¿åº¦ fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\tåˆ‡ç‰‡é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr1, len(arr1), arr1) /* åˆ‡ç‰‡åˆå§‹åŒ– */ // 1. æ–¹å¼ä¸€ var å˜é‡å = []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} var arr2 = []float64{1, 2, 4.6} fmt.Printf(\u0026#34;æ–¹å¼ä¸€: ç±»å‹ï¼š%T; \\tåˆ‡ç‰‡é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr2, len(arr2), arr2) // 2. æ–¹å¼äºŒ å˜é‡å:= []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} arr3 := []string{\u0026#34;java\u0026#34;, \u0026#34;Golang\u0026#34;, \u0026#34;Python\u0026#34;} fmt.Printf(\u0026#34;æ–¹å¼äºŒ: ç±»å‹ï¼š%T; \\tåˆ‡ç‰‡é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr3, len(arr3), arr3) // 3. æ–¹å¼ä¸‰ var å˜é‡å = []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} æˆ– å˜é‡å:= []\u0026lt;æ•°æ®ç±»å‹\u0026gt;{} arr4 := []int{2, 4, 6, 7, 8} fmt.Printf(\u0026#34;æ–¹å¼ä¸‰: ç±»å‹ï¼š%T; \\tåˆ‡ç‰‡é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr4, len(arr4), arr4) // 4. æ–¹å¼å›› æŒ‡å®šä¸‹æ ‡ç´¢å¼•åˆå§‹åŒ–ç´¢å¼• arr5 := []float64{0: 2, 2: 3.5, 5: 4.6, 7: 9} fmt.Printf(\u0026#34;æ–¹å¼å››: ç±»å‹ï¼š%T; \\tåˆ‡ç‰‡é•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr5, len(arr5), arr5) // 5. åˆ‡ç‰‡çš„å¾ªç¯å’Œæ•°ç»„ä¸€è‡´ï¼Œè¿™é‡Œä¸ä¾‹ä¸¾ ç»“æœï¼š\nç±»å‹ï¼š[]int; åˆ‡ç‰‡é•¿åº¦ï¼š0; æ•°æ®ï¼š[] æ–¹å¼ä¸€: ç±»å‹ï¼š[]float64; åˆ‡ç‰‡é•¿åº¦ï¼š3; æ•°æ®ï¼š[1 2 4.6] æ–¹å¼äºŒ: ç±»å‹ï¼š[]string; åˆ‡ç‰‡é•¿åº¦ï¼š3; æ•°æ®ï¼š[java Golang Python] æ–¹å¼ä¸‰: ç±»å‹ï¼š[]int; åˆ‡ç‰‡é•¿åº¦ï¼š5; æ•°æ®ï¼š[2 4 6 7 8] æ–¹å¼å››: ç±»å‹ï¼š[]float64; åˆ‡ç‰‡é•¿åº¦ï¼š8; æ•°æ®ï¼š[2 0 3.5 0 0 4.6 0 9] 2.2 åŸºäºæ•°ç»„åˆ›å»ºåˆ‡ç‰‡\rç¤ºä¾‹ï¼š\n// åŸºäºæ•°ç»„å®šä¹‰åˆ‡ç‰‡ var arr1 = [5]int{10, 29, 49, 58, 32} fmt.Printf(\u0026#34;ç±»å‹ï¼š%T; \\té•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, arr1, len(arr1), arr1) // 1. åˆ‡ç‰‡è·å–ï¼Œarr1[:]è·å–arr1ä¸­æ‰€æœ‰çš„æ•°æ® s1 := arr1[:] // åˆ‡ç‰‡æ•°æ®ç±»å‹ä¸º[]int,æ•°ç»„æ•°æ®ç±»å‹ä¸º[5]int fmt.Printf(\u0026#34;è·å–æ‰€æœ‰æ•°æ®--ç±»å‹ï¼š%T; \\té•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, s1, len(s1), s1) // 2. åˆ‡ç‰‡è·å–ï¼Œarr1[2:]è·å–arr1ä¸­ä»ä¸‹æ ‡ä¸º2å¼€å§‹ä¹‹åæ‰€æœ‰çš„æ•°æ®ã€åŒ…å«ä¸‹æ ‡2ã€‘ s2 := arr1[2:] fmt.Printf(\u0026#34;è·å–ä¸‹æ ‡ä¸º2å¼€å§‹ä¹‹åæ‰€æœ‰çš„æ•°æ®--ç±»å‹ï¼š%T; \\té•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, s1, len(s2), s2) // 3. åˆ‡ç‰‡è·å–ï¼Œarr1[:2]è·å–arr1ä¸­ä»ä¸‹æ ‡ä¸º2ä¹‹å‰æ‰€æœ‰çš„æ•°æ®ã€ä¸åŒ…å«ä¸‹æ ‡2ã€‘ s3 := arr1[:2] fmt.Printf(\u0026#34;è·å–ä¸‹æ ‡ä¸º2ä¹‹å‰æ‰€æœ‰çš„æ•°æ®--ç±»å‹ï¼š%T; \\té•¿åº¦ï¼š%v; \\tæ•°æ®ï¼š%v\\n\u0026#34;, s3, len(s3), s3) ç»“æœï¼š\nç±»å‹ï¼š[5]int; é•¿åº¦ï¼š5; æ•°æ®ï¼š[10 29 49 58 32] è·å–æ‰€æœ‰æ•°æ®--ç±»å‹ï¼š[]int; é•¿åº¦ï¼š5; æ•°æ®ï¼š[10 29 49 58 32] è·å–ä¸‹æ ‡ä¸º2å¼€å§‹ä¹‹åæ‰€æœ‰çš„æ•°æ®--ç±»å‹ï¼š[]int; é•¿åº¦ï¼š3; æ•°æ®ï¼š[49 58 32] è·å–ä¸‹æ ‡ä¸º2ä¹‹å‰æ‰€æœ‰çš„æ•°æ®--ç±»å‹ï¼š[]int; é•¿åº¦ï¼š2; æ•°æ®ï¼š[10 29] æ€»ç»“ï¼šæ•°æ®çš„æ‹†åˆ†ï¼šarr[start:end] ä¸­ï¼Œå«ä¹‰ä¸ºï¼šè·å–arrå¯¹åº”ä¸‹æ ‡åŒºé—´[start,end)çš„å€¼ï¼Œstart,endå¯çœç•¥ï¼Œè¡¨ç¤ºå…¶å‰æˆ–åçš„æ‰€æœ‰å€¼ã€‚\n2.2 åˆ‡ç‰‡çš„é•¿åº¦(len)å’Œå®¹é‡(cap)*\råˆ‡ç‰‡æ‹¥æœ‰è‡ªå·±çš„é•¿åº¦å’Œå®¹é‡ï¼š é•¿åº¦ï¼šåˆ‡ç‰‡çš„é•¿åº¦æ˜¯åˆ‡ç‰‡æ‰€åŒ…å«çš„å…ƒç´ ä¸ªæ•°ã€‚ç”¨**len()å‡½æ•°è·å– å®¹é‡ï¼šåˆ‡ç‰‡çš„å®¹é‡ä»ä»–ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œåˆ°åº•å±‚æ•°ç»„å…ƒç´ æœ«å°¾çš„ä¸ªæ•°ã€‚ç”¨cap()**å‡½æ•°è·å–\na := []int{2, 3, 4, 5, 6, 7} fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, a, len(a), cap(a), a) b := a[3:] fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, b, len(b), cap(b), b) c := a[:3] fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, c, len(c), cap(c), c) ç»“æœï¼š\nç±»å‹ï¼š[]int, é•¿åº¦ï¼š6, å®¹é‡ï¼š6, æ•°æ®ï¼š[2 3 4 5 6 7] ç±»å‹ï¼š[]int, é•¿åº¦ï¼š3, å®¹é‡ï¼š3, æ•°æ®ï¼š[5 6 7] ç±»å‹ï¼š[]int, é•¿åº¦ï¼š3, å®¹é‡ï¼š6, æ•°æ®ï¼š[2 3 4] 3. nilå€¼\rnilæ˜¯ä¸€ä¸ªé¢„å…ˆå£°æ˜çš„æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºæŒ‡é’ˆã€é€šé“ã€å‡½æ•°ã€æ¥å£ã€é›†åˆæˆ–åˆ‡ç‰‡ç±»å‹çš„é›¶å€¼ã€‚\næ•°æ®ç±»å‹ å£°æ˜é»˜è®¤å€¼ bool int,float 0 string \u0026quot;\u0026quot; æŒ‡é’ˆï¼ˆpointersï¼‰ nil æ•°ç»„ï¼ˆarrayï¼‰ åŸºæœ¬ç±»å‹é»˜è®¤å€¼çš„æ•°ç»„ åˆ‡ç‰‡ï¼ˆslicesï¼‰ nil é›†åˆï¼ˆmapsï¼‰ nil é€šé“ï¼ˆchannelsï¼‰ nil å‡½æ•°ï¼ˆfunctionï¼‰ nil // æ•°ç»„é»˜è®¤å€¼ var arr [3]int fmt.Println(arr) // åˆ‡ç‰‡é»˜è®¤å€¼ var slices1 []int var slices2 = []int{1} fmt.Println(slices1, slices1 == nil, slices2 == nil) ç»“æœï¼š\n[0 0 0] [] true false 4. å€¼ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹\rå€¼ç±»å‹: å€¼ç±»å‹èµ‹å€¼çš„ä¸¤ä¸ªå˜é‡ä¸ºç‹¬ç«‹ä¸ªä½“ï¼ŒAå˜åŒ–ä¸ä¼šå¼•èµ·Bçš„åŒæ­¥æ›´æ–° å¼•ç”¨æ•°æ®ç±»å‹ï¼šå¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼çš„ä¸¤ä¸ªå˜é‡ä¸ºå¼•ç”¨åŒä¸€ä¸ªå˜é‡ï¼ŒAå˜åŒ–ä¼šå¼•èµ·Bçš„å˜åŒ–ã€‚å®é™…ä¸Šæ˜¯å› ä¸ºæŒ‡å‘åŒä¸€ç‰‡å†…å­˜ç©ºé—´ã€‚å…¸å‹çš„ç¤ºä¾‹å³ï¼šåˆ‡ç‰‡ ç¤ºä¾‹ï¼š\na1 := [...]int{2, 3, 4, 5} // æ•°ç»„ å€¼å¤åˆ¶ a2 := []int{2, 3, 4, 5} // åˆ‡ç‰‡ å¼•ç”¨èµ‹å€¼ b1 := a1 // èµ‹å€¼ç»™b1 b2 := a2 // èµ‹å€¼ç»™b2 b1[0] = 6 // åŒæ ·ä¿®æ”¹ç¬¬ä¸€ä¸ªå…ƒç´ å€¼ä¸º6 b2[0] = 6 // åŒæ ·ä¿®æ”¹ç¬¬ä¸€ä¸ªå…ƒç´ å€¼ä¸º6 fmt.Printf(\u0026#34;a1=%v,b1=%v \\n\u0026#34;, a1, b1) // å€¼ç±»å‹èµ‹å€¼ï¼šb1çš„ä¿®æ”¹ä¸ä¼šå½±å“a1 fmt.Printf(\u0026#34;a2=%v,b2=%v \\n\u0026#34;, a2, b2) // å¼•ç”¨ç±»å‹èµ‹å€¼ï¼šb2çš„ä¿®æ”¹å½±å“äº†a2 ç»“æœï¼š\na1=[2 3 4 5],b1=[6 3 4 5] a2=[6 3 4 5],b2=[6 3 4 5] 5. åˆ‡ç‰‡å¸¸ç”¨å‡½æ•°\r5.1 åˆ›å»ºåˆ‡ç‰‡ï¼šmake\rmakeåˆ›å»ºåˆ‡ç‰‡ï¼Œmake([]int, 10, 11) åˆ†é…ä¸€ä¸ªåº•å±‚æ•°ç»„å¤§å°ä¸º10ï¼Œè¿”å›é•¿åº¦ä¸º11ã€å®¹é‡ä¸º10çš„åˆ‡ç‰‡intç±»å‹åˆ‡ç‰‡\nvar slice1 = make([]int, 10, 11) slice1[2] = 6 slice1[9] = 20 fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, slice1, len(slice1), cap(slice1), slice1) /* ç»“æœï¼š ç±»å‹ï¼š[]int, é•¿åº¦ï¼š10, å®¹é‡ï¼š11, æ•°æ®ï¼š[0 0 6 0 0 0 0 0 0 20] */ 5.2 æ‰©å®¹åˆ‡ç‰‡ï¼šappend\råˆ‡ç‰‡æ‰©å®¹ï¼š append(slice, elem1, elem2)æˆ–è€…append(slice, anotherSlice...)ï¼Œsliceè¡¨ç¤ºéœ€è¦æ‰©å®¹çš„åˆ‡ç‰‡ï¼Œelem*è¡¨ç¤ºæ·»åŠ çš„å…ƒç´ ï¼ŒanotherSliceè¡¨ç¤ºå…¶ä»–åˆ‡ç‰‡\n// åˆ‡ç‰‡çš„æ‰©å®¹ä¸èƒ½é€šè¿‡slice[2]ä¸‹æ ‡è¶Šç•Œæ–¹å¼ï¼Œä¼šæŠ¥é”™ä¸‹æ ‡è¶Šç•Œï¼šindex out of range [2] with length 0 var slice2 = make([]int, 0, 0) // åˆ‡ç‰‡ä¸­è¿½åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æœ€ç»ˆå…ƒç´  slice2 = append(slice2, 12, 14, 24) fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, slice2, len(slice2), cap(slice2), slice2) slice3 := []int{3, 4, 5} // åˆ‡ç‰‡çš„åˆå¹¶ï¼Œslice3...ä»£è¡¨slice3ä¸­æ‰€æœ‰çš„å…ƒç´ åˆ—ä¸¾ var slice4 = append(slice2, slice3...) fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, slice2, len(slice4), cap(slice4), slice4) /* ç»“æœï¼š ç±»å‹ï¼š[]int, é•¿åº¦ï¼š3, å®¹é‡ï¼š3, æ•°æ®ï¼š[12 14 24] ç±»å‹ï¼š[]int, é•¿åº¦ï¼š6, å®¹é‡ï¼š6, æ•°æ®ï¼š[12 14 24 3 4 5] */ 5.3 å¤åˆ¶åˆ‡ç‰‡ã€æ·±å…‹éš†ã€‘ï¼šcopy\ræ·±å…‹éš†ï¼šæŒ‡çš„æ˜¯å…‹éš†å‰åçš„å¯¹è±¡ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ä¸ªä½“ï¼Œåç»­ä¿®æ”¹å˜æ›´äº’ä¸å½±å“ æµ…å…‹éš†ï¼šæŒ‡çš„æ˜¯å…‹éš†å‰åçš„å¯¹è±¡ä¸ºåŒä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œåç»­ä¿®æ”¹AåŒæ ·å½±å“Bçš„å€¼ copy(dst, src []Type)ï¼Œdstæ˜¯destinationï¼Œè¡¨ç¤ºç›®çš„å˜é‡ï¼Œsrcæ˜¯sourceï¼Œè¡¨ç¤ºå¯¹è±¡æºï¼Œå³å°†srcå¤åˆ¶ç»™dst\n// åˆ‡ç‰‡çš„æ‰©å®¹ä¸èƒ½é€šè¿‡slice[2]ä¸‹æ ‡è¶Šç•Œæ–¹å¼ï¼Œä¼šæŠ¥é”™ä¸‹æ ‡è¶Šç•Œï¼šindex out of range [2] with length 0 var slice2 = make([]int, 0, 0) // åˆ‡ç‰‡ä¸­è¿½åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æœ€ç»ˆå…ƒç´  slice2 = append(slice2, 12, 14, 24) fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, slice2, len(slice2), cap(slice2), slice2) slice3 := []int{3, 4, 5} // åˆ‡ç‰‡çš„åˆå¹¶ï¼Œslice3...ä»£è¡¨slice3ä¸­æ‰€æœ‰çš„å…ƒç´ åˆ—ä¸¾ var slice4 = append(slice2, slice3...) fmt.Printf(\u0026#34;ç±»å‹ï¼š%T, é•¿åº¦ï¼š%v, å®¹é‡ï¼š%v, æ•°æ®ï¼š%v\\n\u0026#34;, slice2, len(slice4), cap(slice4), slice4) // åˆ‡ç‰‡çš„å¤åˆ¶æ·±å…‹éš† slice4Copy := make([]int, len(slice4)) copy(slice4Copy, slice4) slice4Copy[0] = 6666 fmt.Println(slice4, slice4Copy) /* ç»“æœï¼š ç±»å‹ï¼š[]int, é•¿åº¦ï¼š3, å®¹é‡ï¼š3, æ•°æ®ï¼š[12 14 24] ç±»å‹ï¼š[]int, é•¿åº¦ï¼š6, å®¹é‡ï¼š6, æ•°æ®ï¼š[12 14 24 3 4 5] [12 14 24 3 4 5] [6666 14 24 3 4 5] */ 5.4 åˆ‡ç‰‡çš„åˆ é™¤\rGoè¯­è¨€ä¸­æ²¡æœ‰å†…ç½®åˆ é™¤åˆ‡ç‰‡æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨appendæ–¹æ³•ï¼Œä¸åˆ‡ç‰‡å†åˆ‡ç‰‡ç»“åˆå®ç°\n// åˆ‡ç‰‡çš„åˆ é™¤ s1 := []int{1, 2, 3, 4, 5, 6} // åˆ é™¤å…ƒç´ çš„ç´¢å¼•ä¸‹æ ‡ delIndx := 3 // é€šè¿‡åˆ‡ç‰‡appendæ–¹æ³•ï¼Œä¸åˆ‡ç‰‡å†åˆ‡ç‰‡ç»“åˆå®ç°ï¼Œå³æˆªå–[0,3)å’Œ[4,5]çš„åˆ‡ç‰‡æ•°æ®å†åˆå¹¶è¾¾åˆ°åˆ é™¤æ•ˆæœ s1 = append(s1[:delIndx], s1[delIndx+1:]...) fmt.Println(s1) /* ç»“æœï¼š [1 2 3 5 6] */ 5.5 sortæ’åº\r5.5.1 å‡åºæ’åº\rä½¿ç”¨sort.Intsã€sort.Float64sã€sort.Stringsè¿›è¡Œæ’åº\nintList := []int{3, 4, 32, 32, 423, 12} float64List := []float64{3.13, 4.2, 5.3, 1.1} stringList := []string{\u0026#34;D\u0026#34;, \u0026#34;S\u0026#34;, \u0026#34;A\u0026#34;, \u0026#34;C\u0026#34;} // å‡åºæ’åº sort.Ints(intList) sort.Float64s(float64List) sort.Strings(stringList) fmt.Println(intList) fmt.Println(float64List) fmt.Println(stringList) /* ç»“æœï¼š [3 4 12 32 32 423] [1.1 3.13 4.2 5.3] [A C D S] */ 5.5.2 é™åºæ’åº\rç»“åˆsort.XXXSliceã€sort.Reverseå’Œsort.Sortå®ç°\nintList := []int{3, 4, 32, 32, 423, 12} float64List := []float64{3.13, 4.2, 5.3, 1.1} stringList := []string{\u0026#34;D\u0026#34;, \u0026#34;S\u0026#34;, \u0026#34;A\u0026#34;, \u0026#34;C\u0026#34;} /* é™åºæ’åº 1. sort.IntSlice(intList)è¡¨ç¤ºå¯¹intListè½¬æˆinterfaceï¼Œç®€å•ç†è§£ä¸ºå°†åˆ‡ç‰‡è½¬ä¸ºæ’åºå™¨æ¥å£,è¿”å›ç»“æœç±»å‹ï¼šdata sort.Interface 2. sort.Reverse(data sort.Interface)è¡¨ç¤ºç¿»è½¬åˆ‡ç‰‡ï¼Œè¿”å›ç»“æœç±»å‹ï¼šdata sort.Interface 3. sort.Sort(data sort.Interface) è¡¨ç¤ºå°†ç»“æœæ’åºè¿”å›æ•°æ® é»˜è®¤å½“åšå›ºå®šå†™æ³•ï¼šsort.Sort(sort.Reverse(sort.XXXSlice(intList))) å¦å¤–ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ’åºç®—æ³•å®ç°é™åºæ’åº */ sort.Sort(sort.Reverse(sort.IntSlice(intList))) sort.Sort(sort.Reverse(sort.Float64Slice(float64List))) sort.Sort(sort.Reverse(sort.StringSlice(stringList))) fmt.Println(intList) fmt.Println(float64List) fmt.Println(stringList) /* ç»“æœ: [423 32 32 12 4 3] [5.3 4.2 3.13 1.1] [S D C A] */ 6. æ‰©å±•æŠ€å·§\r6.1 è¯­æ³•æç¤º\rå¯¹ä¸€ä¸ªå˜é‡è¾“å…¥â€œ.â€ç¬¦å·æ—¶ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨æç¤ºè¯­æ³•å‘½ä»¤ï¼Œåç¼€æºå¸¦!çš„è¡¨ç¤ºä¸ºåŠŸèƒ½å¿«æ·æç¤ºï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„åŠæˆå“ä»£ç \næˆªå›¾ä¸­æç¤ºè¯­åŠŸèƒ½\nåŠŸèƒ½æç¤ºè¯­å¥ å«ä¹‰ append! åˆ‡ç‰‡è¿½åŠ æ•°æ® copy! copyå…‹éš†åˆ‡ç‰‡ for! foriå¾ªç¯ forr! for rangeå¾ªç¯ ifnotnil! if not nil æ¡ä»¶åˆ¤æ–­ last! ç­‰ä»·äºa[len(a -1)]è·å–æœ€åä¸€ä¸ªå…ƒç´  len! ç­‰ä»·äºlen(a)è·å–é•¿åº¦ print! æ‰“å°å˜é‡ range! ç­‰ä»·äºforr! reverse! ç¿»è½¬åˆ‡ç‰‡ sort! è‡ªå®šå®šæ’åº var! å°†aèµ‹å€¼äºæ–°çš„å˜é‡ 6.2 æ–¹æ³•å‚æ•°ã€å«ä¹‰ä½¿ç”¨æ¢ç©¶\ré¼ æ ‡ç§»åŠ¨è‡³æ–¹æ³•å1sä»¥ä¸Šï¼Œæ˜¾ç¤ºæ–¹æ³•åå‚æ•°ã€è¿”å›å€¼ï¼Œå«ä¹‰ï¼Œæè¿°è¯¦æƒ…ç­‰ä¿¡æ¯ ç”¨ctrlæŒ‰é”®+é¼ æ ‡å·¦é”®ï¼Œç‚¹å‡»æ–¹æ³•åï¼Œå³å¯è¿›å…¥æ–¹æ³•åå‚æ•°ã€è¿”å›å€¼ï¼Œå«ä¹‰ï¼Œæè¿°è¯¦æƒ…ç­‰ä¿¡æ¯ï¼Œå¦‚æœä¸æ‡‚è‹±æ–‡ï¼Œå¯ä»¥é€šè¿‡ç¿»è¯‘å·¥å…·è®¤è¯†é€æ­¥äº†è§£å­¦ä¹  ","date":"2025-01-08T22:05:33+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-05/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬äº”ç¯‡ å¤åˆæ•°æ®ç±»å‹ï¼šæ•°ç»„\u0026åˆ‡ç‰‡ã€‘"},{"content":"1. è¿ç®—ç¬¦\r1.1 ç®—æœ¯è¿ç®—ç¬¦\rç¬¦å· æè¿° + åŠ æ³• - å‡æ³• * ä¹˜æ³• / é™¤æ³• % å–ä½™ ç¤ºä¾‹ï¼š\n/* 1. ç®—æœ¯è¿ç®—ç¬¦ */ num1 := 5 num2 := 3 fmt.Printf(\u0026#34;%v + %v = %v\\n\u0026#34;, num1, num2, num1+num2) // åŠ æ³•è¿ç®— fmt.Printf(\u0026#34;%v - %v = %v\\n\u0026#34;, num1, num2, num1-num2) // å‡æ³•è¿ç®— fmt.Printf(\u0026#34;%v * %v = %v\\n\u0026#34;, num1, num2, num1*num2) // ä¹˜æ³•è¿ç®— fmt.Printf(\u0026#34;%v / %v = %v\\n\u0026#34;, num1, num2, num1/num2) // é™¤æ³•è¿ç®—ï¼šé™¤æ³•è¿ç®—ï¼Œå–æ•´æ•°éƒ¨åˆ†ï¼Œfloatç±»å‹è¿ç®—å–å…¨éƒ¨å€¼ // %% è½¬ä¹‰ï¼Œè¾“å‡º% fmt.Printf(\u0026#34;%v %% %v = %v\\n\u0026#34;, num1, num2, num1%num2) // å–ä½™è¿ç®—ï¼šå–ä½™æ•° /* Goä¸­è‡ªå¢ï¼Œè‡ªå‡è¿ç®—ä¸ºè¯­å¥ï¼Œä¸å±äºè¿ç®—ç¬¦ï¼Œä¸èƒ½èµ‹å€¼ï¼Œè¿™ä¸€ç‚¹ä¸åŒäºå…¶ä»–è¯­è¨€ ++ è‡ªå¢ -- è‡ªå‡ */ num2++ fmt.Printf(\u0026#34;num2è‡ªå¢åï¼š%v \\n\u0026#34;, num2) num2-- fmt.Printf(\u0026#34;num2è‡ªå‡åï¼š%v \\n\u0026#34;, num2) ç»“æœï¼š\n5 + 3 = 8 5 - 3 = 2 5 * 3 = 15 5 / 3 = 1 5 % 3 = 2 num2è‡ªå¢åï¼š4 num2è‡ªå‡åï¼š3 1.2 å…³ç³»è¿ç®—ç¬¦\rç¬¦å· æè¿° == ç­‰äº != ä¸ç­‰äº \u0026gt; å¤§äº \u0026gt;= å¤§äºç­‰äº \u0026lt; å°äº \u0026lt;= å°äºç­‰äº ç¤ºä¾‹ï¼š\n/* 2. å…³ç³»è¿ç®—ç¬¦ */ num3, num4 := 8, 6 fmt.Printf(\u0026#34;%v == %v = %v\\n\u0026#34;, num3, num4, num3 == num4) // false fmt.Printf(\u0026#34;%v != %v = %v\\n\u0026#34;, num3, num4, num3 != num4) // true fmt.Printf(\u0026#34;%v \u0026gt; %v = %v\\n\u0026#34;, num3, num4, num3 \u0026gt; num4) // true fmt.Printf(\u0026#34;%v \u0026gt;= %v = %v\\n\u0026#34;, num3, num4, num3 \u0026gt;= num4) // true fmt.Printf(\u0026#34;%v \u0026lt; %v = %v\\n\u0026#34;, num3, num4, num3 \u0026lt; num4) // false fmt.Printf(\u0026#34;%v \u0026lt;= %v = %v\\n\u0026#34;, num3, num4, num3 \u0026lt;= num4) // false ç»“æœï¼š\n8 == 6 = false 8 != 6 = true 8 \u0026gt; 6 = true 8 \u0026gt;= 6 = true 8 \u0026lt; 6 = false 8 \u0026lt;= 6 = false 1.3 é€»è¾‘è¿ç®—ç¬¦\rç¬¦å· æè¿° \u0026amp;\u0026amp; é€»è¾‘ä¸ || é€»è¾‘æˆ– ! å–é ç¤ºä¾‹ï¼š\n/* 3. é€»è¾‘è¿ç®—ç¬¦ \u0026amp;\u0026amp;: çœŸ \u0026amp;\u0026amp; å‡ = false å‡ \u0026amp;\u0026amp; çœŸ = false å‡ \u0026amp;\u0026amp; å‡ = false çœŸ \u0026amp;\u0026amp; çœŸ = true ||: çœŸ || å‡ = true å‡ || çœŸ = true çœŸ || çœŸ = true å‡ || å‡ = false !: !çœŸ = false !å‡ = true */ num5, num6 := 16, 20 fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026gt; 15 \u0026amp;\u0026amp; num6 \u0026lt; 20) // false fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026lt; 15 \u0026amp;\u0026amp; num6 == 20) // false fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026gt; 15 \u0026amp;\u0026amp; num6 == 20) // true fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026gt; 15 || num6 \u0026lt; 20) // true fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026lt; 15 || num6 == 20) // true fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026gt; 15 || num6 == 20) // true fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, num5 \u0026lt; 15 || num6 \u0026gt; 20) // false fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, !(num5 \u0026lt; 15)) // true fmt.Printf(\u0026#34;å€¼ = %v\\n\u0026#34;, !(num6 == 20)) // false ç»“æœï¼š\nå€¼ = false å€¼ = false å€¼ = true å€¼ = true å€¼ = true å€¼ = true å€¼ = false å€¼ = true å€¼ = false 1.4 èµ‹å€¼è¿ç®—ç¬¦\rç¬¦å· æè¿° = èµ‹å€¼ï¼Œè¡¨è¾¾å¼å³å˜èµ‹å€¼ç»™å·¦è¾¹ += å…ˆåŠ åèµ‹å€¼ -= å…ˆå‡åèµ‹å€¼ *= å…ˆä¹˜åèµ‹å€¼ /= å…ˆé™¤åèµ‹å€¼ %= å…ˆå–ä½™åèµ‹å€¼ \u0026laquo;= å…ˆå·¦ç§»åèµ‹å€¼(é«˜çº§ç”¨æ³•) \u0026raquo;= å…ˆå³ç§»åèµ‹å€¼(é«˜çº§ç”¨æ³•) \u0026amp;= å…ˆæŒ‰ä½ä¸åèµ‹å€¼(é«˜çº§ç”¨æ³•) |= å…ˆæŒ‰ä½æˆ–åèµ‹å€¼(é«˜çº§ç”¨æ³•) ^= å…ˆæŒ‰ä½å¼‚æˆ–åèµ‹å€¼(é«˜çº§ç”¨æ³•) ç¤ºä¾‹ï¼š\n/* 1.4 èµ‹å€¼è¿ç®—ç¬¦ */ num6, num7 := 3, 6 num7 += num6 // ç­‰ä»·äº num7 := num7 + num6 fmt.Printf(\u0026#34;num7 += num6 ç»“æœä¸ºï¼š %v\\n\u0026#34;, num7) num7 = 6 // èµ‹å€¼åˆå§‹å€¼ num7 -= num6 // ç­‰ä»·äº num7 := num7 - num6 fmt.Printf(\u0026#34;num7 -= num6 ç»“æœä¸ºï¼š %v\\n\u0026#34;, num7) num7 = 6 // èµ‹å€¼åˆå§‹å€¼ num7 *= num6 // ç­‰ä»·äº num7 := num7 * num6 fmt.Printf(\u0026#34;num7 *= num6 ç»“æœä¸ºï¼š %v\\n\u0026#34;, num7) num7 = 6 // èµ‹å€¼åˆå§‹å€¼ num7 /= num6 // ç­‰ä»·äº num7 := num7 / num6 fmt.Printf(\u0026#34;num7 /= num6 ç»“æœä¸ºï¼š %v\\n\u0026#34;, num7) num7 = 6 // èµ‹å€¼åˆå§‹å€¼ num7 %= num6 // ç­‰ä»·äº num7 := num7 % num6 fmt.Printf(\u0026#34;num7 %%= num6 ç»“æœä¸ºï¼š %v\\n\u0026#34;, num7) ç»“æœï¼š\nnum7 += num6 ç»“æœä¸ºï¼š 9 num7 -= num6 ç»“æœä¸ºï¼š 3 num7 *= num6 ç»“æœä¸ºï¼š 18 num7 /= num6 ç»“æœä¸ºï¼š 2 num7 %= num6 ç»“æœä¸ºï¼š 0 é«˜çº§ç”¨æ³•åœ¨äºŒè¿›åˆ¶è¿ç®—ä¸­ä¸¾ä¾‹ï¼Œç‚¹å‡»æ­¤å¤„è·³è½¬\n1.5 å…¶ä»–è¿ç®—ç¬¦\rç¬¦å· æè¿° \u0026amp; è¿”å›å˜é‡å­˜å‚¨åœ°å€ * æŒ‡é’ˆå˜é‡ è®¡ç®—æœºä¸Šæ˜¯é€šè¿‡åœ°å€ç©ºé—´å­˜å‚¨å˜é‡ã€‚ åœ°å€æ˜¯æŒ‡å­˜å‚¨å˜é‡çš„å†…å­˜ä½ç½®ï¼Œå³å˜é‡çš„åœ°å€ï¼Œä¸€èˆ¬ç”±16è¿›åˆ¶æ•°å€¼è¡¨ç¤ºï¼› æŒ‡é’ˆæ˜¯æŒ‡å‘å˜é‡åœ°å€çš„å˜é‡ï¼› å˜é‡çš„å€¼ï¼šåœ¨å½“å‰å†…å­˜ç©ºé—´ä½ç½®ä¸Šå­˜å‚¨äº†å˜é‡è¡¨ç¤ºçš„å€¼ã€‚\nç¤ºä¾‹\n/* 1.5 å…¶ä»–è¿ç®—ç¬¦ \u0026amp;ï¼šç”¨äºè·å–å˜é‡çš„åœ°å€å€¼ *: ç”¨æˆ·è·å–åœ°å€ä¸Šå­˜å‚¨çš„å€¼ */ // var p *int num8 := 100 p = \u0026amp;num8 // å°†num8çš„åœ°å€èµ‹å€¼äºp ,è·å–æŒ‡é’ˆçš„å€¼ç”¨*p fmt.Printf(\u0026#34;påœ°å€å€¼=%v,pçš„å€¼=%v\u0026#34;, p, *p) ç»“æœï¼š\npåœ°å€å€¼=0xc00000a0d8,pçš„å€¼=100 2. äºŒè¿›åˆ¶è¿ç®—\rä»¥ä¸‹æ‰€æœ‰çš„æ“ä½œè¿ç®—éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶æ•°å€¼æ“ä½œ\nç¬¦å· æè¿° \u0026amp; æŒ‰ä½ä¸ | æŒ‰ä½æˆ– ^ å¼‚æˆ– \u0026laquo; å·¦ç§» \u0026raquo; å³ç§» è¿ç®—é€»è¾‘ï¼š\np q p\u0026amp;q p|q p^q 0 0 0 0 0 1 0 0 1 1 0 1 0 1 1 1 1 1 1 0 \u0026amp;è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹å…¨ä¸º1æ—¶å€¼ä¸º1ï¼Œå…¶ä½™ä½0 |è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹å…¨ä¸º0æ—¶å€¼ä¸º0ï¼Œå…¶ä½™ä¸º1 ^è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹æ•°å€¼ä¸åŒä¸º1ï¼Œç›¸åŒä¸º0 \u0026laquo;è¿ç®—ï¼šä¾‹å¦‚ p\u0026laquo;q ï¼Œpçš„äºŒè¿›åˆ¶å€¼å·¦ç§»qä½ã€‚å³è¾¹ç©ºä½è¡¥0 \u0026gt;\u0026gt;è¿ç®—ï¼šä¾‹å¦‚ p\u0026raquo;q ï¼Œpçš„äºŒè¿›åˆ¶å€¼å³ç§»qä½ã€‚åˆ é™¤å·¦è¾¹ç©ºä½0 äºŒè¿›åˆ¶è¿ç®—åœ¨æ“ä½œåœ°å€è¿ç®—ï¼ŒIPè¿ç®—ç­‰åå‘äºç¡¬ä»¶æœ‰ç€æ•ˆç‡é«˜ï¼Œè¿ç®—å¿«çš„ç‰¹ç‚¹\nç¤ºä¾‹ï¼š\n/* 1.6 äºŒè¿›åˆ¶è¿ç®— \u0026amp;è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹å…¨ä¸º1æ—¶å€¼ä¸º1ï¼Œå…¶ä½™ä½0 |è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹å…¨ä¸º0æ—¶å€¼ä¸º0ï¼Œå…¶ä½™ä¸º1 ^è¿ç®—ï¼šè¿ç®—ä¸¤è¾¹æ•°å€¼ä¸åŒä¸º1ï¼Œç›¸åŒä¸º0 \u0026lt;\u0026lt;è¿ç®—ï¼šä¾‹å¦‚ p\u0026lt;\u0026lt;q ï¼Œpçš„äºŒè¿›åˆ¶å€¼å·¦ç§»qä½ã€‚å³è¾¹ç©ºä½è¡¥0 \u0026gt;\u0026gt;è¿ç®—ï¼šä¾‹å¦‚ p\u0026gt;\u0026gt;q ï¼Œpçš„äºŒè¿›åˆ¶å€¼å³ç§»qä½ã€‚åˆ é™¤å·¦è¾¹ç©ºä½0 */ var num1 = 0b101011 var num2 = 0b110001 fmt.Printf(\u0026#34;%b \u0026amp; %b = %b \\n\u0026#34;, num1, num2, num1\u0026amp;num2) fmt.Printf(\u0026#34;%b | %b = %b \\n\u0026#34;, num1, num2, num1|num2) fmt.Printf(\u0026#34;%b ^ %b = %b \\n\u0026#34;, num1, num2, num1^num2) fmt.Printf(\u0026#34;%b \u0026lt;\u0026lt; %d = %b \\n\u0026#34;, num1, 2, num1\u0026lt;\u0026lt;2) fmt.Printf(\u0026#34;%b \u0026gt;\u0026gt; %d = %b \\n\u0026#34;, num2, 2, num2\u0026gt;\u0026gt;2) // ä½¿ç”¨é«˜çº§èµ‹å€¼è¿ç®—ç¬¦è®¡ç®— num2 = 0b110001 // åˆå§‹åŒ– num2 \u0026amp;= num1 fmt.Printf(\u0026#34;ç”¨\u0026amp;= è®¡ç®—ï¼š%b \u0026amp; 110001 = %b \\n\u0026#34;, num1, num2) num2 = 0b110001 // åˆå§‹åŒ– num2 |= num1 fmt.Printf(\u0026#34;ç”¨|= è®¡ç®—ï¼š%b | 110001 = %b \\n\u0026#34;, num1, num2) num2 = 0b110001 // åˆå§‹åŒ– num2 ^= num1 fmt.Printf(\u0026#34;ç”¨^= è®¡ç®—ï¼š%b ^ 110001 = %b \\n\u0026#34;, num1, num2) num1 = 0b110001 // åˆå§‹åŒ– num1 \u0026lt;\u0026lt;= 2 fmt.Printf(\u0026#34;ç”¨\u0026lt;\u0026lt;= è®¡ç®—ï¼š110001 \u0026lt;\u0026lt; %d = %b \\n\u0026#34;, 2, num1) num2 = 0b110001 // åˆå§‹åŒ– num2 \u0026gt;\u0026gt;= 2 fmt.Printf(\u0026#34;ç”¨\u0026gt;\u0026gt;= è®¡ç®—ï¼š110001 \u0026gt;\u0026gt; %d = %b \\n\u0026#34;, 2, num2) ç»“æœï¼š\n101011 \u0026amp; 110001 = 100001 101011 | 110001 = 111011 101011 ^ 110001 = 11010 101011 \u0026lt;\u0026lt; 2 = 10101100 110001 \u0026gt;\u0026gt; 2 = 1100 ç”¨\u0026amp;= è®¡ç®—ï¼š101011 \u0026amp; 110001 = 100001 ç”¨|= è®¡ç®—ï¼š101011 | 110001 = 111011 ç”¨^= è®¡ç®—ï¼š101011 ^ 110001 = 11010 ç”¨\u0026lt;\u0026lt;= è®¡ç®—ï¼š110001 \u0026lt;\u0026lt; 2 = 11000100 ç”¨\u0026gt;\u0026gt;= è®¡ç®—ï¼š110001 \u0026gt;\u0026gt; 2 = 1100 \u0026amp;å’Œ|å¦™ç”¨\nä¾‹ï¼šå‡è®¾ï¼Œç”¨5ä½äºŒè¿›åˆ¶è¡¨ç¤ºåº§ä½çš„ç©ºé—²å’Œå ç”¨ï¼Œé‚£ä¹ˆå…¨éƒ¨ç©ºé—²ä¸ºï¼š00000ï¼Œå…¨éƒ¨å ç”¨ä¸ºï¼š11111ã€‚é‚£ä¹ˆæœ‰ä¸¤ç§åœºæ™¯ï¼š1. æŒ‡å®šç¬¬1,3,5ä¸ºç©ºé—²çŠ¶æ€ï¼›2.æŒ‡å®šç¬¬2,4åº§ä½ä¸ºå ç”¨çŠ¶æ€çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š\n// é»˜è®¤åº§ä½ä»£è¡¨ï¼šå ç”¨ï¼Œç©ºé—²ï¼Œç©ºé—²ï¼Œå ç”¨ï¼Œå ç”¨ var seat = 0b10011 // å°†1,3,5çš„ä½ç½®ç½®ä¸ºç©ºé—²0ï¼Œå³ç›®æ ‡ç»“æœï¼šç©ºé—²ï¼Œç©ºé—²ï¼Œç©ºé—²ï¼Œå ç”¨ï¼Œç©ºé—² var initValue1 = 0b01010 // è§£é‡Šï¼šä¸ç®¡åŸå€¼æ˜¯0æˆ–è€…1ï¼Œåªè¦initValue1ç¬¬1,3,5ä½ç½®ä¸º0,\u0026amp;çš„æœ€ç»ˆç»“æœéƒ½ä¸º0ï¼Œè€ŒinitValue1ç¬¬2,4ä½ç½®ä¸º1,ä¿è¯\u0026amp;ç»“æœä¿ç•™åŸæ¥çš„å€¼ä¸å˜ fmt.Printf(\u0026#34;å°†1,3,5çš„ä½ç½®ç½®ä¸º0:%b \\n\u0026#34;, seat\u0026amp;initValue1) // ç»“æœ10ï¼Œå³00010ï¼Œå‰ç¼€0çœç•¥ // å°†2,4çš„ä½ç½®ç½®ä¸ºå ç”¨1ï¼Œå³ç›®æ ‡ç»“æœï¼šå ç”¨ï¼Œå ç”¨ï¼Œç©ºé—²ï¼Œå ç”¨ï¼Œå ç”¨ var initValue2 = 0b01010 // è§£é‡Šï¼šä¸ç®¡åŸå€¼æ˜¯0æˆ–è€…1ï¼Œåªè¦initValue2ç¬¬2,4ä½ç½®ä¸º1,|çš„æœ€ç»ˆç»“æœéƒ½ä¸º1ï¼Œè€ŒinitValue1ç¬¬1,3,5ä½ç½®ä¸º0,ä¿è¯|ç»“æœä¿ç•™åŸæ¥çš„å€¼ä¸å˜ fmt.Printf(\u0026#34;å°†2,4çš„ä½ç½®ç½®ä¸º1:%b \\n\u0026#34;, seat|initValue2) // ç»“æœ11011 å°†1,3,5çš„ä½ç½®ç½®ä¸º0:10 å°†2,4çš„ä½ç½®ç½®ä¸º1:11011 ç”±ä¸Šè¿°ç¤ºä¾‹å¯è§ï¼Œä½¿ç”¨åŒä¸€ä¸ªäºŒè¿›åˆ¶01010å€¼ï¼Œå°±èƒ½æ“ä½œä¸¤ç§ä¸åŒçš„åœºæ™¯è¿ç®—ï¼Œè¿™åœ¨ä¿¡å·ç¯æ§åˆ¶ã€å¼€å…³æ§åˆ¶ç­‰ä¸¤ç§å–åæ“ä½œåœºæ™¯ä¸­éå¸¸é€‚ç”¨\n3. æµç¨‹æ§åˆ¶\r3.1 æ¡ä»¶è¡¨è¾¾å¼if\ræ¡ä»¶åˆ¤æ–­ï¼šæŒ‰ç…§ç¨‹åºé¡ºåºæ‰§è¡Œï¼Œä»…å¯æ‰§è¡Œæ»¡è¶³ä¸€ä¸ªæ¡ä»¶çš„è¯­å¥å†…å®¹ã€‚\nç¤ºä¾‹ï¼š\n/* ä¸‹åˆ—æ ¼å¼ä¸¥æ ¼æŒ‰ç…§ä¹¦å†™è§„èŒƒï¼Œå¦åˆ™æŠ¥é”™ 1. æ¡ä»¶åˆ¤æ–­ï¼š if æ¡ä»¶åˆ¤æ–­1 { } else if æ¡ä»¶åˆ¤æ–­2 { } else if ... { } else { } */ // å†™æ³•1 , æ­¤æ—¶scoreä½œç”¨äºåœ¨å½“å‰èŒƒå›´ä½œç”¨åŸŸ score := 60 if score \u0026gt;= 90 { // \u0026gt;= 90 fmt.Println(\u0026#34;æˆç»©å“è¶Š\u0026#34;) } else if score \u0026gt;= 80 { // \u0026gt;= 80 \u0026amp;\u0026amp; \u0026lt; 90 fmt.Println(\u0026#34;æˆç»©ä¼˜ç§€\u0026#34;) } else if score \u0026gt;= 70 { // \u0026gt;= 70 \u0026amp;\u0026amp; \u0026lt; 80 fmt.Println(\u0026#34;æˆç»©è‰¯å¥½\u0026#34;) } else if score \u0026gt;= 60 { // \u0026gt;= 60 \u0026amp;\u0026amp; \u0026lt; 70 fmt.Println(\u0026#34;æˆç»©åˆæ ¼\u0026#34;) } else { // \u0026lt; 60 fmt.Println(\u0026#34;æˆç»©ä¸åˆæ ¼\u0026#34;) } // å†™æ³•2ï¼š æ­¤æ—¶score1ä½œç”¨äºåœ¨å½“å‰ifå†…éƒ¨ä½œç”¨åŸŸ if score1 := 80; score1 \u0026gt;= 90 { // \u0026gt;= 90 fmt.Println(\u0026#34;æˆç»©å“è¶Š\u0026#34;) } else if score1 \u0026gt;= 80 { // \u0026gt;= 80 \u0026amp;\u0026amp; \u0026lt; 90 fmt.Println(\u0026#34;æˆç»©ä¼˜ç§€\u0026#34;) } else if score1 \u0026gt;= 70 { // \u0026gt;= 70 \u0026amp;\u0026amp; \u0026lt; 80 fmt.Println(\u0026#34;æˆç»©è‰¯å¥½\u0026#34;) } else if score1 \u0026gt;= 60 { // \u0026gt;= 60 \u0026amp;\u0026amp; \u0026lt; 70 fmt.Println(\u0026#34;æˆç»©åˆæ ¼\u0026#34;) } else { // \u0026lt; 60 fmt.Println(\u0026#34;æˆç»©ä¸åˆæ ¼\u0026#34;) } // æ­¤æ—¶ä½¿ç”¨score1ä¼šæŠ¥é”™ fmt.Println(strconv.Itoa(score)) ç»“æœï¼š\næˆç»©åˆæ ¼ æˆç»©ä¼˜ç§€ 80 åœ¨è¿™é‡Œæ’å…¥ä»£ç ç‰‡ 3.2 forå¾ªç¯\r/* ()å†…å®¹å¯ä»¥çœç•¥ for (åˆå§‹è¯­å¥;)(æ¡ä»¶è¡¨è¾¾å¼;)(ç»“æŸè¯­å¥) { å¾ªç¯ä½“ } æ‰§è¡Œé¡ºåºï¼š 1. æ‰§è¡Œåˆå§‹è¯­å¥ 2. æ¡ä»¶è¡¨è¾¾å¼ 3. å¾ªç¯ä½“ 4. ç»“æŸè¯­å¥ 5. æ¡ä»¶è¡¨è¾¾å¼,åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ 6. å¦‚æœæ»¡è¶³æ¡ä»¶ä¸ºtrueï¼šç¬¬3,4,5æ­¥å¾ªç¯æ‰§è¡Œï¼Œç›´åˆ°æ¡ä»¶è¡¨è¾¾å¼ä¸ºfalseç»“æŸ */ var str = \u0026#34;hello world\u0026#34; // å†™æ³•1 for i := 0; i \u0026lt; len(str); i++ { fmt.Printf(\u0026#34;%c \u0026#34;, str[i]) } fmt.Println() // å†™æ³•2 i := 0 for i \u0026lt; len(str) { fmt.Printf(\u0026#34;%c \u0026#34;, str[i]) i++ } fmt.Println() // å†™æ³•3 Goä¸­æ²¡æœ‰whileæ§åˆ¶è¯­å¥ï¼Œè¯¥å†™æ³•å¯æ›¿ä»£ i = 0 for { if i \u0026gt;= len(str) { break } fmt.Printf(\u0026#34;%c \u0026#34;, str[i]) i++ } ç»“æœï¼š\nh e l l o w o r l d h e l l o w o r l d h e l l o w o r l d 3.3 for range(é”®å€¼å¾ªç¯)\rç¤ºä¾‹ï¼š\n/* for ...range æ ¼å¼ for é”®,å€¼ := range å˜é‡{ å¾ªç¯ä½“ } */ text := \u0026#34;ä½ å¥½,program\u0026#34; for k, v := range text { fmt.Printf(\u0026#34;k=%v,v=%c\\n\u0026#34;, k, v) } ç»“æœï¼š\nk=0,v=ä½  k=3,v=å¥½ k=6,v=, k=7,v=p k=8,v=r k=9,v=o k=10,v=g k=11,v=r k=12,v=a k=13,v=m 3.4 switch\u0026hellip;case\rä¸ifæ¡ä»¶åˆ¤æ–­ç±»å‹ï¼Œswitch\u0026hellip;caseæ›´å¤šç”¨äºåˆ¤æ–­æšä¸¾ç±»å‹\n/* switch æšä¸¾å€¼{ case å›ºå®šå€¼1: (break) case å›ºå®šå€¼2: (break) case å›ºå®šå€¼3: (break) ... default: } æ‰§è¡Œé¡ºåºï¼š1. æšä¸¾å€¼ 2. case å‘½ä¸­ï¼Œå“ªä¸€ä¸ªcaseå‘½ä¸­ï¼Œæ‰§è¡Œå“ªä¸ªcaseä¸‹çš„è¯­å¥ */ // å†™æ³•1 var week = 3 switch week { case 1: fmt.Println(\u0026#34;å‘¨ä¸€\u0026#34;) case 2: fmt.Println(\u0026#34;å‘¨äºŒ\u0026#34;) case 3: fmt.Println(\u0026#34;å‘¨ä¸‰\u0026#34;) case 4: fmt.Println(\u0026#34;å‘¨å››\u0026#34;) case 5: fmt.Println(\u0026#34;å‘¨äº”\u0026#34;) case 6: fmt.Println(\u0026#34;å‘¨å…­\u0026#34;) case 7: fmt.Println(\u0026#34;å‘¨æ—¥\u0026#34;) default: fmt.Println(\u0026#34;ä¸å­˜åœ¨\u0026#34;) } // å†™æ³•2ï¼ŒåŒæ ·week1ä»…ä½œç”¨åŸŸåœ¨switchå†…éƒ¨ switch week1 := 0; week1 { case 1: fmt.Println(\u0026#34;å‘¨ä¸€\u0026#34;) case 2: fmt.Println(\u0026#34;å‘¨äºŒ\u0026#34;) case 3: fmt.Println(\u0026#34;å‘¨ä¸‰\u0026#34;) case 4: fmt.Println(\u0026#34;å‘¨å››\u0026#34;) case 5: fmt.Println(\u0026#34;å‘¨äº”\u0026#34;) case 6: fmt.Println(\u0026#34;å‘¨å…­\u0026#34;) case 7: fmt.Println(\u0026#34;å‘¨æ—¥\u0026#34;) default: fmt.Println(\u0026#34;ä¸å­˜åœ¨\u0026#34;) } // å†™æ³•3, case å¯ä»¥å†™å¤šä¸ªæšä¸¾å€¼ switch num := 10; num { case 0, 2, 4, 6, 8, 10: fmt.Println(\u0026#34;å¶æ•°\u0026#34;) case 1, 3, 5, 7, 9: fmt.Println(\u0026#34;å¥‡æ•°\u0026#34;) } // å†™æ³•4ï¼Œcase ä¸­å¯ä»¥å†™æ¡ä»¶è¡¨è¾¾å¼ score := 80 switch { case score \u0026gt;= 90: fmt.Println(\u0026#34;å“è¶Š\u0026#34;) case score \u0026gt;= 80: fmt.Println(\u0026#34;ä¼˜ç§€\u0026#34;) case score \u0026gt;= 70: fmt.Println(\u0026#34;è‰¯å¥½\u0026#34;) case score \u0026gt;= 60: fmt.Println(\u0026#34;åŠæ ¼\u0026#34;) default: fmt.Println(\u0026#34;ä¸åŠæ ¼\u0026#34;) } ç»“æœï¼š\nå‘¨ä¸‰ ä¸å­˜åœ¨ å¶æ•° ä¼˜ç§€ Goè¯­è¨€çš„switch..caseä¸­ï¼Œbreaké»˜è®¤å­˜åœ¨çš„ï¼Œå³ä»…èƒ½æ‰§è¡Œcaseï¼Œä¸èƒ½è¯­å¥ç©¿é€ã€‚å¦‚æœéœ€è¦è¯­å¥ç©¿é€ï¼Œå¯ä½¿ç”¨fallthroughè¯­å¥ï¼Œä¸€æ¬¡ä½¿ç”¨ä»…èƒ½ç©¿é€ä¸€å±‚ ä¾‹ï¼š\nswitch week1 := 5; week1 { case 1: fmt.Println(\u0026#34;å‘¨ä¸€\u0026#34;) case 2: fmt.Println(\u0026#34;å‘¨äºŒ\u0026#34;) case 3: fmt.Println(\u0026#34;å‘¨ä¸‰\u0026#34;) case 4: fmt.Println(\u0026#34;å‘¨å››\u0026#34;) case 5: fmt.Println(\u0026#34;å‘¨äº”\u0026#34;) fallthrough case 6: fmt.Println(\u0026#34;å‘¨å…­\u0026#34;) case 7: fmt.Println(\u0026#34;å‘¨æ—¥\u0026#34;) default: fmt.Println(\u0026#34;ä¸å­˜åœ¨\u0026#34;) } ç»“æœï¼š\nå‘¨äº” å‘¨å…­ 3.5 break,continue,goto\rbreakè¡¨ç¤ºè·³å‡ºå½“å‰å¾ªç¯ continueè¡¨ç¤ºè·³è¿‡æ¡£æ¬¡å¾ªç¯æ‰§è¡Œ goto è¡¨ç¤ºè·³è‡³æŒ‡å®šè¯­å¥æ‰§è¡Œ ç¤ºä¾‹ï¼š\nlable1: // å›ºå®šå†™æ³• \u0026lt;éšæ„æ ‡ç­¾å\u0026gt;: for i := 0; i \u0026lt;= 3; i++ { if i == 0 { continue // è·³è¿‡å½“æ¬¡å¾ªç¯ 0è·³è¿‡ } if i == 1 { continue lable1 // è·³è‡³lable1ä½ç½® ,1è·³è¿‡, ç»§ç»­æ‰§è¡Œ } fmt.Printf(\u0026#34;i=%d \\n\u0026#34;, i) } lable2: for j := 0; j \u0026lt;= 3; j++ { if j == 3 { fmt.Printf(\u0026#34;è·³å‡º \\n\u0026#34;) break // 3è·³å‡ºå¾ªç¯ } if j == 1 { break lable2 // è·³è‡³lable2ä½ç½®, 1è·³è¿‡ï¼Œä¸æ‰§è¡Œå½“å‰å¾ªç¯ä½“ } fmt.Printf(\u0026#34;j=%d \\n\u0026#34;, j) } /* gotoå¯ä»¥ä»»æ„æŒ‡å®šæ ‡ç­¾ä½ç½®ï¼Œè·³è‡³æŒ‡å®šä½ç½®æ‰§è¡Œ è§£é‡Šï¼š 1. æ‰§è¡Œè¯­å¥1, 2. i è‡ªå¢ä¸º1 2. gotoè·³è‡³lable4ï¼Œæ‰§è¡Œè¯­å¥3 3. gotoè·³è‡³lable3ï¼Œæ‰§è¡Œè¯­å¥1 4. i è‡ªå¢ä¸º2 5. gotoè·³è‡³lable5ï¼Œæ‰§è¡Œè¯­å¥4 æœ€ç»ˆè·³è¿‡äº†æ‰§è¡Œè¯­å¥2 */ i := 0 lable3: fmt.Println(\u0026#34;æ‰§è¡Œè¯­å¥1\u0026#34;) i++ if i == 2 { // æ‰§è¡Œ2æ¬¡ä¹‹å goto lable5 } goto lable4 fmt.Println(\u0026#34;æ‰§è¡Œè¯­å¥2\u0026#34;) // è¢«è·³è¿‡ lable4: fmt.Println(\u0026#34;æ‰§è¡Œè¯­å¥3\u0026#34;) goto lable3 lable5: fmt.Println(\u0026#34;æ‰§è¡Œè¯­å¥4\u0026#34;) ç»“æœï¼š\ni=2 i=3 j=0 æ‰§è¡Œè¯­å¥1 æ‰§è¡Œè¯­å¥3 æ‰§è¡Œè¯­å¥1 æ‰§è¡Œè¯­å¥4 ","date":"2025-01-01T11:03:08+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-04/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬å››ç¯‡ è¿ç®—ç¬¦\u0026æµç¨‹æ§åˆ¶ã€‘"},{"content":"1. æ€»è§ˆ\rGoè¯­è¨€ä¸­æ•°æ®ç±»å‹åˆ†ä¸ºï¼šåŸºæœ¬æ•°æ®ç±»å‹å’Œå¤åˆæ•°æ®ç±»å‹\nåŸºæœ¬æ•°æ®ç±»å‹ï¼šæ•´å‹ï¼Œæµ®ç‚¹å‹ï¼Œå¸ƒå°”å‹ï¼Œå­—ç¬¦ä¸² å¤åˆæ•°æ®ç±»å‹ï¼šæ•°ç»„ï¼Œåˆ‡ç‰‡ï¼Œç»“æ„ä½“ï¼Œå‡½æ•°ï¼Œmapï¼Œé€šé“ï¼ˆchannelï¼‰ã€æ¥å£ç­‰\n2. åŸºæœ¬æ•°æ®ç±»å‹\r2.1 æ•´å‹\rç±»å‹ èŒƒå›´ å ç”¨ç©ºé—´ æœ‰æ— ç¬¦å· int8 $-2^7$~$2^7-1$ 1ä¸ªå­—èŠ‚ æœ‰ int16 $-2^{15}$~$2^{15}-1$ 2ä¸ªå­—èŠ‚ æœ‰ int32 $-2^{31}$~$2^{31}-1$ 4ä¸ªå­—èŠ‚ æœ‰ int64 $-2^{63}$~$2^{63}-1$ 8ä¸ªå­—èŠ‚ æœ‰ uint8 $0$~$2^8-1$ 1ä¸ªå­—èŠ‚ æ—  uint16 $0$~$2^{16}-1$ 2ä¸ªå­—èŠ‚ æ—  uint32 $0$~$2^{32}-1$ 4ä¸ªå­—èŠ‚ æ—  uint64 $0$~$2^{64}-1$ 8ä¸ªå­—èŠ‚ æ—  ç‰¹æ®Šç±»å‹ï¼š\nç±»å‹ æè¿° uint 32ä½æ“ä½œç³»ç»Ÿä¸Šä¸ºuint32,64ä½æ“ä½œç³»ç»Ÿä¸Šä¸ºuint64 int 32ä½æ“ä½œç³»ç»Ÿä¸Šä¸ºint32,64ä½æ“ä½œç³»ç»Ÿä¸Šä¸ºint64 uintptr æ— ç¬¦å·æ•´å‹ï¼Œç”¨äºå­˜æ”¾ä¸€ä¸ªæŒ‡é’ˆ ç®€å•ç¤ºä¾‹ï¼š\nvar ( num1 int = 666 num2 uint = 666 // ä»¥ä¸‹èµ‹å€¼å¯é€‰æœ€å¤§å€¼ï¼Œmath ä¸ºmathåŒ…ï¼Œä½¿ç”¨å³è‡ªåŠ¨å¼•å…¥ num1 int = 666 num2 uint = 666 // ä»¥ä¸‹èµ‹å€¼å¯é€‰æœ€å¤§å€¼ num3 int8 = math.MaxInt8 num4 int16 = math.MaxInt16 num5 int32 = math.MaxInt32 num6 int64 = math.MaxInt64 num7 uint8 = math.MaxUint8 num8 uint16 = math.MaxUint16 num9 uint32 = math.MaxUint32 num10 uint64 = math.MaxUint64 ) fmt.Println(num1, num2, num3, num4, num5, num6, num7, num8, num9, num10) ç»“æœï¼š\n666 666 127 32767 2147483647 9223372036854775807 255 65535 4294967295 18446744073709551615 2.2 æµ®ç‚¹å‹\rGoè¯­è¨€æ”¯æŒä¸¤ç§æµ®ç‚¹æ•°ï¼šfloat32å’Œfloat64ï¼Œéµå¾ªIEEE 745æ ‡å‡†ã€‚32ä½æ“ä½œç³»ç»Ÿä¸­ï¼Œé»˜è®¤ä¸ºfloat32ï¼›64ä½æ“ä½œç³»ç»Ÿä¸­é»˜è®¤ä¸ºfloat64ã€‚\nfloat32ï¼š-3.4e38~3.4e38 ï¼Œå ç”¨4ä¸ªå­—èŠ‚ float64ï¼š-1.8e308~1.8e308ï¼Œå ç”¨8ä¸ªå­—èŠ‚ // 1. åŸºæœ¬å®šä¹‰ var num1 float32 = 1.06 num2 := 3.1415926 // ä¿ç•™å°æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨%.nfæˆ–è€…%0.nf æŒ‡å®šä¿ç•™nä½å°æ•°ï¼Œ fmt.Printf(\u0026#34;åŸæ ·è¾“å‡ºï¼š%v; é»˜è®¤ä¿ç•™6ä½å°æ•°: %f; æŒ‡å®šä¿ç•™3ä¸ºå°æ•°: %0.3f \\n\u0026#34;, num1, num2, num2) // 2. å…¶ä»–å¸¸ç”¨æ ·ä¾‹ var ( num3 float32 = 3.1415926 num4 float64 = 1.113 num5 = 3.14e2 // ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œ3.14*10^2 çš„å€¼ï¼šä¸º314 num6 = 3.14e-2 // ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œ3.14*10-2 çš„å€¼ï¼šä¸º0.0314 ) fmt.Println(num3, num4, num5, num6) ç»“æœï¼š\nåŸæ ·è¾“å‡ºï¼š1.06; é»˜è®¤ä¿ç•™6ä½å°æ•°: 3.141593; æŒ‡å®šä¿ç•™3ä¸ºå°æ•°: 3.142 3.1415925 1.113 314 0.0314 2.2 å¸ƒå°”å‹\rboolå€¼ä»…æœ‰ä¸¤ä¸ªå€¼ï¼štrueå’Œfalseã€‚å£°æ˜ä¸èµ‹å€¼ï¼Œé»˜è®¤ä¸ºfalse\nvar ( bool1 bool bool2 = true ) fmt.Println(bool1, bool2) ç»“æœï¼š\nfalse true 2.3 å­—ç¬¦\rå­—ç¬¦æ˜¯å•ä¸ªæ•°å€¼ï¼Œå±äºintç±»å‹ï¼ŒGoè¯­è¨€ä¸­æœ‰ä¸¤ç§è¡¨ç¤ºï¼šbyteå’Œrune\nbyte: intç±»å‹ï¼Œä»£è¡¨ASCIIç çš„å€¼ rune: intç±»å‹ï¼Œä»£è¡¨UTF-8ç¼–ç  æ³¨ï¼šUTF-8çš„å›½é™…é€šç”¨ç¼–ç ï¼Œæ˜¯ASCIIç çš„æ‰©å±•ï¼ŒåŒ…æ‹¬äº†å„å›½çš„å¸¸ç”¨çš„è¯­è¨€æ–‡å­—\u0026lt;/font å¸¸ç”¨ç¤ºä¾‹ï¼š\nvar a = \u0026#39;A\u0026#39; var a = \u0026#39;A\u0026#39; // ä½¿ç”¨%cè¾“å‡ºå­—ç¬¦ fmt.Printf(\u0026#34;å­—ç¬¦ASCIIå€¼:%v; åŸæ ·ç¼–ç :%c \\n\u0026#34;, a, a) var ( b = \u0026#39;B\u0026#39; c = \u0026#39;ä½ \u0026#39; d = \u0026#34;this\u0026#34; // å¯ä»¥è·å–å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—ç¬¦ ) fmt.Printf(\u0026#34;%c,%c,%c,%c,%c,%c\u0026#34;, b, c, d[0], d[1], d[2], d[3]) ç»“æœï¼š\nå­—ç¬¦ASCIIå€¼:65; åŸæ ·ç¼–ç :A B,ä½ ,t,h,i,s 2.4 å­—ç¬¦ä¸²\r2.4.1 å¸¸ç”¨å®šä¹‰æ–¹å¼\r// å­—ç¬¦ä¸²å®šä¹‰ var val1 string = \u0026#34;hello world\u0026#34; var val2 = \u0026#34;ä½ å¥½ go\u0026#34; val3 := \u0026#34;Good\u0026#34; fmt.Println(val1, val2, val3) // å­—ç¬¦ä¸²val2ä¸­2ä¸ªä¸­æ–‡ï¼Œ3ä¸ªè‹±æ–‡(ç©ºæ ¼ä¹Ÿç®—)ï¼›å…±2*3+3=9ä¸ªå­—ç¬¦ï¼Œå¯é€šè¿‡lenå‡½æ•°è·å– fmt.Println(len(val2)) // å¤šè¡Œå­—ç¬¦ä¸²ï¼šä¼šåŸæ ·è¾“å‡º var info = `å§“åï¼šå¼ ä¸‰ å¹´é¾„ï¼š18` fmt.Println(info) ç»“æœï¼š\nhello world ä½ å¥½ go Good 9 å§“åï¼šå¼ ä¸‰ å¹´é¾„ï¼š18 å­—ç¬¦ä¸²ä¸­ï¼Œè‹±æ–‡å­—æ¯å ä¸€ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡å ç”¨3ä¸ªå­—èŠ‚ã€‚å¯ä½¿ç”¨lenå‡½æ•°æ‰“å°å­—ç¬¦ä¸²å­—èŠ‚é•¿åº¦\n2.4.2 è½¬ç§»å­—ç¬¦\rè½¬ä¹‰ç¬¦å·ä½¿ç”¨\\è¡¨ç¤º å¸¸ç”¨çš„è½¬ä¹‰å­—ç¬¦æœ‰ï¼š\n\\rï¼šå›è½¦ç¬¦ï¼ˆè¿”å›è¡Œé¦–ï¼‰ \\nï¼šæ¢è¡Œç¬¦ï¼ˆè·³è‡³ä¸‹ä¸€è¡ŒåŒåˆ—ï¼‰ \\tï¼šåˆ¶è¡¨ç¬¦ï¼ˆå¯ç”¨äºæ•´é½è¾“å‡ºä¸€ç³»åˆ—å€¼ï¼‰ \\'ï¼šå•å¼•å·ï¼Œè¾“å‡º' \\\u0026quot;ï¼šåŒå¼•å·ï¼Œè¾“å‡º\u0026quot; \\\\ï¼šåæ–œæ ï¼Œè¾“å‡º\\ var val1 string = \u0026#34;hello\\r\u0026#34; var val2 string = \u0026#34;world\\n\u0026#34; var val3 string = \u0026#34;hello world\\t\u0026#34; var val4 string = \u0026#34;\u0026#39;hello\u0026#39; \\\\ \\\u0026#34;world\\\u0026#34;\u0026#34; /* var1ï¼š\\r å›è½¦ç¬¦ï¼Œhelloè¾“å‡ºç»“æŸåå›è½¦ï¼Œå…‰æ ‡ç§»åŠ¨è‡³å½“å‰è¡Œé¦–ï¼Œæ„å‘³ç€æ¸…ç©ºhelloå€¼ val2: \\n æ¢è¡Œç¬¦ï¼Œworldè¾“å‡ºä¹‹åæ¢è¡Œ val3: \\t åˆ¶è¡¨ç¬¦ï¼Œhello worldç®€æ˜“ç†è§£ä¸ºä¸€ä¸ªå¤§çš„ç©ºæ ¼ï¼Œæ ¼å¼ç¾è§‚ï¼Œè‡ªå¸¦å¯¹é½ val4: Goè¯­è¨€ä¸­\u0026#39;å¯ä»¥ç›´æ¥å†™åœ¨\u0026#34;å†…éƒ¨ï¼Œ\\\\è¾“å‡º\\, \\\u0026#34; è½¬ä¹‰å­—ç¬¦ï¼Œè¾“å‡º\u0026#34; */ fmt.Println(val1, val2, val3, val4) ç»“æœï¼š\nworld hello world \u0026#39;hello\u0026#39; \\ \u0026#34;world\u0026#34; 2.4.3 å¸¸ç”¨æ–¹æ³•\ræ–¹æ³•ååŸºæœ¬ä¸Šä¸ºå¸¸ç”¨è‹±æ–‡åç¼©å†™ï¼Œå„è¯­è¨€åŸºæœ¬é€šç”¨ï¼Œä½¿ç”¨å¤šäº†è‡ªç„¶ç†Ÿè®°\næ–¹æ³• æè¿° len è·å–å­—ç¬¦ä¸²é•¿åº¦ +æˆ–fmt.Springf æ‹¼æ¥å­—ç¬¦ä¸² strings.Split æ‹†åˆ†å­—ç¬¦ä¸² strings.Contains è·å–å­—ç¬¦ä¸²é•¿åº¦ strings.HasPrefix,strings.HasSuffix è·å–å­—ç¬¦ä¸²é•¿åº¦ strings.Index,strings.LastIndex è·å–å­—ç¬¦ä¸²é•¿åº¦ strings.Join è·å–å­—ç¬¦ä¸²é•¿åº¦ strings.ToLower å­—ç¬¦ä¸²å…¨è½¬å°å†™ strings.ToUpper å­—ç¬¦ä¸²å…¨è½¬å¤§å†™ ç¤ºä¾‹ï¼š\nvar val = \u0026#34;Hello World\u0026#34; // 1. lenæ±‚é•¿åº¦ length := len(val) fmt.Printf(\u0026#34;%sé•¿åº¦: %d\\n\u0026#34;, val, length) // 2. + æ‹¼æ¥å­—ç¬¦ä¸²ï¼ŒSprintä¸­Sä»£è¡¨è¿”å›å­—ç¬¦ä¸²ï¼ŒåŒç†å«æœ‰ï¼šSprinfã€Sprinlnï¼Œä¸Prinfã€Prinlnç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºSå¼€å¤´å‡½æ•°ä»£è¡¨è¿”å›å­—ç¬¦ä¸²ï¼Œå¯ç”¨å˜é‡æ¥æ”¶ str1 := val + \u0026#34;å°æ˜\u0026#34; str2 := fmt.Sprint(val, \u0026#34;å°çº¢\u0026#34;) fmt.Printf(\u0026#34;+æ‹¼æ¥ï¼š%s;\\tSprintå‡½æ•°æ‹¼æ¥: %s \\n\u0026#34;, str1, str2) // 3. å­—ç¬¦ä¸²æ‹†åˆ†ç»“æœä¸ºï¼šåˆ‡ç‰‡ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰ï¼›å‚æ•°ä¸º(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;, \u0026lt;åˆ‡ç‰‡å­—ç¬¦ä¸²\u0026gt;)ï¼Œç¤ºä¾‹ä¸­å°†Hello Worldä»¥ç©ºæ ¼æ‹†åˆ†ä¸ºHelloå’ŒWorld splitVal := strings.Split(val, \u0026#34; \u0026#34;) // åˆ‡ç‰‡ç»“æœä¸º[Hello World] // 4. Joinå°†åˆ‡ç‰‡æ‹¼æ¥æˆæ–°çš„å­—ç¬¦ä¸²ï¼›å‚æ•°ä¸º(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;, \u0026lt;è¿æ¥ç¬¦\u0026gt;) newStr := strings.Join(splitVal, \u0026#34;,\u0026#34;) // fmt.Printf(\u0026#34;åˆ‡ç‰‡å€¼ï¼š%v;\\tJoinè¿æ¥æˆæ–°çš„å­—ç¬¦ä¸²: %s \\n\u0026#34;, splitVal, newStr) // 5.å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­ä¸²ï¼ŒContainså‚æ•°ä¸º(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;,\u0026lt;å­ä¸²\u0026gt;) bool1 := strings.Contains(val, \u0026#34;Hello\u0026#34;) bool2 := strings.Contains(val, \u0026#34;Hello\u0026#34;) fmt.Printf(\u0026#34;æ˜¯å¦åŒ…å«Helloï¼š%v;\\tæ˜¯å¦åŒ…å«olleH: %v \\n\u0026#34;, bool1, bool2) // 6. å‰ç¼€åˆ¤æ–­ï¼šHasPrefix ,å‚æ•°ä¸º(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;,\u0026lt;å­ä¸²\u0026gt;); åç¼€åˆ¤æ–­ï¼šHasSuffixï¼Œå‚æ•°(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;,\u0026lt;å­ä¸²\u0026gt;) bool3 := strings.HasPrefix(val, \u0026#34;He\u0026#34;) bool4 := strings.HasPrefix(val, \u0026#34;llo\u0026#34;) bool5 := strings.HasSuffix(val, \u0026#34;World\u0026#34;) bool6 := strings.HasSuffix(val, \u0026#34;Wor\u0026#34;) fmt.Printf(\u0026#34;å‰ç¼€åŒ…å«Heï¼š%v;\\tå‰ç¼€åŒ…å«llo: %v\\tåç¼€åŒ…å«Worldï¼š%v;\\tåç¼€åŒ…å«Wor: %v \\n\u0026#34;, bool3, bool4, bool5, bool6) // 7. è¿”å›å­ä¸²åœ¨åŸå­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ŒIndexï¼Œä»å‰å‘åæŸ¥æ‰¾ï¼›LastIndexï¼Œä»åå‘å‰æŸ¥æ‰¾ï¼Œå‚æ•°éƒ½ä¸º(\u0026lt;åŸå­—ç¬¦ä¸²\u0026gt;,\u0026lt;å­ä¸²\u0026gt;)ã€‚ç»“æœï¼šæŸ¥è¯¢åˆ°ï¼Œè¿”å›ä¸‹æ ‡å€¼ï¼ŒæŸ¥è¯¢ä¸åˆ°ï¼Œè¿”å›-1ã€‚æ³¨ï¼šä¸‹æ ‡ä»0å¼€å§‹ index1 := strings.Index(val, \u0026#34;o\u0026#34;) index2 := strings.LastIndex(val, \u0026#34;o\u0026#34;) index3 := strings.Index(val, \u0026#34;a\u0026#34;) fmt.Printf(\u0026#34;oä»å‰åˆ°åæŸ¥è¯¢åœ¨ç¬¬%vä½;\\toä»ååˆ°å‰æŸ¥è¯¢åœ¨ç¬¬%vä½\\taä»å‰åˆ°åæŸ¥è¯¢åœ¨ç¬¬%vä½\\n\u0026#34;, index1, index2, index3) // 8. strings.ToLowerå’Œstrings.ToUpper str3 := strings.ToLower(val) str4 := strings.ToUpper(val) fmt.Printf(\u0026#34;å…¨å°å†™ï¼š %v;\\tå…¨å¤§å†™ï¼š%v\\n\u0026#34;, str3, str4) è¿è¡Œç»“æœ\nHello Worldé•¿åº¦: 11 +æ‹¼æ¥ï¼šHello Worldå°æ˜; Sprintå‡½æ•°æ‹¼æ¥: Hello Worldå°çº¢ åˆ‡ç‰‡å€¼ï¼š[Hello World]; Joinè¿æ¥æˆæ–°çš„å­—ç¬¦ä¸²: Hello,World æ˜¯å¦åŒ…å«Helloï¼štrue; æ˜¯å¦åŒ…å«olleH: true å‰ç¼€åŒ…å«Heï¼štrue; å‰ç¼€åŒ…å«llo: false åç¼€åŒ…å«Worldï¼štrue; åç¼€åŒ…å«Wor: false oä»å‰åˆ°åæŸ¥è¯¢åœ¨ç¬¬4ä½; oä»ååˆ°å‰æŸ¥è¯¢åœ¨ç¬¬7ä½ aä»å‰åˆ°åæŸ¥è¯¢åœ¨ç¬¬-1ä½ å…¨å°å†™hello world; å…¨å¤§å†™HELLO WORLD æ¸©é¦¨æç¤ºï¼šè¿™é‡Œçš„lenã€splitã€containsã€prefixã€suffixã€indexã€joinã€lowerã€upperç­‰æ‰€è¡¨ç¤ºçš„å«ä¹‰åœ¨å„ä¸ªç¼–ç¨‹è¯­è¨€å¤§åŒå°å¼‚ï¼Œåªè¦é€šä¸€é—¨è¯­è¨€ï¼Œå…¶ä»–ä¹Ÿå°±ç®€å•äº†\n2.4.3 å­—ç¬¦ä¸²ä¸­å­—ç¬¦æ›¿æ¢\r// å­—ç¬¦ä¸²ä¸­æ›¿æ¢å­—ç¬¦ var val1 = \u0026#34;hello xioaming\u0026#34; byteStr := []byte(val1) // è‹±æ–‡å­—ç¬¦ è½¬æˆbyteæ•°ç»„ç±»å‹å³å¯ï¼Œç„¶åæ›¿æ¢å€¼ byteStr[0] = \u0026#39;a\u0026#39; fmt.Println(string(byteStr)) // string(byteStr)ä¸ºå°†æ•°ç»„è½¬æˆå­—ç¬¦ä¸²è¿”å›ï¼Œfmt.Printlnå†æ‰“å°è¾“å‡ºç»“æœ var val2 = \u0026#34;ä½ å¥½å°æ˜\u0026#34; runeStr := []rune(val2) // åŒ…å«ä¸­æ–‡å­—ç¬¦ éœ€è¦è½¬æˆruneæ•°ç»„ç±»å‹å³å¯ï¼Œç„¶åæ›¿æ¢å€¼ runeStr[0] = \u0026#39;æˆ‘\u0026#39; fmt.Println(string(runeStr)) ç»“æœï¼š\naello xioaming æˆ‘å¥½å°æ˜ 3. ç±»å‹è½¬æ¢\ræ•°å­—ç±»å‹è£…æ¢æœ‰ä¸¤ç§ï¼šä½ç²¾åº¦è½¬é«˜ç²¾åº¦ï¼Œé«˜ç²¾åº¦è½¬ä½ç²¾åº¦ æ³¨ï¼šé«˜ç²¾åº¦è½¬ä½ç²¾åº¦ï¼Œæ…ç”¨ï¼Œç”±äºç±»å‹è¡¨ç¤ºèŒƒå›´ä¸åŒï¼Œå¯èƒ½é€ æˆç²¾åº¦ä¸¢å¤±\n3.1 æ•´å‹ä¸æ•´å‹è½¬åŒ–\rç¤ºä¾‹ï¼š\n// è¿›åº¦è½¬æ¢å¯é€šè¿‡ int8(\u0026lt;æ•´å‹\u0026gt;),int16(\u0026lt;æ•´å‹\u0026gt;),int32(\u0026lt;æ•´å‹\u0026gt;),int64(\u0026lt;æ•´å‹\u0026gt;)è½¬æ¢ // 1. ä½ç²¾åº¦è½¬é«˜ç²¾åº¦ var a int8 = 127 b := int64(a) fmt.Printf(\u0026#34;a=%v,ç±»å‹ï¼š%T\\tb=%v,ç±»å‹ï¼š%T \\n\u0026#34;, a, a, b, b) // 2. é«˜ç²¾åº¦è½¬ä½ç²¾åº¦ var c int64 = 127 d := int16(c) fmt.Printf(\u0026#34;a=%v,ç±»å‹ï¼š%T\\tb=%v,ç±»å‹ï¼š%T \\n\u0026#34;, c, c, d, d) ç»“æœï¼š\na=127,ç±»å‹ï¼šint8 b=127,ç±»å‹ï¼šint64 a=127,ç±»å‹ï¼šint64 b=127,ç±»å‹ï¼šint16 3.2 æµ®ç‚¹æ•°ä¸æ•´å‹è½¬æ¢\rç¤ºä¾‹ï¼š\n// 3. æ•´å‹è½¬æµ®ç‚¹å‹ï¼Œå¯é€šè¿‡ float32(\u0026lt;æ•´å‹\u0026gt;),float64(\u0026lt;æ•´å‹\u0026gt;)ï¼Œæµ®ç‚¹æ•°è½¬æµ®ç‚¹æ•°æ®ä¹Ÿå¯ä»¥è¿™æ ·æ“ä½œ var e int16 = 256 f := float32(e) fmt.Printf(\u0026#34;a=%v,ç±»å‹ï¼š%T\\tb=%v,ç±»å‹ï¼š%T \\n\u0026#34;, e, e, f, f) // 4. æµ®ç‚¹å‹è½¬æ•´å‹ var g float64 = 3.145 h := int16(g) // æ³¨ï¼šç±»å‹ä¼šä¸¢å¤±ï¼Œä¸æ˜¯å››èˆäº”å…¥ï¼Œç›´æ¥æˆªå–æ•´æ•°éƒ¨åˆ† fmt.Printf(\u0026#34;a=%v,ç±»å‹ï¼š%T\\tb=%v,ç±»å‹ï¼š%T \\n\u0026#34;, g, g, h, h) ç»“æœï¼š\na=256,ç±»å‹ï¼šint16 b=256,ç±»å‹ï¼šfloat32 a=3.145,ç±»å‹ï¼šfloat64 b=3,ç±»å‹ï¼šint16 3.3 å…¶ä»–ç±»å‹ä¸stringç±»å‹è½¬æ¢\rvar ( intV = 123 folatV = 3.145 boolV = true charV = \u0026#39;A\u0026#39; ) // 1. é€šè¿‡ fmt.Sprintfè¿›è¡Œè½¬æ¢ str1 := fmt.Sprintf(\u0026#34;%d\u0026#34;, intV) // è½¬æ¢int str2 := fmt.Sprintf(\u0026#34;%f\u0026#34;, folatV) // è½¬æ¢float str3 := fmt.Sprintf(\u0026#34;%t\u0026#34;, boolV) // è½¬æ¢ bool str4 := fmt.Sprintf(\u0026#34;%c\u0026#34;, charV) // è½¬æ¢ å­—ç¬¦ fmt.Println(str1, str2, str3, str4) ç»“æœï¼š\n123 3.145000 true A 3.4 strconv å­—ç¬¦ä¸²ç±»å‹è½¬æ¢å·¥å…·\r3.4.1 strconv.Atoi(å­—ç¬¦ä¸²è½¬int) å’Œ strconv.Itoa(intè½¬å­—ç¬¦ä¸²)\rç®€å•è®°å¿†ï¼ši(int) ï¼Œitoaä¸­iåœ¨é¦–å­—æ¯ï¼Œè¡¨ç¤ºintè½¬stringã€‚atoiä¸­iåœ¨æœ«å°¾ï¼Œè¡¨ç¤ºstringè½¬int\nvar str = \u0026#34;123\u0026#34; // 1. å°†stringè½¬æ¢ä¸ºintç±»å‹ï¼Œstrconv.Atoi(\u0026lt;string\u0026gt;)ï¼Œ è¿”å›ç±»å‹æœ‰ä¸¤ä¸ªï¼š\u0026lt;è½¬æ¢æ•°æ®,å¼‚å¸¸err\u0026gt; num1, _ := strconv.Atoi(str) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, num1, num1) // 2. å°†intç±»å‹è½¬æ¢ä¸ºstring, strconv.Itoa(\u0026lt;int\u0026gt;),ç±»å‹å¿…é¡»intï¼Œè¿”å›ç±»å‹æœ‰ä¸€ä¸ªï¼š\u0026lt;string\u0026gt; var num2 int64 = 456 str2 := strconv.Itoa(int(num2)) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, str2, str2) ç»“æœï¼š\nè½¬åŒ–å€¼ï¼š123 ç±»å‹ï¼šint è½¬åŒ–å€¼ï¼š456 ç±»å‹ï¼šstring 3.4.2 strconv.Parse å­—ç¬¦ä¸²è§£æä¸ºå…¶ä»–ç±»å‹\rstrconv.Parseèƒ½å°†å°†å­—ç¬¦ä¸²è§£æä¸ºæŒ‡å®šç±»å‹ï¼Œå‰æï¼šå…è®¸è½¬æ¢\nvar ( str1 = \u0026#34;256\u0026#34; str2 = \u0026#34;3.145\u0026#34; str3 = \u0026#34;true\u0026#34; ) // ä»¥ä¸‹çš„bitSizeå‚æ•°æ„Ÿè§‰æ„ä¹‰ä¸å¤§ï¼Œè¿”å›å€¼æœ‰ç‰¹å®šçš„è¿”å›ç±»å‹ /* 1. ParseInt params å‚æ•°1: stringæ•°æ® å‚æ•°2ï¼šbase æŒ‡å®šè¿›åˆ¶ï¼Œå–å€¼èŒƒå›´æ˜¯ 2 åˆ° 36ã€‚å¦‚æœ base ä¸º 0 å‚æ•°3ï¼šbitSize æŒ‡å®šç»“æœå¿…é¡»èƒ½æ— æº¢å‡ºèµ‹å€¼çš„æ•´æ•°ç±»å‹ï¼Œ0ã€8ã€16ã€32ã€64 åˆ†åˆ«ä»£è¡¨ intã€int8ã€int16ã€int32ã€int64 return int64: è¿”å›å§‹ç»ˆä¸ºint64æ•°å€¼ err: è½¬æ¢å¤±è´¥åè¿”å›çš„å¤±è´¥ä¿¡æ¯ */ num1, _ := strconv.ParseInt(str1, 10, 0) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, num1, num1) /* 2. ParseFloat params å‚æ•°1: stringæ•°æ® å‚æ•°2ï¼šbitSize æŒ‡å®šäº†è¿”å›å€¼çš„ç±»å‹ï¼Œ32 è¡¨ç¤º float32ï¼Œ64 è¡¨ç¤º float64ï¼› return float64: è¿”å›å§‹ç»ˆä¸ºfloat64æ•°å€¼ err: è½¬æ¢å¤±è´¥åè¿”å›çš„å¤±è´¥ä¿¡æ¯ */ num2, _ := strconv.ParseFloat(str2, 32) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%0.3f\\tç±»å‹ï¼š%T\\n\u0026#34;, num2, num2) /* 3. ParseBool params å‚æ•°1: stringæ•°æ® return bool: è¿”å›å§‹ç»ˆä¸ºboolæ•°å€¼ err: è½¬æ¢å¤±è´¥åè¿”å›çš„å¤±è´¥ä¿¡æ¯ */ boo, _ := strconv.ParseBool(str3) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, boo, boo) ç»“æœï¼š\nè½¬åŒ–å€¼ï¼š256 ç±»å‹ï¼šint64 è½¬åŒ–å€¼ï¼š3.145 ç±»å‹ï¼šfloat64 è½¬åŒ–å€¼ï¼štrue ç±»å‹ï¼šbool 3.4.3 strconv.Format æ•°å­—æ ¼å¼åŒ–ä¸ºstring\rvar ( intV = 123 floatV = 3.145e2 booV = true ) // ä»¥ä¸‹çš„bitSizeå‚æ•°æ„Ÿè§‰æ„ä¹‰ä¸å¤§ï¼Œè¿”å›å€¼æœ‰ç‰¹å®šçš„è¿”å›ç±»å‹ /* 1. FormatInt params å‚æ•°1: int64æ•°æ® å‚æ•°2ï¼šbase æŒ‡å®šè¿›åˆ¶ï¼Œå–å€¼èŒƒå›´æ˜¯ 2 åˆ° 36ã€‚å¦‚æœ base ä¸º 0 return string: è¿”å›å§‹ç»ˆä¸ºstringæ•°å€¼ */ str1 := strconv.FormatInt(int64(intV), 10) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, str1, str1) /* 2. FormatFloat params å‚æ•°1: float64æ•°æ® å‚æ•°2ï¼šæ ¼å¼åŒ–ç±»å‹ \u0026#39;b\u0026#39; (-ddddpÂ±ddd, äºŒè¿›åˆ¶æŒ‡æ•°), \u0026#39;e\u0026#39; (-d.ddddeÂ±dd, åè¿›åˆ¶eæŒ‡æ•°), \u0026#39;E\u0026#39; (-d.ddddEÂ±dd, åè¿›åˆ¶EæŒ‡æ•°), \u0026#39;f\u0026#39; (-ddd.dddd, æ— æŒ‡æ•°), \u0026#39;g\u0026#39; (\u0026#39;e\u0026#39;è¡¨ç¤ºå¤§æŒ‡æ•°ï¼Œ\u0026#39;f\u0026#39;è¡¨ç¤ºå…¶ä»–æŒ‡æ•°), \u0026#39;G\u0026#39; (\u0026#39;E\u0026#39;è¡¨ç¤ºå¤§æŒ‡æ•°ï¼Œ\u0026#39;F\u0026#39;è¡¨ç¤ºå…¶ä»–æŒ‡æ•°), \u0026#39;x\u0026#39; (-0xd.ddddpÂ±ddd, åå…­è¿›åˆ¶åˆ†æ•°å’ŒäºŒè¿›åˆ¶æŒ‡æ•° å°å†™), \u0026#39;X\u0026#39; (-0Xd.ddddPÂ±ddd, åå…­è¿›åˆ¶åˆ†æ•°å’ŒäºŒè¿›åˆ¶æŒ‡æ•° å¤§å†™). å‚æ•°3ï¼šä¿ç•™çš„å°æ•°ç‚¹ä½æ•°ï¼Œå››èˆäº”å…¥ã€‚-1ä»£è¡¨ä¸å¯¹å°æ•°ç‚¹æ ¼å¼åŒ–å¤„ç† å‚æ•°4ï¼šbitSize æŒ‡å®šäº†è¿”å›å€¼çš„ç±»å‹ï¼Œ32 è¡¨ç¤º float32ï¼Œ64 è¡¨ç¤º float64ï¼› return string: è¿”å›å§‹ç»ˆä¸ºstringæ•°å€¼ */ str2 := strconv.FormatFloat(floatV, \u0026#39;f\u0026#39;, -1, 64) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, str2, str2) /* 3. FormatFloat params å‚æ•°1: boolæ•°æ® return string: è¿”å›å§‹ç»ˆä¸ºstringæ•°å€¼ */ str3 := strconv.FormatBool(booV) fmt.Printf(\u0026#34;è½¬åŒ–å€¼ï¼š%v\\tç±»å‹ï¼š%T\\n\u0026#34;, str3, str3) ç»“æœï¼š\nè½¬åŒ–å€¼ï¼š123 ç±»å‹ï¼šstring è½¬åŒ–å€¼ï¼š314.5 ç±»å‹ï¼šstring è½¬åŒ–å€¼ï¼štrue ç±»å‹ï¼šstring 3.4.4 å…¶ä»–æ–¹æ³•\rå…¶ä»–è¿˜åŒ…å«strconv.Append(å­—ç¬¦æ¢è¿½åŠ )ã€strconv.IsPrintï¼ˆæ˜¯å¦å¯æ‰“å°ï¼‰ å’Œ strconv.IsGraphicï¼ˆæ˜¯å¦å›¾å½¢å­—ç¬¦ï¼‰ã€strconv.Quoteï¼ˆå­—ç¬¦ä¸²è½¬ä¹‰ï¼‰ å’Œ strconv.Unquoteï¼ˆå–å‡ºè½¬ä¹‰ï¼‰ã€strconv.CanBackquoteï¼ˆåˆ¤æ–­æ˜¯å¦å¯ä»¥è¡¨ç¤ºä¸ºå•è¡Œåå¼•å·å­—ç¬¦ä¸²ï¼‰ç­‰ã€‚ è¿™é‡Œå­¦ä¹ åˆ°è¿™ï¼Œä¸åšè¯¦ç»†ç¤ºä¾‹åˆ†æï¼Œæœ‰å°è±¡å³å¯ï¼Œéœ€è¦æ—¶å†å­¦ä¹ ï¼›å¯å‚è€ƒé“¾æ¥\n","date":"2024-12-21T19:37:51+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-03/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬ä¸‰ç¯‡ åŸºæœ¬æ•°æ®ç±»å‹\u0026ç±»å‹è½¬æ¢ã€‘"},{"content":" å‰è¨€ï¼šåŒ…æ˜¯æŒ‡ç”±å®˜æ–¹æˆ–è€…è‡ªå®šä¹‰çš„ä¸€ç³»åˆ—åŠŸèƒ½é›†åˆä½“ã€‚ä½¿ç”¨å‰éœ€è¦å…ˆå¼•å…¥ï¼Œä¾‹å¦‚ä»Šæ—¥æ‰€è®²çš„fmtåŒ…ã€‚å¼•å…¥æ–¹å¼å¦‚ä¸‹ï¼š import \u0026quot;fmt\u0026quot;\n1. fmt åŒ…\rfmt åŒ…æ˜¯ä¸€ä¸ªéå¸¸é‡è¦ä¸”å¹¿æ³›ä½¿ç”¨çš„æ ‡å‡†åº“åŒ…ï¼Œå®ƒæä¾›äº†æ ¼å¼åŒ–I/Oï¼ˆè¾“å…¥/è¾“å‡ºï¼‰åŠŸèƒ½ï¼Œç±»ä¼¼äºCè¯­è¨€ä¸­çš„ printf å’Œ scanfã€‚é€šè¿‡è¿™ä¸ªåŒ…ï¼Œä½ å¯ä»¥è¯»å–è¾“å…¥å¹¶å°†æ•°æ®æ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºæˆ–å…¶ä»–å†™å…¥å™¨ï¼ˆwritersï¼‰\n1.1 æ‰“å°ï¼ˆprintï¼‰\ræ‰“å°åŠŸèƒ½ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç³»ç»Ÿè¾“å‡ºåŠŸèƒ½ï¼Œè‹±æ–‡ç®€ä¹‰ä¸ºPrintï¼Œé©¼å³°å‘½åï¼Œé¦–å­—æ¯å¤§å†™ï¼Œåç¼€lnæ¢è¡Œå«ä¹‰ã€‚åç¼€fè¡¨ç¤ºå¯æ ¼å¼åŒ–æ‰“å°\n1.1.1 Print æ‰“å°\r// package åŒ…å£°æ˜ï¼š å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ package main // import å¯¼å…¥ï¼šä¸€èˆ¬æŒ‡å¯¼å…¥å®˜æ–¹æˆ–è‡ªå®šä¹‰åŠŸèƒ½åŒ… import \u0026#34;fmt\u0026#34; // mainå‡½æ•° å…¥å£å‡½æ•° func main() { /** * æ‰“å°è¾“å‡ºåŠŸèƒ½ */ fmt.Print(\u0026#39;C\u0026#39;) // æ‰“å°å­—ç¬¦ï¼Œå•å¼•å·ï¼Œè¯­æ³•çµæ´»æ˜“å­¦ fmt.Print(\u0026#34;a\u0026#34;) // æ‰“å°å­—ç¬¦ä¸² fmt.Print(\u0026#34;Hello World\u0026#34;) // æ‰“å°å­—ç¬¦ä¸²ï¼ŒåŒå¼•å· fmt.Print(123) // æ‰“å°æ•´æ•° fmt.Print(3.1415926) // æ‰“å°å°æ•° fmt.Print(true) // æ‰“å°å¸ƒå°”å€¼ } ä¸Šè¿°ç»“æœï¼š\n67aHello World1233.1415926true æ€»ç»“ï¼šPrintä»…æ‰“å°åŠŸèƒ½ï¼Œå¯æ‰“å°ä»»æ„ç±»å‹ï¼Œç»†å¿ƒçš„æœ‹å‹å¯èƒ½å‘ç°ï¼Œå•å¼•å·å­—ç¬¦ä¸²'C'è¾“å‡ºç»“æœä¸º67ï¼Œå•å¼•å·ä»£è¡¨å•ä¸ªå­—ç¬¦ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯ASCIIå€¼ï¼ŒåŒå¼•å·è¡¨ç¤ºæ‰“å°å­—ç¬¦ä¸²ã€‚å¦‚æœä½¿ç”¨'ABC'ã€‚è¿è¡Œç»“æœä¼šæŠ¥é”™more than one character in rune literalã€‚ä¸­æ–‡æ„æ€æ˜¯ï¼šç¬¦æ–‡æ–‡å­—ä¸­æœ‰å¤šä¸ªå­—ç¬¦ã€‚\n1.1.2 Println æ‰“å°åæ¢è¡Œ\rä¸Šè¿°ä»£ç å¦‚æœä½¿ç”¨Println æ‰“å°ï¼Œä»£ç å¦‚ä¸‹ï¼š æ³¨ï¼šä»¥ä¸‹ä»£ç ä»¥ååªæ˜¾ç¤ºå…³é”®ä»£ç æ®µï¼Œmainå‡½æ•°ä¸äºˆå±•ç¤ºã€‚\nfmt.Println(\u0026#39;C\u0026#39;) // æ‰“å°å­—ç¬¦ï¼Œå•å¼•å·ï¼Œè¯­æ³•çµæ´»æ˜“å­¦ fmt.Println(\u0026#34;a\u0026#34;) // æ‰“å°å­—ç¬¦ä¸² fmt.Println(\u0026#34;Hello World\u0026#34;,\u0026#34;ä½ å¥½\u0026#34;) // æ‰“å°å­—ç¬¦ä¸²ï¼ŒåŒå¼•å· fmt.Println(123) // æ‰“å°æ•´æ•° fmt.Println(3.1415926) // æ‰“å°å°æ•° fmt.Println(true) // æ‰“å°å¸ƒå°”å€¼ æ•ˆæœæ¸…æ™°æ˜äº†ï¼Œå¦‚ä¸‹ï¼š\n67 a Hello World ä½ å¥½ 123 3.1415926 true 1.1.3 Printf æ‰“å°æ ¼å¼åŒ–å‚æ•°\rå¯æŒ‡å®šæ ¼å¼æ‰“å°ã€‚å¸¸ç”¨æ ¼å¼ç±»å‹å¦‚ä¸‹ï¼š\næ ¼å¼åŒ–ç¬¦å· æè¿° é‡è¦ç¨‹åº¦(ä¸ªäººè§‚ç‚¹) %T æ‰“å°å˜é‡ç±»å‹ é«˜ %v ä»¥é»˜è®¤æ ¼å¼è¾“å‡ºå˜é‡ é«˜ %t è¾“å‡º true æˆ– false é«˜ %b äºŒè¿›åˆ¶è¡¨ç¤º é«˜ %c Unicode å¯¹åº”å­—ç¬¦ ä½ %d åè¿›åˆ¶è¡¨ç¤º é«˜ %o å…«è¿›åˆ¶è¡¨ç¤º é«˜ %x åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå°å†™å­—æ¯ï¼‰ é«˜ %X åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå¤§å†™å­—æ¯ï¼‰ ä½ %U Unicode æ ¼å¼è¾“å‡º ä½ %f åè¿›åˆ¶æµ®ç‚¹æ•° é«˜ %e ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ eï¼‰ ä½ %E ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ Eï¼‰ ä½ %g è‡ªåŠ¨é€‰æ‹© %f æˆ– %e çš„ç®€æ´è¡¨ç¤º é«˜ %s æ™®é€šå­—ç¬¦ä¸² é«˜ %q å¸¦åŒå¼•å·çš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦ ä½ %p æŒ‡é’ˆåœ°å€ ä½ ç¤ºä¾‹ä»£ç ï¼š\nfmt.Printf(\u0026#34;å¸ƒå°”å€¼ï¼š%t \\n\u0026#34;, false) // æ‰“å°å¸ƒå°”å€¼ fmt.Printf(\u0026#34;Unicode 65å¯¹åº”å­—ç¬¦ï¼š%c \\n\u0026#34;, 65) // Unicode å¯¹åº”å­—ç¬¦ fmt.Printf(\u0026#34;é»˜è®¤æ ¼å¼65ï¼š%v \\n\u0026#34;, 65) // äºŒè¿›åˆ¶æ‰“å° fmt.Printf(\u0026#34;äºŒè¿›åˆ¶65ï¼š%b \\n\u0026#34;, 65) // äºŒè¿›åˆ¶æ‰“å° fmt.Printf(\u0026#34;åè¿›åˆ¶65ï¼š%d \\n\u0026#34;, 65) // åè¿›åˆ¶æ‰“å° fmt.Printf(\u0026#34;å…«è¿›åˆ¶65ï¼š%o \\n\u0026#34;, 65) // å…«è¿›åˆ¶æ‰“å° fmt.Printf(\u0026#34;åå…­è¿›åˆ¶1024ï¼ˆå°ï¼‰ï¼š%x \\n\u0026#34;, 1024) // åå…­è¿›åˆ¶å°å†™æ‰“å° fmt.Printf(\u0026#34;åå…­è¿›åˆ¶1024ï¼ˆå¤§ï¼‰ï¼š%X \\n\u0026#34;, 1024) // åå…­è¿›åˆ¶å¤§å†™æ‰“å° fmt.Printf(\u0026#34;\u0026#39;C\u0026#39; Unicodeå€¼ï¼š%U \\n\u0026#34;, \u0026#39;C\u0026#39;) // Unicodeè¾“å‡º fmt.Printf(\u0026#34;æµ®ç‚¹æ•°ï¼š%f \\n\u0026#34;, 3.1415926) // åè¿›åˆ¶æµ®ç‚¹æ•° fmt.Printf(\u0026#34;ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°ï¼‰ï¼š%e \\n\u0026#34;, 3.1415926) // ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ eï¼‰ fmt.Printf(\u0026#34;ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§ï¼‰ï¼š%E \\n\u0026#34;, 3.1415926) // ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ eï¼‰ è¿è¡Œç»“æœï¼š\nå¸ƒå°”å€¼ï¼šfalse Unicode 65å¯¹åº”å­—ç¬¦ï¼šA é»˜è®¤æ ¼å¼65ï¼š65 äºŒè¿›åˆ¶65ï¼š1000001 åè¿›åˆ¶65ï¼š65 å…«è¿›åˆ¶65ï¼š101 åå…­è¿›åˆ¶1024ï¼ˆå°ï¼‰ï¼š400 åå…­è¿›åˆ¶1024ï¼ˆå¤§ï¼‰ï¼š400 \u0026#39;C\u0026#39; Unicodeå€¼ï¼šU+0043 æµ®ç‚¹æ•°ï¼š3.141593 ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°ï¼‰ï¼š3.141593e+00 ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§ï¼‰ï¼š3.141593E+00 1.2 è¾“å…¥(Scan)\rè¾“å…¥ç”¨Scanè¡¨ç¤ºï¼Œåç¼€fè¡¨ç¤ºæ ¼å¼åŒ–è¾“å…¥\n1.2.1 Scan è¾“å…¥\rç¤ºä¾‹ï¼š\n// åŸºæœ¬å˜é‡å£°æ˜ï¼švar \u0026lt;å˜é‡å\u0026gt; \u0026lt;ç±»å‹\u0026gt; var name string // å£°æ˜å­—ç¬¦ä¸²ç±»å‹ var age int // å£°æ˜æ•´æ•°ç±»å‹ fmt.Print(\u0026#34;è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼š\u0026#34;) fmt.Scan(\u0026amp;name, \u0026amp;age) // å½•å…¥å§“åå’Œå¹´é¾„ fmt.Printf(\u0026#34;name=%s,age=%d \\n\u0026#34;, name, age) // æ ¼å¼åŒ–è¾“å‡ºå§“åå’Œå¹´é¾„ è¿è¡Œç»“æœï¼š\nè¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ 18 name=å¼ ä¸‰,age=18 1.2.2 Scanf æ ¼å¼åŒ–è¾“å…¥\rç¤ºä¾‹ï¼š\n// åŸºæœ¬å˜é‡å£°æ˜ï¼švar \u0026lt;å˜é‡å\u0026gt; \u0026lt;ç±»å‹\u0026gt; var name string // å£°æ˜å­—ç¬¦ä¸²ç±»å‹ var age int // å£°æ˜æ•´æ•°ç±»å‹ fmt.Print(\u0026#34;è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼š\u0026#34;) fmt.Scanf(\u0026#34;%s %d\u0026#34;, \u0026amp;name, \u0026amp;age) fmt.Printf(\u0026#34;name=%s,age=%d \\n\u0026#34;, name, age) è¿è¡Œå¦‚ä¸‹ç¤ºä¾‹ï¼Œä½“éªŒåˆ°ï¼šGoè¯­è¨€çµæ´»å¤šå˜ï¼Œé€‚åˆ0åŸºç¡€å­¦ä¹ \nPS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ name=å¼ ä¸‰,age=0 PS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ 18 name=å¼ ä¸‰,age=18 PS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ æå›› name=å¼ ä¸‰,age=0 PS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ æå›› 18 name=å¼ ä¸‰,age=0 PS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼šå¼ ä¸‰ 18 æå›› name=å¼ ä¸‰,age=18 PS F:\\go_project\u0026gt; go run main.go è¯·è¾“å…¥å§“åå’Œå¹´é¾„ï¼š18 å¼ ä¸‰ name=18,age=0 PS F:\\go_project\u0026gt; 2. å˜é‡\rå˜é‡ï¼Œå­˜å‚¨æ•°æ®çš„å®¹å™¨ï¼Œå¯ä»¥å­˜æ”¾ä»»ä½•æ•°æ®å€¼ã€‚å˜é‡åç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆï¼Œæ•°å­—ä¸èƒ½å¼€å¤´ã€‚Goä¸­çš„å…³é”®å­—å’Œä¿ç•™å­—ä¸èƒ½ä½œä¸ºå˜é‡å\n2.1 å˜é‡çš„å£°æ˜\rå£°æ˜å˜é‡ï¼ŒæŒ‡çš„æ˜¯å®šä¹‰å˜é‡ æ€»å…±æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š\n// var \u0026lt;å˜é‡å\u0026gt; \u0026lt;æ•°æ®ç±»å‹\u0026gt; var a string // var \u0026lt;å˜é‡å\u0026gt;=\u0026lt;å€¼\u0026gt; var b = \u0026#34;å¼ ä¸‰\u0026#34; fmt.Printf(\u0026#34;a=%v,b=%v\u0026#34;, a, b) // aæ²¡æœ‰èµ‹å€¼ï¼Œé»˜è®¤ä¸ºç©º ç»“æœï¼š\na=,b=å¼ ä¸‰ é»˜è®¤åˆå§‹å€¼æµ‹è¯•ï¼š\nvar a string // å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸ºç©º var b int // æ•´å‹ï¼Œé»˜è®¤ä¸º0 var c bool // å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºfalse var d float32 // æµ®ç‚¹ç±»å‹ï¼Œé»˜è®¤ä¸º0 fmt.Printf(\u0026#34;a=%v, b=%v, c=%v, d=%v\u0026#34;, a, b, c, d) // aæ²¡æœ‰èµ‹å€¼ï¼Œé»˜è®¤ä¸ºç©º ç»“æœ\na=, b=0, c=false, d=0 æç¤ºï¼šGoè¯­è¨€ä¸­å˜é‡å£°æ˜å¿…é¡»ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™æç¤º declared and not usedï¼Œæ„æ€æ˜¯å£°æ˜äº†å¹¶æ²¡æœ‰ä½¿ç”¨\n2.2 å˜é‡åˆå§‹åŒ–ï¼Œèµ‹å€¼\r// å˜é‡åˆå§‹åŒ–å£°æ˜çš„ä¸‰ç§æ–¹å¼ // 1.1 å…ˆå£°æ˜å˜é‡ æ ¼å¼ï¼š var \u0026lt;å˜é‡å\u0026gt; \u0026lt;å˜é‡ç±»å‹\u0026gt; var name string // 1.2 åèµ‹å€¼ æ ¼å¼ï¼š\u0026lt;å˜é‡å\u0026gt; = \u0026lt;å€¼\u0026gt; name = \u0026#34;å¼ ä¸‰\u0026#34; // 2. å£°æ˜çš„åŒæ—¶è¿›è¡Œèµ‹å€¼ æ ¼å¼ï¼švar \u0026lt;å˜é‡å\u0026gt; = \u0026lt;å€¼\u0026gt; var age = 18 // 3.çŸ­å˜é‡å£°æ˜æ³• æ ¼å¼ï¼š\u0026lt;å˜é‡å\u0026gt; := \u0026lt;å€¼\u0026gt; sex := \u0026#34;ç”·\u0026#34; score := 80 fmt.Print(name, age, sex, score) ç»“æœï¼š\nå¼ ä¸‰18ç”·80 2.2 å£°æ˜å¤šä¸ªå˜é‡\r// 1. ä¸€æ¬¡å£°æ˜ç›¸åŒç±»å‹ var \u0026lt;å˜é‡å1\u0026gt;,\u0026lt;å˜é‡å2\u0026gt;... \u0026lt;æ•°æ®ç±»å‹\u0026gt; var a1, a2, a3 string a1 = \u0026#34;å¼ ä¸‰\u0026#34; a2 = \u0026#34;æå››\u0026#34; a3 = \u0026#34;ç‹äº”\u0026#34; fmt.Println(a1, a2, a3) /* * 2. å…ˆå£°æ˜ï¼Œåèµ‹å€¼ var ( \u0026lt;å˜é‡å1\u0026gt; \u0026lt;æ•°æ®ç±»å‹\u0026gt; \u0026lt;å˜é‡å2\u0026gt; \u0026lt;æ•°æ®ç±»å‹\u0026gt; ... ) */ var ( name string age int ) name = \u0026#34;èµµå…­\u0026#34; age = 20 fmt.Println(name, age) /* 3. å£°æ˜å³èµ‹å€¼ var ( \u0026lt;å˜é‡å1\u0026gt; = \u0026lt;å€¼\u0026gt; \u0026lt;å˜é‡å2\u0026gt; = \u0026lt;å€¼\u0026gt; ... ) */ var ( num1 = 1 num2 = 2 ) fmt.Println(num1, num2) // 4. çŸ­å˜é‡å£°æ˜æ³• \u0026lt;å˜é‡å1\u0026gt;,\u0026lt;å˜é‡å2\u0026gt;,\u0026lt;å˜é‡å3\u0026gt; := \u0026lt;å€¼1\u0026gt;,\u0026lt;å€¼2\u0026gt;,\u0026lt;å€¼3\u0026gt; num3, num4, num5 := 3, 4, \u0026#34;Hello\u0026#34; fmt.Println(num3, num4, num5) ç»“æœï¼šæç¤ºï¼šPrintlnå…·æœ‰åŠ ç©ºæ ¼åŠæ¢è¡ŒåŠŸèƒ½\nå¼ ä¸‰ æå›› ç‹äº” èµµå…­ 20 1 2 3 4 Hello varå£°æ˜å¯ç”¨äºå…¨å±€å®šä¹‰ä½¿ç”¨ï¼ŒçŸ­å˜é‡å£°æ˜åªèƒ½ç”¨äºå±€éƒ¨å˜é‡ã€‚\n2.3 åŒ¿åå˜é‡\råŒ¿åå˜é‡é¡¾åæ€ä¹‰æ²¡æœ‰å˜é‡åï¼Œä¸€æ¬¡æ€§æ¥æ”¶ï¼Œç”¨_è¡¨ç¤º\nç¤ºä¾‹ï¼š\npackage main import \u0026#34;fmt\u0026#34; // å…ˆä¸¾ç¤ºä¾‹ï¼Œå‡½æ•°çš„å®šä¹‰åç»­å­¦ä¹ è®²è§£ func getUserInfo() (string, int) { return \u0026#34;zhangsan\u0026#34;, 10 } // mainå‡½æ•° å…¥å£å‡½æ•° func main() { // varå£°æ˜æ¥æ”¶ var name, age = getUserInfo() fmt.Println(name, age) // _åŒ¿åå˜é‡ï¼Œç”¨äºä¸¢å¼ƒèµ‹å€¼ var _, age1 = getUserInfo() fmt.Println(age1) var name1, _ = getUserInfo() fmt.Println(name1) } ç»“æœï¼š\nzhangsan 10 10 zhangsan åŒ¿åå˜é‡ä¸å ç”¨å‘½åç©ºé—´ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨ï¼Œä½†æ˜¯varï¼Œ:=å£°æ˜çš„å˜é‡åç§°ä¸å¯é‡å¤\n3. å¸¸é‡\rå˜é‡æ˜¯å¯ä»¥ä¿®æ”¹ï¼Œå˜æ›´çš„å€¼ï¼Œè€Œå¸¸é‡æ˜¯ä¸å¯æ”¹å˜çš„å€¼ï¼Œç”¨constå£°æ˜\n3.1 å¸¸é‡çš„å£°æ˜\r// const å®šä¹‰ä¸€ä¸ªå¸¸é‡ * æœ€å¸¸ç”¨ const A = \u0026#34;TEST1\u0026#34; fmt.Println(A) // å®šä¹‰å¤šä¸ªå¸¸é‡ const ( B = \u0026#34;TEST2\u0026#34; C = \u0026#34;TEST3\u0026#34; D = \u0026#34;TEST4\u0026#34; ) fmt.Println(B, C, D) // å®šä¹‰å¤šä¸ªå¸¸é‡ï¼Œç»™å®šä¸€ä¸ªå€¼ const ( E = \u0026#34;TEST5\u0026#34; F G // å€¼é»˜è®¤ä¸ä¸Šä¸€ä¸ªç›¸åŒ H = \u0026#34;TEST6\u0026#34; I // å€¼é»˜è®¤ä¸ä¸Šä¸€ä¸ªç›¸åŒ ) fmt.Println(E, F, G, H, I) ç»“æœï¼š\nTEST1 TEST2 TEST3 TEST4 TEST5 TEST5 TEST5 TEST6 TEST6 3.2 iota è‡ªå¢é•¿\riotaä¸ºGoä¸­çš„è®¡æ•°å™¨ï¼Œå¸¸ä¸constç»“åˆä½¿ç”¨\nç¤ºä¾‹ï¼š\n// iota è®¡æ•°å™¨ä½¿ç”¨ const ( n1 = iota // 0 n2 // 1 _ // åŒ¿åè·³è¿‡è®¡æ•° n3 // 3 n4 = iota // 4 n5 // 5 n6 = 100 // 100 æ’é˜Ÿèµ‹å€¼ n7 = iota // 7 n8, n9, n10 = iota, iota, iota + 1 // 8,8,9 å¤šå˜é‡å£°æ˜iotaä¸ä¼šè®¡æ•°å åŠ ï¼Œ ) fmt.Println(n1, n2, n3, n4, n5, n6, n7, n8, n9, n10) ç»“æœï¼š\n0 1 3 4 5 100 7 8 8 9 4. æ€»ç»“ï¼šGoå¸¸é‡å˜é‡å‘½åè§„åˆ™\rå˜é‡åå¿…é¡»ç”±æ•°å­—ï¼Œå­—æ¯ï¼Œä¸‹åˆ’çº¿_ç»„æˆ æ ‡è¯†ç¬¦å¼€å¤´ä¸èƒ½æ˜¯æ•°å­— æ ‡è¯†ç¬¦ä¸èƒ½æ˜¯ä¿ç•™å­—å’Œå…³é”®å­—(varã€ifã€forç­‰) å˜é‡çš„åå­—æ˜¯ä¸¥æ ¼åŒºåˆ†å¤§å°å†™çš„ï¼Œnameã€Nameã€NAmeä»¥åŠNAMEæ˜¯ä¸åŒçš„å››ä¸ªå˜é‡ã€‚Goè¯­æ³•æ”¯æŒï¼Œä½†ä¸æ¨èè¿™æ ·å†™ã€‚ å˜é‡å®šä¹‰å°½å¯èƒ½è§åæ€æ„ å˜é‡åä¸€èˆ¬é‡‡ç”¨é©¼å³°å‘½åæ³•ã€‚é©¼å³°å‘½åï¼šé¦–å­—æ¯å°å†™ï¼Œåç»­æ¯ä¸ªå•å­é¦–å­—æ¯å¤§å†™ï¼Œä¾‹å¦‚ï¼šmaxAgeã€‚å¦‚æœæ˜¯ä¸“å±åè¯ï¼Œä¾‹å¦‚DNS,IPç­‰ï¼Œå¯ç›´æ¥é‡‡ç”¨å¤§å†™ã€‚ ","date":"2024-12-21T19:36:53+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-02/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬äºŒç¯‡ fmtåŒ…\u0026å˜é‡ã€å¸¸é‡çš„å®šä¹‰ã€‘"},{"content":" å¼•è¨€ï¼šGoï¼ˆåˆç§°ä¸ºGolangï¼‰æ˜¯ä¸€ç§å¼€æºçš„ç¼–ç¨‹è¯­è¨€ï¼Œç”±Googleå¼€å‘ï¼Œäº2009å¹´é¦–æ¬¡å…¬å¼€å‘å¸ƒã€‚å®ƒæ—¨åœ¨æä¾›ç®€æ´ã€é«˜æ•ˆã€å¯é çš„è½¯ä»¶å¼€å‘è§£å†³æ–¹æ¡ˆã€‚Golangæ˜¯ä¸€ç§é™æ€å¼ºç±»å‹ã€ç¼–è¯‘å‹è¯­è¨€ï¼ŒGolangå…·æœ‰å¾ˆå¼ºçš„è¡¨è¾¾èƒ½åŠ›ï¼Œå¾—ç›Šäºå…¶å¹¶å‘æœºåˆ¶ï¼Œç”¨å®ƒç¼–å†™çš„ç¨‹åºèƒ½å¤Ÿéå¸¸æœ‰æ•ˆåœ°åˆ©ç”¨å¤šæ ¸ä¸è”ç½‘çš„è®¡ç®—æœºï¼Œå…¶æ–°é¢–çš„ç±»å‹ç³»ç»Ÿåˆ™ä½¿ç¨‹åºç»“æ„å˜å¾—çµæ´»è€Œæ¨¡å—åŒ–ã€‚ Go ä»£ç ç¼–è¯‘æˆæœºå™¨ç ä¸ä»…éå¸¸è¿…é€Ÿï¼Œè¿˜å…·æœ‰æ–¹ä¾¿çš„åƒåœ¾æ”¶é›†æœºåˆ¶å’Œå¼ºå¤§çš„è¿è¡Œæ—¶åå°„æœºåˆ¶ã€‚\nä½“éªŒæ„Ÿæ‚Ÿï¼šå¾…å­¦ä¹ å®Œæˆåè¡¥å……\u0026hellip;\n1. å­¦ä¹ æ–‡æ¡£\rä¸­æ–‡æ–‡æ¡£åœ°å€ï¼šhttps://go.p2hp.com/ ã€ä¸æ¨èï¼Œè½åäºå®˜æ–¹æ–‡æ¡£ã€‘\nå®˜æ–¹æ–‡æ¡£ï¼šhttps://go.dev/ ã€æ¨èï¼Œæœ€æ–°ï¼Œå­¦ä¹ ä½¿ç”¨è‹±æ–‡ã€‘\nè¾¹å­¦è¾¹ç»ƒï¼š ä¸­æ–‡åœ°å€ | è‹±æ–‡åœ°å€\nBç«™å­¦ä¹ è§†é¢‘åœ°å€\n2. Window æœ¬åœ°å®‰è£…Go\r2.1 å®‰è£…\rå®‰è£…æ­¥éª¤ä¾æ¬¡è§ä¸‹åˆ—å›¾ç¤ºï¼š ç‚¹å‡»ç®­å¤´ä½ç½®ä¸‹è½½å®‰è£…åŒ…ï¼Œç‚¹å‡»å®‰è£…ã€‚æ³¨ï¼šåŸåˆ™ä¸Šæ¥è¯´ï¼Œå¼€å‘äººå‘˜ä¸å»ºè®®å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå­˜åœ¨ä¸€å®šBUGï¼Œä½†è¿™é‡Œå­¦ä¹ ä½¿ç”¨è¶³ä»¥ã€‚ åŒå‡»ä¸‹è½½çš„go1.23.4.windows-amd64.msiæ–‡ä»¶è¿›è¡Œå®‰è£…\n2.2 éªŒè¯\rwindowsæ‰¾ç¯å¢ƒå˜é‡ å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤æ–¹å¼éªŒè¯GOæ˜¯å¦å®‰è£…å®Œæˆã€‚\nwin + R ç»„åˆæŒ‰é”®å”¤é†’è¿è¡Œçª—å£ã€‚è¾“å…¥: cmdã€‚ç‚¹å‡»ç¡®è®¤æˆ–å›è½¦ï¼š è¾“å…¥ä¸‹é¢å‘½ä»¤ï¼ŒéªŒè¯goæ˜¯å¦å®‰è£…æˆåŠŸ # go ç‰ˆæœ¬å· go version # go ç¯å¢ƒå˜é‡ go env å‹æƒ…æç¤ºï¼šå½“ä¸å°å¿ƒç‚¹å‡»ã€é¼ æ ‡å·¦é”®ã€‘ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ã€å…³é”®ä¿¡æ¯ä¸ºå·¦ä¸Šè§’çš„é€‰æ‹©ã€‘ã€‚è¿™ä¸ªæƒ…å†µä¸‹è¡¨ç¤ºcmdå‘½ä»¤å½“å‰çª—å£ä¸ºé€‰æ‹©çª—å£ï¼Œæ­¤æ—¶å‘½ä»¤çª—å£è¿è¡Œçš„ä¸€åˆ‡ç¨‹åºå¤„äºæš‚åœçŠ¶æ€ï¼Œç‚¹å‡»ã€é¼ æ ‡å³é”®ã€‘å¯æ¢å¤ã€‚ 3. å¼€å‘ç¯å¢ƒâ€”â€”VsCode\r3.1 VsCode å®‰è£…\rå®‰è£…åœ°å€\nä¸‹è½½å¥½çš„æ–‡ä»¶å°†æ–‡ä»¶è§£å‹ï¼Œä¸€å®šç‚¹å‡»è§£å‹æ–‡ä»¶æˆ–è€…è§£å‹åˆ°\u0026quot;VsCode-win***\u0026quot;ï¼Œå¦åˆ™å†…éƒ¨æ–‡ä»¶å¹³é“ºå½“å‰ç›®å½•ï¼Œå‡Œä¹±ä¸å ªã€‚å°†è§£å‹çš„æ–‡ä»¶å¤¹éšæ„æ”¾åœ¨è‡ªå·±å–œæ¬¢çš„æŒ‡å®šç£ç›˜æ–‡ä»¶ä¸‹ã€‚\nç‚¹å‡»è§£å‹æ–‡ä»¶æ‰ä¼šæœ‰è¿™ä¸€æ­¥ï¼š\nè½¯ä»¶å¿«æ·æ–¹å¼æ”¾äºæ¡Œé¢ã€‚\næ‰“å¼€è½¯ä»¶ï¼ŒåŠŸèƒ½ç®€è¦ä»‹ç»\n3.2 å®‰è£…æ’ä»¶\r3.2.1 language è¯­è¨€æ±‰åŒ–æ’ä»¶å®‰è£…\r3.2.2 Goæ’ä»¶å®‰è£…\råŒç†å°†Goæ’ä»¶å®‰è£…å®Œæˆ\n4. Hello World å…¥é—¨\r4.1 å»ºå·¥ç¨‹\rVsCodeæ‰“å¼€é¡¹ç›®å·¥ç¨‹\né‡åˆ°ä¸‹é¢ç•Œé¢ï¼Œç‚¹å‡»ä¿¡ä»»å³å¯\n4.2 åˆ›å»ºé¡¹ç›®æ–‡ä»¶\r4.3 ç¼–å†™Hello Worldç¨‹åº\r// package åŒ…å£°æ˜ï¼š å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ package main // import å¯¼å…¥ï¼šä¸€èˆ¬æŒ‡å¯¼å…¥å®˜æ–¹æˆ–è‡ªå®šä¹‰åŠŸèƒ½åŒ… import \u0026#34;fmt\u0026#34; // mainå‡½æ•° å…¥å£å‡½æ•° func main() { // æ‰“å°Hello Worldå­—ç¬¦ä¸²ï¼Œå¯ä¸å†™åˆ†å·ï¼Œè¯­æ³•çµæ´» fmt.Println(\u0026#34;Hello World\u0026#34;) } 4.4 VsCodeæ— ä»£ç æç¤ºè§£å†³æ–¹æ¡ˆ\ræ‰“å¼€cmdæ§åˆ¶ç»ˆç«¯ï¼Œè¾“å…¥GOä»£ç†åœ°å€\ngo env -w GOPROXY=https://goproxy.io/ ç„¶åé‡å¯VsCodeï¼Œå¤šè¯•å‡ æ¬¡é‡å¯ï¼Œç­‰å¾…å®‰è£…ï¼Œå°è¯•ç‚¹å‡»å³å¯è§£å†³\n4.5 è¿è¡Œç¨‹åº\ræ‰“å¼€ç»ˆç«¯(æœ¬è´¨å°±æ˜¯windowsçš„cmdçª—å£)ï¼Œè¿è¡Œgoæ–‡ä»¶å‘½ä»¤\n// è¯­æ³•å‘½ä»¤ï¼šgo run \u0026lt;æ–‡ä»¶å\u0026gt;ï¼Œè¿è¡ŒæŒ‡å®šgoæ–‡ä»¶çš„ç¨‹åº go run main.go // è¿è¡Œç»“æœ // Hello World 4.6 æ„å»ºæ‰“åŒ…ç¨‹åº\r// ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ go build \u0026lt;æ–‡ä»¶å\u0026gt;ã€‚å°†æ–‡ä»¶æ‰“åŒ…æˆå¯è¿è¡Œçš„exeæ–‡ä»¶ã€‚ go build main.go æ„å»ºå®Œæˆä¹‹åæ–‡ä»¶å¯åŒå‡»è¿è¡Œåœ¨windowsä¸Šã€‚ å½“å‰ç¤ºä¾‹è¿è¡Œåæ— ååº”ã€‚åŸå› æ˜¯ç¨‹åºè¿è¡Œå®Œæˆä¹‹åè‡ªåŠ¨å…³é—­äº†ç»ˆç«¯çª—å£ã€‚\n","date":"2024-12-21T10:51:49+08:00","permalink":"https://zg-dd.github.io/stu/golang-stu-01/","title":"Golangå­¦ä¹ å†ç¨‹ã€ç¬¬ä¸€ç¯‡ å…¥é—¨ã€‘"},{"content":"show-busy-java-threads.sh\n#!/bin/bash # @Function # Find out the highest cpu consumed threads of java, and print the stack of these threads. # # @Usage # $ ./show-busy-java-threads.sh # # @author Jerry Lee # javaç›®å½• JAVA_HOME=/usr/local/java/jdk1.8.0_202 readonly PROG=`basename $0` readonly -a COMMAND_LINE=(\u0026#34;$0\u0026#34; \u0026#34;$@\u0026#34;) usage() { cat \u0026lt;\u0026lt;EOF Usage: ${PROG} [OPTION]... Find out the highest cpu consumed threads of java, and print the stack of these threads. Example: ${PROG} -c 10 Options: -p, --pid find out the highest cpu consumed threads from the specifed java process, default from all java process. -c, --count set the thread count to show, default is 5 -h, --help display this help and exit EOF exit $1 } readonly ARGS=`getopt -n \u0026#34;$PROG\u0026#34; -a -o c:p:h -l count:,pid:,help -- \u0026#34;$@\u0026#34;` [ $? -ne 0 ] \u0026amp;\u0026amp; usage 1 eval set -- \u0026#34;${ARGS}\u0026#34; while true; do case \u0026#34;$1\u0026#34; in -c|--count) count=\u0026#34;$2\u0026#34; shift 2 ;; -p|--pid) pid=\u0026#34;$2\u0026#34; shift 2 ;; -h|--help) usage ;; --) shift break ;; esac done count=${count:-5} redEcho() { [ -c /dev/stdout ] \u0026amp;\u0026amp; { # if stdout is console, turn on color output. echo -ne \u0026#34;\\033[1;31m\u0026#34; echo -n \u0026#34;$@\u0026#34; echo -e \u0026#34;\\033[0m\u0026#34; } || echo \u0026#34;$@\u0026#34; } yellowEcho() { [ -c /dev/stdout ] \u0026amp;\u0026amp; { # if stdout is console, turn on color output. echo -ne \u0026#34;\\033[1;33m\u0026#34; echo -n \u0026#34;$@\u0026#34; echo -e \u0026#34;\\033[0m\u0026#34; } || echo \u0026#34;$@\u0026#34; } blueEcho() { [ -c /dev/stdout ] \u0026amp;\u0026amp; { # if stdout is console, turn on color output. echo -ne \u0026#34;\\033[1;36m\u0026#34; echo -n \u0026#34;$@\u0026#34; echo -e \u0026#34;\\033[0m\u0026#34; } || echo \u0026#34;$@\u0026#34; } # Check the existence of jstack command! if ! which jstack \u0026amp;\u0026gt; /dev/null; then [ -z \u0026#34;$JAVA_HOME\u0026#34; ] \u0026amp;\u0026amp; { redEcho \u0026#34;Error: jstack not found on PATH!\u0026#34; exit 1 } ! [ -f \u0026#34;$JAVA_HOME/bin/jstack\u0026#34; ] \u0026amp;\u0026amp; { redEcho \u0026#34;Error: jstack not found on PATH and $JAVA_HOME/bin/jstack file does NOT exists!\u0026#34; exit 1 } ! [ -x \u0026#34;$JAVA_HOME/bin/jstack\u0026#34; ] \u0026amp;\u0026amp; { redEcho \u0026#34;Error: jstack not found on PATH and $JAVA_HOME/bin/jstack is NOT executalbe!\u0026#34; exit 1 } export PATH=\u0026#34;$JAVA_HOME/bin:$PATH\u0026#34; fi readonly uuid=`date +%s`_${RANDOM}_$$ cleanupWhenExit() { rm /tmp/${uuid}_* \u0026amp;\u0026gt; /dev/null } trap \u0026#34;cleanupWhenExit\u0026#34; EXIT printStackOfThreads() { local line local count=1 while IFS=\u0026#34; \u0026#34; read -a line ; do local pid=${line[0]} local threadId=${line[1]} local threadId0x=\u0026#34;0x`printf %x ${threadId}`\u0026#34; local user=${line[2]} local pcpu=${line[4]} local jstackFile=/tmp/${uuid}_${pid} [ ! -f \u0026#34;${jstackFile}\u0026#34; ] \u0026amp;\u0026amp; { { if [ \u0026#34;${user}\u0026#34; == \u0026#34;${USER}\u0026#34; ]; then jstack ${pid} \u0026gt; ${jstackFile} else if [ $UID == 0 ]; then sudo -u ${user} jstack ${pid} \u0026gt; ${jstackFile} else redEcho \u0026#34;[$((count++))] Fail to jstack Busy(${pcpu}%) thread(${threadId}/${threadId0x}) stack of java process(${pid}) under user(${user}).\u0026#34; redEcho \u0026#34;User of java process($user) is not current user($USER), need sudo to run again:\u0026#34; yellowEcho \u0026#34; sudo ${COMMAND_LINE[@]}\u0026#34; echo continue fi fi } || { redEcho \u0026#34;[$((count++))] Fail to jstack Busy(${pcpu}%) thread(${threadId}/${threadId0x}) stack of java process(${pid}) under user(${user}).\u0026#34; echo rm ${jstackFile} continue } } blueEcho \u0026#34;[$((count++))] Busy(${pcpu}%) thread(${threadId}/${threadId0x}) stack of java process(${pid}) under user(${user}):\u0026#34; sed \u0026#34;/nid=${threadId0x} /,/^$/p\u0026#34; -n ${jstackFile} done } ps -Leo pid,lwp,user,comm,pcpu --no-headers | { [ -z \u0026#34;${pid}\u0026#34; ] \u0026amp;\u0026amp; awk \u0026#39;$4==\u0026#34;java\u0026#34;{print $0}\u0026#39; || awk -v \u0026#34;pid=${pid}\u0026#34; \u0026#39;$1==pid,$4==\u0026#34;java\u0026#34;{print $0}\u0026#39; } | sort -k5 -r -n | head --lines \u0026#34;${count}\u0026#34; | printStackOfThreads ","date":"2024-09-10T13:48:55+08:00","permalink":"https://zg-dd.github.io/blog/java-high-cpu-threads/","title":"Java é«˜CPUçº¿ç¨‹æ’æŸ¥è„šæœ¬"},{"content":" Byte Buddyæ˜¯javaçš„å­—èŠ‚ç å¢å¼ºå™¨ï¼Œä¸€ä¸ªä¼˜é›…çš„è¿è¡Œæ—¶javaä»£ç ç”Ÿæˆåº“ï¼Œä½¿ç”¨æ—¶éœ€è¦æ…é‡\næ–‡æ¡£åœ°å€ï¼šhttp://bytebuddy.net/#/tutorial-cn\n1. å¼•å…¥ByteBuddy\r\u0026lt;!-- https://mvnrepository.com/artifact/net.bytebuddy/byte-buddy --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;net.bytebuddy\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;byte-buddy\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.14.17\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; 2. ByteBuddyå­¦ä¹ \r2.1 ç±»çš„åˆ›å»º\rä»»ä½•ç±»çš„å®ä¾‹åˆ›å»ºéƒ½æ˜¯ä»ByteBuddyçš„å®ä¾‹å¼€å§‹\nDynamicType.Unloaded\u0026lt;Object\u0026gt; dynamicType = new ByteBuddy() .subclass(Object.class)// å¢å¼ºæ–¹å¼ï¼šç›®æ ‡ç±»ç”Ÿæˆå­ç±» .name(\u0026#34;example.Type\u0026#34;) // è‡ªå®šä¹‰ç”Ÿæˆçš„ç±»åï¼šåŒ…å+ç±»å .make();// ç¼–è¯‘ç”Ÿæˆè¯¥ç±» 2.2 æŒ‡å®šç±»çš„åŒ…å\rDynamicType.Unloaded\u0026lt;?\u0026gt; dynamicType = byteBuddy .with(new NamingStrategy.AbstractBase() { @Override protected String name(TypeDescription superClass) { return \u0026#34;example.\u0026#34; + superClass.getSimpleName(); // å¯è‡ªå®šä¹‰åŒ…åå’Œç±»å‹ } }) .subclass(Object.class) .make(); 2.3 ç±»çš„ä¿å­˜\rDynamicType.Unloaded\u0026lt;Object\u0026gt; dynamicType = new ByteBuddy() dynamicType.saveIn(new File(\u0026#34;æ–‡ä»¶è·¯å¾„\u0026#34;));// å°†ç±»Classæ–‡ä»¶ä¿å­˜æ–‡ä»¶å¤¹ 2.4 ç±»çš„æ³¨å…¥\rå¯ä»¥å°†åŠ¨æ€çš„ç”Ÿæˆçš„ç±»æ³¨å…¥åˆ°æŒ‡å®šjaråŒ…ä¸­\nDynamicType.Unloaded\u0026lt;Object\u0026gt; dynamicType = new ByteBuddy() dynamicType.inject(new File(\u0026#34;jar\u0026#34;));// å°†ç±»Classæ–‡ä»¶æ³¨å…¥åˆ°jaråŒ…ä¸­ 2.5 ByteBuddyå¢å¼ºæ–¹å¼\rByteBuddyå…±æœ‰ä¸‰ç§å¢å¼ºæ–¹å¼ï¼š\nsubclassï¼šä¸ºç›®æ ‡ç±»ç”Ÿæˆå­ç±»è¿›è¡Œå¢å¼º rebaseï¼šå½“å¯¹ç±»å‹å˜åŸºæ—¶ï¼ŒByte Buddy ä¼šä¿ç•™æ‰€æœ‰è¢«å˜åŸºç±»çš„æ–¹æ³•å®ç°ã€‚Byte Buddy ä¼šç”¨å…¼å®¹çš„ç­¾åå¤åˆ¶æ‰€æœ‰æ–¹æ³•çš„å®ç°ä¸ºä¸€ä¸ªç§æœ‰çš„é‡å‘½åè¿‡çš„æ–¹æ³•ï¼Œ è€Œä¸åƒç±»é‡å®šä¹‰æ—¶ä¸¢å¼ƒè¦†å†™çš„æ–¹æ³•ã€‚ç”¨è¿™ç§æ–¹å¼çš„è¯ï¼Œä¸å­˜åœ¨æ–¹æ³•å®ç°çš„ä¸¢å¤±ï¼Œè€Œä¸”å˜åŸºçš„æ–¹æ³•å¯ä»¥é€šè¿‡è°ƒç”¨è¿™äº›é‡å‘½åçš„æ–¹æ³•ï¼ˆç›®å‰å¹¶æœªå‘ç°èµ·ä½œç”¨ï¼‰ redefineï¼šé‡æ–°å®šä¹‰æ–¹æ³•ï¼Œä¼šæ›¿æ¢å·²å­˜åœ¨çš„æ–¹æ³•å®ç°ã€‚ 2.6 ç±»çš„åŠ è½½ç­–ç•¥\rClassLoadingStrategy.Defaultå®šä¹‰äº†å†…ç½®ç­–ç•¥ï¼Œå¦‚æœä¸é€‰æ‹©ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é»˜è®¤æ¨å¯¼å‡ºä¸€ä¸ªç­–ç•¥ã€‚\nWRAPPER ç­–ç•¥ï¼š 1. åˆ›å»ºä¸€ä¸ªæ–°çš„ ClassLoader æ¥åŠ è½½åŠ¨æ€ç”Ÿæˆçš„ç±»å‹ã€‚ 2. é€‚åˆå¤§å¤šæ•°æƒ…å†µï¼Œè¿™æ ·ç”Ÿäº§çš„åŠ¨æ€ç±»ä¸ä¼šè¢«ApplicationClassLoaderåŠ è½½åˆ°ï¼Œä¸ä¼šå½±å“åˆ°é¡¹ç›®ä¸­å·²ç»å­˜åœ¨çš„ç±»ã€‚ WRAPPER_PERSISTENTï¼šè¯¥ç­–ç•¥ä¸WRAPPERç›¸åŒï¼Œä½†é€šè¿‡ClassLoader.getResourceAsStreamï¼ˆStringï¼‰å…¬å¼€è¡¨ç¤ºç±»çš„å­—èŠ‚æ•°ç»„ã€‚ä¸ºæ­¤ï¼Œæ‰€æœ‰ç±»æ–‡ä»¶éƒ½åœ¨åŒ…è£…ç±»åŠ è½½å™¨ä¸­ä½œä¸ºå­—èŠ‚æ•°ç»„æŒä¹…åŒ–ã€‚ CHILD_FIRSTï¼šåˆ›å»ºä¸€ä¸ªå­ç±»ä¼˜å…ˆåŠ è½½çš„ ClassLoaderï¼Œå³æ‰“ç ´äº†åŒäº²å§”æ´¾æ¨¡å‹ã€‚ CHILD_FIRST_PERSISTENTï¼šè¯¥ç­–ç•¥ä¸CHILD_FIRSTç›¸åŒï¼Œä½†é€šè¿‡ClassLoader.getResourceAsStreamï¼ˆStringï¼‰å…¬å¼€è¡¨ç¤ºç±»çš„å­—èŠ‚æ•°ç»„ã€‚ä¸ºæ­¤ï¼Œæ‰€æœ‰ç±»æ–‡ä»¶éƒ½åœ¨åŒ…è£…ç±»åŠ è½½å™¨ä¸­ä½œä¸ºå­—èŠ‚æ•°ç»„æŒä¹…åŒ–ã€‚ INJECTION ç­–ç•¥ï¼šä½¿ç”¨åå°„ï¼Œå°†åŠ¨æ€ç”Ÿæˆçš„ç±»å‹ç›´æ¥æ³¨å…¥åˆ°å½“å‰ ClassLoader ä¸­ã€‚ 2.7 è¿è¡Œæ—¶å®ä¾‹åŒ–\rDynamicType.Unloaded\u0026lt;Object\u0026gt; dynamicType = new ByteBuddy() .subclass(Object.class)// å¢å¼ºæ–¹å¼ï¼šç›®æ ‡ç±»ç”Ÿæˆå­ç±» .name(\u0026#34;example.Type\u0026#34;) // è‡ªå®šä¹‰ç”Ÿæˆçš„ç±»åï¼šåŒ…å+ç±»å .make();// ç¼–è¯‘ç”Ÿæˆè¯¥ç±» 2.8 å­—æ®µå’Œæ–¹æ³•çš„å£°æ˜\rDynamicType.Unloaded\u0026lt;?\u0026gt; dynamicType = new ByteBuddy() // å¢å¼ºæ–¹å¼ .subclass(Object.class) // ç±»å .name(\u0026#34;subclass.Example\u0026#34;) // å®šä¹‰å­—æ®µï¼Œç±»å‹ã€å¯è§è¡Œ // å¤šä¸ªå¯ä½¿ç”¨|å¹¶åˆ— .defineField(\u0026#34;username\u0026#34;, String.class, Modifier.PUBLIC | Modifier.STATIC) // å®šä¹‰getæ–¹æ³• .defineMethod(\u0026#34;getUserName\u0026#34;, String.class, Modifier.PUBLIC) .intercept(FieldAccessor.ofField(\u0026#34;username\u0026#34;)) // è·å–å±æ€§usernameçš„å€¼ .make(); 2.9 FixedValueå›ºå®šå€¼\rFixedValueå¯ä»¥å£°æ˜ä»»æ„å›ºå®šå€¼ï¼Œç”¨äºå¯¹å­—æ®µï¼Œæ–¹æ³•çš„å®šä¹‰ï¼Œå›ºå®šå€¼æœ€ç»ˆä¼šå†™å…¥ç±»çš„å¸¸é‡æ± ä¸­ã€‚\n2.10 ElementMatchers å…ƒç´ é€‰æ‹©å™¨\rElementMatchersåŒ…å«äº†å¤§é‡åŒ¹é…è§„åˆ™ï¼Œç”¨äºè¦†å†™åŸç±»ï¼Œå¸¸ç”¨çš„æœ‰ï¼š\nisDeclaredBy åŒ¹é…æŸä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰æ–¹æ³• named æŒ‡å®šæ–¹æ³•å takesArguments æŒ‡å®šå‚æ•°ä¸ªæ•° å¦‚ä¸‹ç¤ºä¾‹ï¼š\npublic class Foo { public String bar() { return null; } public String foo() { return null; } public String foo(Object o) { return null; } } // æ„å»ºä¸€ä¸ªå®ç°ç±» DynamicType.Unloaded\u0026lt;?\u0026gt; dynamicType = new ByteBuddy() .with(new NamingStrategy.AbstractBase() { @Override protected String name(TypeDescription superClass) { return \u0026#34;subclass.subclass\u0026#34; + superClass.getSimpleName(); } }) .subclass(Foo.class) .method(ElementMatchers.isDeclaredBy(Foo.class)).intercept(FixedValue.value(\u0026#34;One!\u0026#34;)) .method(ElementMatchers.named(\u0026#34;foo\u0026#34;)).intercept(FixedValue.value(\u0026#34;Two!\u0026#34;)) .method(ElementMatchers.named(\u0026#34;foo\u0026#34;).and(ElementMatchers.takesArguments(1))) .intercept(FixedValue.value(\u0026#34;Three!\u0026#34;)) .make(); // æœ€ç»ˆç”Ÿæˆçš„ç±»å¦‚ä¸‹ public class subclassFoo extends Foo { public String foo(Object var1) {return \u0026#34;Three!\u0026#34;;} public String foo() {return \u0026#34;Two!\u0026#34;;} public String bar() {return \u0026#34;One!\u0026#34;;} public subclassFoo() {} } è¯¥ç¤ºä¾‹ä¸­ bar()æ–¹æ³•ä»…è¢«ElementMatchers.isDeclaredBy(Foo.class)åŒ¹é…åˆ°ï¼Œæœ€ç»ˆè¦†å†™äº†One! foo()æ–¹æ³•è¢«ElementMatchers.named(\u0026ldquo;foo\u0026rdquo;)å’ŒElementMatchers.named(\u0026ldquo;foo\u0026rdquo;).and(ElementMatchers.takesArguments(1))åŒ¹é…åˆ°ï¼Œè¦†å†™äº†Tow! foo(Object var1)ç„¶åå†è¢«ElementMatchers.named(\u0026ldquo;foo\u0026rdquo;).and(ElementMatchers.takesArguments(1))åŒ¹é…ï¼Œå†æ¬¡è¦†å†™ï¼Œå¾—åˆ°Three!\n2.11 MethodDelegation(æ–¹æ³•å§”æ‰˜)\ræ–¹æ³•å§”æ‰˜ç»™ï¼Œå®ƒå¯¹æ–¹æ³•è°ƒç”¨åšå‡ºååº”æ—¶æä¾›äº†æœ€å¤§ç¨‹åº¦çš„è‡ªç”±ã€‚Sourceä¸­çš„æ–¹æ³•å¯ä»¥å§”æ‰˜ç»™Targetæ–¹æ³•è°ƒç”¨(Sourceå’ŒTargetçš„æ–¹æ³•åå¯ä»¥ä¸ä¸€è‡´)ï¼›æ³¨ï¼šæ‰€æœ‰çš„å§”æ‰˜æ–¹æ³•å¿…é¡»æ˜¯staticå£°æ˜ ç®€å•ç¤ºä¾‹ï¼š\n// å˜åŸºå¯¹è±¡ public class MemoryDatabase { public void hello(String name) { System.out.println(\u0026#34;MemoryDatabase.hello origin\u0026#34;); } public List\u0026lt;String\u0026gt; load(String info) { System.out.println(\u0026#34;MemoryDatabase.load orignï¼š\u0026#34; + info); return Arrays.asList(info, info); } } // å§”æ‰˜ç±» public class LoggerInterceptor { public static void hello(String name) { System.out.println(\u0026#34;LoggerInterceptor.hello \u0026#34; + name + \u0026#34;!\u0026#34;); } public static List\u0026lt;String\u0026gt; load(String info) { System.out.println(\u0026#34;LoggerInterceptor.load before\u0026#34;); try { // å‚æ•°å¢å¼º List\u0026lt;String\u0026gt; list = Arrays.asList(info + \u0026#34;: foo\u0026#34;, info + \u0026#34;: bar\u0026#34;); System.out.println(\u0026#34;LoggerInterceptor.load after\u0026#34;); return list; } finally { System.out.println(\u0026#34;LoggerInterceptor.load finally\u0026#34;); } } } // æµ‹è¯•æ–¹æ³• MemoryDatabase loggingDatabase = new MemoryDatabase(); loggingDatabase.hello(\u0026#34;hello MemoryDatabase\u0026#34;); System.out.println(\u0026#34;MemoryDatabase.load return valueï¼š\u0026#34; + loggingDatabase.load(\u0026#34;hello MemoryDatabase\u0026#34;)); // å°†MemoryDatabaseç±»çš„æŒ‡å®šæ–¹æ³•è¿›è¡Œå§”æ‰˜å˜åŸº new ByteBuddy() .redefine(MemoryDatabase.class) .method(named(\u0026#34;hello\u0026#34;)).intercept(MethodDelegation.to(LoggerInterceptor.class)) .method(named(\u0026#34;load\u0026#34;)).intercept(MethodDelegation.to(LoggerInterceptor.class)) .make() .load(MemoryDatabase.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())// ClassReloadingStrategy.fromInstalledAgent()è¡¨ç¤ºä½¿ç”¨ä»£ç†ä¿®æ”¹æºæ–¹æ³• .getLoaded(); System.out.println(\u0026#34;å˜åŸºåã€‚ã€‚ã€‚\u0026#34;); loggingDatabase = new MemoryDatabase(); loggingDatabase.hello(\u0026#34;hello MemoryDatabase\u0026#34;); System.out.println(\u0026#34;MemoryDatabase.load return valueï¼š\u0026#34; + loggingDatabase.load(\u0026#34;hello MemoryDatabase\u0026#34;)); // è¿è¡Œç»“æœ MemoryDatabase.hello origin MemoryDatabase.load orignï¼šhello MemoryDatabase MemoryDatabase.load return valueï¼š[hello MemoryDatabase, hello MemoryDatabase] å˜åŸºåã€‚ã€‚ã€‚ LoggerInterceptor.hello hello MemoryDatabase! LoggerInterceptor.load before LoggerInterceptor.load after LoggerInterceptor.load finally MemoryDatabase.load return valueï¼š[hello MemoryDatabase: foo, hello MemoryDatabase: bar] ä¸Šé¢è¿™ä¸ªç®€å•ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œæ–¹æ³•å§”æ‰˜å¯ä»¥å°†åŸæ¥çš„æ–¹æ³•ç›´æ¥æ›¿æ¢æ‰ï¼Œè¿›è¡Œå˜åŸºä¿®æ”¹ã€‚åœ¨è¿›è¡Œä¿®æ”¹æºç ä¸­èµ·åˆ°äº†é‡è¦ä½œç”¨ã€‚æ³¨ï¼šsubclassæ˜¯å¯¹çˆ¶ç±»çš„å¢å¼ºï¼Œä¸ä¼šå¯¹æºç±»é€ æˆå½±å“ï¼Œredefineå’Œrebaseæ˜¯éœ€è¦ä»£ç†æƒé™çš„ï¼Œéœ€è¦å†å¯åŠ¨ç±»åŠ è½½å‰æ·»åŠ VMå‚æ•°ï¼š-javaagent:è·¯å¾„åœ°å€\\byte-buddy-agent-1.14.17.jarbyte-buddy-agentæŒ‡çš„æ˜¯ä»£ç jarï¼Œç½‘ä¸Šæœç´¢å³å¯ä¸‹è½½ã€‚ä¸‹é¢å°±ä¸€ä¸€å¼€å§‹å­¦ä¹ æ–¹æ³•å§”æ‰˜çš„å„ç§åœºæ™¯ï¼š\n@SuperCall\npublic class MemoryDatabase { public List\u0026lt;String\u0026gt; load(String info) { System.out.println(\u0026#34;MemoryDatabase.load orignï¼š\u0026#34; + info); return Arrays.asList(info, info); } } public class LoggerInterceptor { public static List\u0026lt;String\u0026gt; log(@SuperCall Callable\u0026lt;List\u0026lt;String\u0026gt;\u0026gt; zuper) { System.out.println(\u0026#34;LoggerInterceptor.log before\u0026#34;); try { // å‚æ•°å¢å¼º List\u0026lt;String\u0026gt; call = zuper.call(); System.out.println(\u0026#34;LoggerInterceptor.log after\u0026#34;); return call; } catch (Exception e) { throw new RuntimeException(e); } finally { System.out.println(\u0026#34;LoggerInterceptor.log finally\u0026#34;); } } } // æµ‹è¯•TEST: MemoryDatabase loggingDatabase = new ByteBuddy() .subclass(MemoryDatabase.class) .method(isDeclaredBy(MemoryDatabase.class)).intercept(MethodDelegation.to(LoggerInterceptor.class)) .make() .load(MemoryDatabase.class.getClassLoader()) .getLoaded().newInstance(); System.out.println(\u0026#34;MemoryDatabase.load return valueï¼š\u0026#34; + loggingDatabase.load(\u0026#34;hello MemoryDatabase\u0026#34;)); ä¸Šé¢çš„ç¤ºä¾‹å°†MemoryDatabase.loadå§”æ‰˜ç»™äº†LoggerInterceptor.logï¼›@SuperCallå£°æ˜è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä»£ç†æ–¹æ³•ï¼ŒæŒ‡çš„å°±æ˜¯MemoryDatabase.loadã€‚å…¶ä¸­Callable\u0026lt;List\u0026gt;è¡¨ç¤ºloadæ–¹æ³•çš„è¿”å›ç±»å‹ã€‚è¿™ç§æ–¹å¼å…¶å®å°±æ˜¯spring aopçš„å®ç°æ–¹å¼ã€‚\n@Super\npublic class MemoryDatabase { public List\u0026lt;String\u0026gt; load(String info) { System.out.println(\u0026#34;MemoryDatabase.load orignï¼š\u0026#34; + info); return Arrays.asList(info, info); } } public class LoggerInterceptor { // infoè¡¨ç¤ºæ–¹æ³•å‚æ•°ï¼Œzuperæ³¨è§£@Superå£°æ˜ï¼Œè¡¨ç¤ºä»£ç†å¯¹è±¡ public static List\u0026lt;String\u0026gt; log(String info, @Super MemoryDatabase zuper) { System.out.println(\u0026#34;LoggerInterceptor.log before\u0026#34;); try { // å‚æ•°å¢å¼º List\u0026lt;String\u0026gt; strings = zuper.load(info + \u0026#34; Interceptor\u0026#34;); System.out.println(\u0026#34;LoggerInterceptor.log after\u0026#34;); return strings; } catch (Exception e) { throw new RuntimeException(e); } finally { System.out.println(\u0026#34;LoggerInterceptor.log finally\u0026#34;); } } } // æµ‹è¯•TEST: MemoryDatabase loggingDatabase = new ByteBuddy() .subclass(MemoryDatabase.class) .method(isDeclaredBy(MemoryDatabase.class)).intercept(MethodDelegation.to(LoggerInterceptor.class)) .make() .load(MemoryDatabase.class.getClassLoader()) .getLoaded().newInstance(); System.out.println(\u0026#34;MemoryDatabase.load return valueï¼š\u0026#34; + loggingDatabase.load(\u0026#34;hello MemoryDatabase\u0026#34;)); @Superæ˜¯æ˜ç¡®æŒ‡å®šäº†ä»£ç†å®ä¾‹ã€‚è¿›è¡Œç²¾ç¡®åŒ–çš„å®ç°\n@RuntimeType\npublic class MemoryDatabase { public List\u0026lt;String\u0026gt; load(String info) { System.out.println(\u0026#34;MemoryDatabase.load orignï¼š\u0026#34; + info); return Arrays.asList(info, info); } public List\u0026lt;Integer\u0026gt; load(Integer info) { System.out.println(\u0026#34;MemoryDatabase.load orignï¼š\u0026#34; + info); return Arrays.asList(info, info); } } public class LoggerInterceptor { // @RuntimeTypeè¿è¡Œæ—¶æŒ‡å®šå…·ä½“å‚æ•°ç±»å‹ public static List\u0026lt;String\u0026gt; log(@RuntimeType Object info, @Super MemoryDatabase zuper) { // å‚æ•°å¢å¼º List\u0026lt;String\u0026gt; strings = zuper.load(info + \u0026#34; Interceptor\u0026#34;); System.out.println(\u0026#34;LoggerInterceptor.log :\u0026#34; + info); return strings; } } @RuntimeTypeè¿è¡Œæ—¶æŒ‡å®šå‚æ•°ï¼Œå¯ä»¥å®ç°æ–¹æ³•é‡è½½çš„æ•ˆæœ\n@Pipe æŒç»­å­¦ä¹ æ›´æ–°ä¸­ã€‚ã€‚ã€‚\nå€Ÿé‰´æ–‡ç« ï¼šhttps://blog.csdn.net/zhou920786312/article/details/130649115\n","date":"2024-07-21T17:14:51+08:00","permalink":"https://zg-dd.github.io/stu/byte-buddy-tutorial/","title":"Byte Buddyæ•™ç¨‹ï¼šJavaå­—èŠ‚ç å¢å¼ºä¸åŠ¨æ€ä»£ç ç”ŸæˆæŒ‡å—"},{"content":"reflectasm java é«˜æ€§èƒ½åå°„å·¥å…·\rå¤§ä½¬æ–‡ç« \nå®˜ç½‘ç¤ºä¾‹\nmaven å¼•å…¥ \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.esotericsoftware\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;reflectasm\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.11.9\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; å®ä½“ç±» public class User { public Integer id; public String userName; public String password; public String address; public Integer getId() {return id;} public void setId(Integer id) {this.id = id;} public String getUserName() {return userName;} public void setUserName(String userName) {this.userName = userName;} public String getPassword() {return password;} public void setPassword(String password) {this.password = password;} public String getAddress() {return address;} public void setAddress(String addresss) {this.address = addresss;} public String toString() { return \u0026#34;User{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, userName=\u0026#39;\u0026#34; + userName + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, password=\u0026#39;\u0026#34; + password + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, addresss=\u0026#39;\u0026#34; + address + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } æµ‹è¯•ç¤ºä¾‹ public class ReflectasmDemo { public static void main(String[] args) { // ä»…è·å–æ— å‚æ„é€  ConstructorAccess\u0026lt;User\u0026gt; constructorAccess = ConstructorAccess.get(User.class); // å¯è·å–publicã€protectedã€é»˜è®¤çš„ã€finalä¿®é¥°çš„å±æ€§, ä¸åŒ…å«private staticè¯­å¥å­—æ®µ FieldAccess fieldAccess = FieldAccess.get(User.class); // å¯è·å–é™¤privateä¿®é¥°ä»¥å¤–çš„æ–¹æ³• MethodAccess methodAccess = MethodAccess.get(User.class); long start, end; { start = System.currentTimeMillis(); for (int i = 0; i \u0026lt; 10000; i++) { User user = new User(); user.setId(i); user.setUserName(\u0026#34;user\u0026#34; + 1); user.setPassword(\u0026#34;password\u0026#34; + 1); user.setAddress(\u0026#34;address\u0026#34; + 1); } end = System.currentTimeMillis(); System.out.println(\u0026#34;å¯¹è±¡æ„é€ è€—æ—¶ï¼š\u0026#34; + (end - start)); } { start = System.currentTimeMillis(); try { Class\u0026lt;User\u0026gt; aClass = User.class; Method setUserName = aClass.getMethod(\u0026#34;setUserName\u0026#34;, String.class); Method setPassword = aClass.getMethod(\u0026#34;setPassword\u0026#34;, String.class); Method setAddresss = aClass.getMethod(\u0026#34;setAddress\u0026#34;, String.class); for (int i = 0; i \u0026lt; 10000; i++) { User user = aClass.newInstance(); Method setId = aClass.getMethod(\u0026#34;setId\u0026#34;, Integer.class); setId.invoke(user, i); setUserName.invoke(user, \u0026#34;user\u0026#34; + 1); setPassword.invoke(user, \u0026#34;password\u0026#34; + 1); setAddresss.invoke(user, \u0026#34;address\u0026#34; + 1); } } catch (Exception e) { e.printStackTrace(); } end = System.currentTimeMillis(); System.out.println(\u0026#34;åå°„æ„é€ ï¼š\u0026#34; + (end - start)); } { start = System.currentTimeMillis(); for (int i = 0; i \u0026lt; 10000; i++) { User user = constructorAccess.newInstance(); fieldAccess.set(user, \u0026#34;id\u0026#34;, i); fieldAccess.set(user, \u0026#34;userName\u0026#34;, \u0026#34;user\u0026#34; + 1); fieldAccess.set(user, \u0026#34;password\u0026#34;, \u0026#34;password\u0026#34; + 1); fieldAccess.set(user, \u0026#34;address\u0026#34;, \u0026#34;address\u0026#34; + 1); } end = System.currentTimeMillis(); System.out.println(\u0026#34;reflectasm ä½¿ç”¨Field åç§° æ„é€ ï¼š\u0026#34; + (end - start)); } { start = System.currentTimeMillis(); int setIdIndex = fieldAccess.getIndex(\u0026#34;id\u0026#34;); int setUserNameIndex = fieldAccess.getIndex(\u0026#34;userName\u0026#34;); int setPasswordIndex = fieldAccess.getIndex(\u0026#34;password\u0026#34;); int setAddressIndex = fieldAccess.getIndex(\u0026#34;address\u0026#34;); for (int i = 0; i \u0026lt; 10000; i++) { User user = constructorAccess.newInstance(); fieldAccess.set(user, setIdIndex, i); fieldAccess.set(user, setUserNameIndex, \u0026#34;user\u0026#34; + 1); fieldAccess.set(user, setPasswordIndex, \u0026#34;password\u0026#34; + 1); fieldAccess.set(user, setAddressIndex, \u0026#34;address\u0026#34; + 1); } end = System.currentTimeMillis(); System.out.println(\u0026#34;reflectasm ä½¿ç”¨Field Index æ„é€ ï¼š\u0026#34; + (end - start)); } { start = System.currentTimeMillis(); for (int i = 0; i \u0026lt; 10000; i++) { User user = constructorAccess.newInstance(); methodAccess.invoke(user, \u0026#34;setId\u0026#34;, i); methodAccess.invoke(user, \u0026#34;setUserName\u0026#34;, \u0026#34;user\u0026#34; + 1); methodAccess.invoke(user, \u0026#34;setPassword\u0026#34;, \u0026#34;password\u0026#34; + 1); methodAccess.invoke(user, \u0026#34;setAddress\u0026#34;, \u0026#34;address\u0026#34; + 1); } end = System.currentTimeMillis(); System.out.println(\u0026#34;reflectasm ä½¿ç”¨method åç§° æ„é€ ï¼š\u0026#34; + (end - start)); } { start = System.currentTimeMillis(); int setIdIndex = methodAccess.getIndex(\u0026#34;setId\u0026#34;, Integer.class); int setUserNameIndex = methodAccess.getIndex(\u0026#34;setUserName\u0026#34;, String.class); int setPasswordIndex = methodAccess.getIndex(\u0026#34;setPassword\u0026#34;, String.class); int setAddressIndex = methodAccess.getIndex(\u0026#34;setAddress\u0026#34;, String.class); for (int i = 0; i \u0026lt; 10000; i++) { User user = constructorAccess.newInstance(); methodAccess.invoke(user, setIdIndex, i); methodAccess.invoke(user, setUserNameIndex, \u0026#34;user\u0026#34; + 1); methodAccess.invoke(user, setPasswordIndex, \u0026#34;password\u0026#34; + 1); methodAccess.invoke(user, setAddressIndex, \u0026#34;address\u0026#34; + 1); } end = System.currentTimeMillis(); System.out.println(\u0026#34;reflectasm ä½¿ç”¨method Index æ„é€ ï¼š\u0026#34; + (end - start)); } } } æµ‹è¯•ç»“æœ å¯¹è±¡æ„é€ è€—æ—¶ï¼š6\råå°„æ„é€ ï¼š15\rreflectasm ä½¿ç”¨Field åç§° æ„é€ ï¼š2\rreflectasm ä½¿ç”¨Field Index æ„é€ ï¼š2\rreflectasm ä½¿ç”¨method åç§° æ„é€ ï¼š3\rreflectasm ä½¿ç”¨method Index æ„é€ ï¼š1 ç»“è®º å‡ ç§æ„å»ºæ–¹å¼æ€§èƒ½ç”±é«˜åˆ°ä½æ’åºï¼š reflectasm ä½¿ç”¨Field Index \u0026gt;= reflectasm ä½¿ç”¨Field åç§° \u0026gt; reflectasm ä½¿ç”¨method Index \u0026gt;= reflectasm ä½¿ç”¨method åç§° \u0026gt; newå¯¹è±¡ \u0026gt; jdkåå°„ ","date":"2024-04-13T21:17:40+08:00","permalink":"https://zg-dd.github.io/stu/reflectasm-intro/","title":"ReflectASM - Javaé«˜æ€§èƒ½åå°„å·¥å…·è¯¦è§£"},{"content":"é¡¹ç›®åœºæ™¯ï¼š\rä¸šåŠ¡ï¼šæŸ¥è¯¢åŠŸèƒ½ï¼Œéœ€è¦å…³è”å¤šå¼ è¡¨ï¼Œä¸ºä¸€å¯¹å¤šæˆ–å¤šå¯¹å¤šã€‚ éœ€æ±‚ï¼šè¦æ±‚åˆ†é¡µï¼Œåˆ†é¡µç»Ÿè®¡æ€»æ•°ã€‚ ä½¿ç”¨æŠ€æœ¯ï¼šMybatisï¼ŒPageHelper\né—®é¢˜æè¿°\ræ­£å¸¸æŸ¥è¯¢ä¸€å¼ è¡¨çš„æƒ…å†µä¸‹ï¼Œå®˜æ–¹æ¨èï¼š\n//è·å–ç¬¬1é¡µï¼Œ10æ¡å†…å®¹ï¼Œé»˜è®¤æŸ¥è¯¢æ€»æ•°count PageHelper.startPage(1, 10); List\u0026lt;User\u0026gt; list = userMapper.selectAll(); //ç”¨PageInfoå¯¹ç»“æœè¿›è¡ŒåŒ…è£… PageInfo page = new PageInfo(list); ä½†æ˜¯è¿™ç§æ–¹å¼å®é™…ä¸ŠPageHelperä¼šè‡ªåŠ¨ç”Ÿæˆï¼š\nselect count(0) from (selectAll() sqlè¯­å¥) table_count æ™®é€šæŸ¥è¯¢è¿”å›æ­£å¸¸ç»Ÿè®¡æ•°é‡ã€‚ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³è”è¿”å›çš„countä¸ä¸€å®šæ­£ç¡®\nåŸå› åˆ†æï¼š\rå…³è”æŸ¥è¯¢çš„ç»“æœæ˜¯ä»¥æœ€å°å•ä½ä¸ºä¸€æ¡æ•°æ®è¿›è¡Œç»Ÿè®¡çš„ã€‚è¿™é‡Œçš„æœ€å°å•ä½ä¸¾ä¾‹ï¼šå­¦ç”Ÿè¡¨å’Œæˆç»©è¡¨å…³è”ï¼Œä¸€ä¸ªå­¦ç”Ÿæœ‰å¤šä¸ªè¯¾ç¨‹æˆç»©ï¼Œé‚£ä¹ˆæŸ¥è¯¢å­¦ç”Ÿçš„æˆç»©æ—¶ï¼Œä¸€ä½å­¦ç”Ÿ+ä¸€é—¨è¯¾ç¨‹çš„æˆç»©å°±ä¸ºæœ€å°å•ä½ã€‚ä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ ¹æ®æˆç»©æœç´¢å­¦ç”Ÿï¼Œä½†æ˜¯éœ€è¦äº†è§£æœ‰å¤šå°‘ä¸ªå­¦ç”Ÿã€‚ è¿™ä¸ªæ—¶å€™PageHelperå°±æ— æ³•è‡ªåŠ¨å®ç°äº†ï¼Œéœ€è¦è‡ªå®šä¹‰countè§£å†³ã€‚\nè§£å†³æ–¹æ¡ˆï¼š\rä»¥ä¸‹è¯´æ˜æˆ‘çš„é”™è¯¯ç»å†\né”™è¯¯æ–¹å¼1ï¼š /** * è¿™é‡Œçš„getUserList_COUNT SQLæ¨¡æ¿æ˜¯ï¼š * SELECT count(*) FROM (getUserList SQLè¯­å¥) table_count * è¿”å›å€¼ç±»å‹ï¼šLong */ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•°ï¼Œè‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ PageHelper.startPage(1, 10, false).doCount(() -\u0026gt; stopShipMapper.getUserList_COUNT(params)); // paramsè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„å‚æ•°å¯¹è±¡ï¼Œå¯æœ‰å¯æ— ï¼Œä¸šåŠ¡éœ€æ±‚è€Œå·² List\u0026lt;User\u0026gt; userList = stopShipMapper.getUserList(params); PageInfo\u0026lt;User\u0026gt; info = new PageInfo\u0026lt;\u0026gt;(userList); æŠ¥é”™ï¼šåœ¨ç³»ç»Ÿä¸­å‘ç°äº†å¤šä¸ªåˆ†é¡µæ’ä»¶,è¯·æ£€æŸ¥ç³»ç»Ÿé…ç½®! ç½‘ä¸Šå¤šæ•°ä»‹ç»ï¼Œé€šè¿‡@SpringBootApplication(exclude = PageHelperAutoConfiguration.class)ï¼Œä½†æ˜¯åˆ†é¡µä¼šå¤±æ•ˆï¼Œç„¶åè¿˜æœ‰è¯´å¤šäº†ä¸¤æ¬¡è‡ªå®šä¹‰é…ç½®ã€‚ä½†æ˜¯åªè¿›è¡Œäº†ä¸€æ¬¡é…ç½®ã€‚ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚ æŸ¥çœ‹æºç å¾—çŸ¥å¦‚ä¸‹ï¼š åŸå› ï¼šä¹Ÿå°±æ˜¯è¯´æŸ¥è¯¢æ–¹æ³•åä¸èƒ½åç¼€_COUNTï¼Œå¦åˆ™æŠ¥å¼‚å¸¸ã€‚\né”™è¯¯æ–¹å¼2ï¼š äºæ˜¯ä¹æ”¹äº†è°ƒç”¨æ–¹æ³•åï¼š /** * è¿™é‡Œçš„getUserList_COUNT SQLæ¨¡æ¿æ˜¯ï¼š * SELECT count(*) FROM (getUserList SQLè¯­å¥) table_count * è¿”å›å€¼ç±»å‹ï¼šLong */ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•°ï¼Œè‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ PageHelper.startPage(1, 10, false).doCount(() -\u0026gt; stopShipMapper.getUserListTotal(params)); // paramsè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„å‚æ•°å¯¹è±¡ï¼Œå¯æœ‰å¯æ— ï¼Œä¸šåŠ¡éœ€æ±‚è€Œå·² List\u0026lt;User\u0026gt; userList = stopShipMapper.getUserList(params); PageInfo\u0026lt;User\u0026gt; info = new PageInfo\u0026lt;\u0026gt;(userList); é”™è¯¯ï¼šè°¢å¤©è°¢åœ°ï¼Œcountç»Ÿè®¡æ­£å¸¸ï¼Œä½†æ˜¯æŸ¥è¯¢è¯­å¥åé¢æ²¡æœ‰åç¼€limitï¼Œåˆ†é¡µå¤±æ•ˆã€‚ åŸå› ï¼šPageHelperåˆ†é¡µæœ‰æ•ˆçš„SQLä¸ºPageHelper.startPageåç´§è·Ÿç€çš„ä¸€æ¡SQLã€‚ä¸Šè¿°ä»£ç ç´§è·Ÿç€çš„SQLæ˜¯countï¼Œå¹²æ‰°äº†åˆ†é¡µæŸ¥è¯¢ã€‚\né”™è¯¯æ–¹å¼3ï¼š ç„¶åè¿›ä¸€æ­¥ä¿®æ”¹ï¼Œå¾—åˆ°å¦‚ä¸‹ä»£ç  /** * è¿™é‡Œçš„getUserList_COUNT SQLæ¨¡æ¿æ˜¯ï¼š * SELECT count(*) FROM (getUserList SQLè¯­å¥) table_count * è¿”å›å€¼ç±»å‹ï¼šLong */ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•°ï¼Œè‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ PageHelper.startPage(1, 10, false); // paramsè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„å‚æ•°å¯¹è±¡ï¼Œå¯æœ‰å¯æ— ï¼Œä¸šåŠ¡éœ€æ±‚è€Œå·² List\u0026lt;User\u0026gt; userList = stopShipMapper.getUserList(params); PageHelper.count(() -\u0026gt; stopShipMapper.getUserListTotal(params)) PageInfo\u0026lt;User\u0026gt; info = new PageInfo\u0026lt;\u0026gt;(userList); é”™è¯¯ï¼šç„¶ååˆé”™å•¦ï¼ŒæŠ¥é”™è¯´ä»€ä¹ˆè¦æ±‚return long å®é™… return nullã€‚ çŒœæµ‹åŸå› ï¼šå¯èƒ½ä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªä¸åŒçš„åˆ†é¡µå¯¹è±¡ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡åªç»Ÿè®¡äº†æ€»æ•°ï¼Œæ²¡æœ‰æ£€æµ‹åˆ°æ²¡æœ‰åˆ†é¡µæŸ¥è¯¢\né”™è¯¯æ–¹å¼4ï¼š æ¥ä¸‹æ¥å†æ”¹ï¼Œå¾—åˆ°å¦‚ä¸‹ä»£ç  /** * è¿™é‡Œçš„getUserListTotal SQLæ¨¡æ¿æ˜¯ï¼š * SELECT count(*) FROM (getUserList SQLè¯­å¥) table_count * è¿”å›å€¼ç±»å‹ï¼šLong */ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•°ï¼Œè‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•° Page page = PageHelper.startPage(1, 10, false); // paramsè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„å‚æ•°å¯¹è±¡ï¼Œå¯æœ‰å¯æ— ï¼Œä¸šåŠ¡éœ€æ±‚è€Œå·² List\u0026lt;User\u0026gt; userList = stopShipMapper.getUserList(params); // è‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ page.doCount(()-\u0026gt; stopShipMapper.getUserListTotal(params)); PageInfo\u0026lt;User\u0026gt; info = new PageInfo\u0026lt;\u0026gt;(userList); é”™è¯¯ï¼šåˆ†é¡µæ•°æ®æ­£å¸¸å•¦ï¼Œä½†æ˜¯ç»Ÿè®¡countåˆæˆäº†-1ã€‚ åŸå› ï¼šdoCountæ˜¯ä¸€ä¸ªå›è°ƒè‡ªå®šä¹‰å¤„ç†å‡½æ•°ï¼Œå¹¶æ²¡æœ‰å¯¹pageåšå¤„ç†ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚\né”™è¯¯æ–¹å¼5ï¼š /** * è¿™é‡Œçš„getUserListTotal SQLæ¨¡æ¿æ˜¯ï¼š * SELECT count(*) FROM (getUserList SQLè¯­å¥) table_count * è¿”å›å€¼ç±»å‹ï¼šLong */ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•°ï¼Œè‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ // false è¡¨ç¤ºä¸ä½¿ç”¨ç»Ÿè®¡æ€»æ•° Page page = PageHelper.startPage(1, 10, false); // paramsè¿™é‡ŒæŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„å‚æ•°å¯¹è±¡ï¼Œå¯æœ‰å¯æ— ï¼Œä¸šåŠ¡éœ€æ±‚è€Œå·² List\u0026lt;User\u0026gt; userList = stopShipMapper.getUserList(params); // è‡ªå®šä¹‰ç»Ÿè®¡æ•°é‡ page.doCount(() -\u0026gt; page.setTotal(stopShipMapper.getUserListTotal(params))); PageInfo\u0026lt;User\u0026gt; info = new PageInfo\u0026lt;\u0026gt;(userList); ç»è¿‡éªŒè¯ï¼Œæœ€åä¸€ç§æ–¹å¼ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼Œæ­¤æ—¶æ—¢å¯ä»¥åˆ†é¡µï¼Œä¹Ÿå¯ä»¥ç»Ÿè®¡æ•°é‡ï¼Œä½†æ˜¯åˆ†é¡µçš„ç»“æœè¿˜æ˜¯æœ€å°å•å…ƒã€‚å»ºè®®ä½¿ç”¨æ–¹å¼2ï¼ŒSQLä½¿ç”¨å­æŸ¥è¯¢æ¥å…ˆåˆ†é¡µåå…³è”æ•°æ® ","date":"2022-10-12T10:43:38+08:00","permalink":"https://zg-dd.github.io/blog/mybatis-pagehelper-pagination/","title":"MyBatis PageHelper å¤šè¡¨å…³è”åˆ†é¡µè§£å†³æ–¹æ¡ˆ - è‡ªå®šä¹‰countæŸ¥è¯¢"},{"content":"ä¸€ã€LambdaQueryWrapperï¼Ÿ\rLambdaQueryWrapperæ˜¯Mybatis-Plusæ’ä»¶çš„å¯¹è±¡ï¼Œå®ç°äº†ä½¿ç”¨lambdaå½¢å¼æ„é€ æŸ¥è¯¢æ¥å£ã€‚ æœ€åˆæ¥è§¦è¿™ä¸ªçš„æ—¶å€™ï¼Œç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯ï¼Œå¤ªæ–¹ä¾¿äº†ï¼Œå› é¿å…æ˜¯ç”¨å¤§é‡çš„å­—ç¬¦ä¸²ï¼Œå¯¹æ—¥åçš„ç»´æŠ¤æœ‰ç€å¾ˆé‡è¦çš„ä½œç”¨ã€‚\näºŒã€ç±»å::GETæ–¹æ³•\råœ¨LambdaQueryWrapperæ„é€ è¯­å¥çš„æ–¹æ³•ä¸­ä½¿ç”¨äº†å¤§é‡çš„è¿™ç§æ–¹å¼ä½œä¸ºæŸ¥è¯¢æ•°æ®åº“çš„å­—æ®µåã€‚è¿™ç§æ–¹å¼è¿˜å¯æŒ‡å®šå…·ä½“çš„ç±»ã€‚\nç±»å::GETæ–¹æ³•ï¼Œè¿™æ˜¯lambdaçš„è°ƒç”¨Getæ–¹æ³•ï¼Œç®€åŒ–æ“ä½œçš„ï¼Œä¾‹ï¼š\nList\u0026lt;String\u0026gt; list = new ArrayLiast(); list.add(\u0026#34;Hello\u0026#34;); //åŒ–ç®€å‰ list.forEach(item -\u0026gt; System.out.println(item)); //åŒ–ç®€å list.forEach(System.out::println); å…·ä½“ä½¿ç”¨å¯è‡ªè¡Œç™¾åº¦ï¼Œ:: å®ç°æ˜¯å…¶å®ä½¿ç”¨çš„æ˜¯Function\u0026lt;T, R\u0026gt;æ¥å£ï¼Œè¯¥æ¥å£å£°æ˜@FunctionalInterfaceï¼Œå³è¿™æ˜¯å‡½æ•°å¼æ¥å£ã€‚\näºŒã€å¦‚ä½•ç»“åˆä½¿ç”¨ï¼Ÿ\rLambdaQueryWrapper æŸ¥è¯¢éœ€è¦çš„æ˜¯å­—æ®µåï¼Œè€Œ::å¾—åˆ°çš„æ˜¯æ‰§è¡Œgetæ–¹æ³•ã€‚é‚£ä¹ˆmybatis-plusåˆ°åº•æ˜¯æ€ä¹ˆå°†getæ–¹æ³•è½¬æ¢ä¸ºå­—æ®µçš„å‘¢ã€‚å¹¶ä¸æ˜¯æ‰§è¡Œå‘¢ï¼Ÿ IDEAè°ƒè¯•æ–¹æ³•å¯çŸ¥å¦‚ä¸‹ï¼š ç±»å::GETæ–¹æ³•å®é™…ç±»å‹æ˜¯Function\u0026lt;T,R\u0026gt;ï¼Œè€Œmybatis-plusä½¿ç”¨æ–°çš„æ¥å£SFunction\u0026lt;T,R\u0026gt;å°†Functionåºåˆ—åŒ–åï¼Œè¯¥Functionæ¥å£ä¼šåœ¨è¿è¡Œæ—¶æ·»åŠ writeReplaceæ–¹æ³•ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰æ‰§è¡Œæ–¹æ³•çš„ç±»åã€æ–¹æ³•åç­‰ä¿¡æ¯ã€‚ç„¶åé€šè¿‡æ–¹æ³•åè§£æå‡ºå­—æ®µåã€‚\nä¸‰ã€ç¤ºä¾‹ä»£ç \r@FunctionalInterface public interface SFunction\u0026lt;T,R\u0026gt; extends Function\u0026lt;T,R\u0026gt;, Serializable { } public class User { private String username; private String password; // getã€setç•¥ } public class Builder\u0026lt;T\u0026gt; { private T target; public Builder(Class\u0026lt;T\u0026gt; tClass) { try { target = tClass.newInstance(); } catch (InstantiationException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } } public static \u0026lt;T\u0026gt; Builder\u0026lt;T\u0026gt; builder(Class\u0026lt;T\u0026gt; tClass) { return new Builder(tClass); } public \u0026lt;T,R\u0026gt; String getFunName(SFunction\u0026lt;T, R\u0026gt; sFunction) { try { // ç›´æ¥è°ƒç”¨writeReplace Method methods = sFunction.getClass().getDeclaredMethod(\u0026#34;writeReplace\u0026#34;); methods.setAccessible(true); //åå°„è°ƒç”¨ Object sl = methods.invoke(sFunction); SerializedLambda serializedLambda = (SerializedLambda) sl; // è·å–ç±» String implClass = serializedLambda.getImplClass(); Class\u0026lt;?\u0026gt; aClass = Class.forName(implClass.replace(\u0026#34;/\u0026#34;, \u0026#34;.\u0026#34;)); // è·å–æ–¹æ³•å String methodName = serializedLambda.getImplMethodName(); return methodName; } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } catch (ClassNotFoundException e) { e.printStackTrace(); } // è·å–å€¼ return null; } } public class Main { public static void main(String[] args) { Builder\u0026lt;User\u0026gt; builder = Builder.builder(User.class); String name = builder.getFunName(User::getUsername); System.out.println(name); } } è¿è¡Œç»“æœï¼š\ngetUsername æ€»ç»“\ré€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œè½»è€Œæ˜“ä¸¾å¯è·å–åˆ°æ–¹æ³•çš„åæˆ–å­—æ®µåæˆ–è€…å…¶ä»–ä¿¡æ¯ã€‚ä¸Šé¢çš„ä»£ç åœ¨ä¸šåŠ¡éœ€æ±‚æ–¹é¢æ²¡æœ‰ä»€ä¹ˆç”¨å¤„ã€‚ä½†æ˜¯åœ¨æ„é€ æ¡ä»¶æƒ…å†µä¸‹ï¼Œç»“åˆè®¾è®¡æ¨¡å¼ï¼Œæœ‰å¾ˆé†’ç›®çš„ä½œç”¨ï¼Œèƒ½å¤Ÿç»™ç¼–ç¨‹å¸¦æ¥ä¾¿åˆ©.\n","date":"2022-09-19T15:24:42+08:00","permalink":"https://zg-dd.github.io/blog/mybatis-lambda/","title":"MyBatis-Plus LambdaQueryWrapper - å‡½æ•°å¼ç¼–ç¨‹å®è·µ"},{"content":"axiosè§£å†³åŒæ­¥é—®é¢˜çš„æ–¹å¼\rè‡³ä»Šæˆ‘èƒ½æƒ³åˆ°çš„è§£å†³åŒæ­¥/å¼‚æ­¥é—®é¢˜çš„ä¸‰ç§æ–¹å¼å¦‚ä¸‹ï¼š\né€šè¿‡å‡½æ•°å›è°ƒè§£å†³åŒæ­¥å¼‚æ­¥ã€‚è¿™ç§æ–¹å¼ä»£ç ä¹¦å†™å±‚å±‚åµŒå¥—ä¸ç›´è§‚ã€‚ async/awaitå…³é”®å­—ï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—æ­é…ä½¿ç”¨å®Œç¾è§£å†³åŒæ­¥/å¼‚æ­¥é—®é¢˜ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸èƒ½è¯´æ˜¯è§£å†³äº†åŒæ­¥é—®é¢˜ï¼Œè€Œæ˜¯è¯´å°†å¼‚æ­¥åŠŸèƒ½å»¶ç»­åˆ°äº†è°ƒç”¨è€…ï¼Œå³çˆ¶æ–¹æ³•ã€‚å½“ç„¶è¿™ç§æ–¹å¼åœ¨è°ƒç”¨æ–¹æœ¬èº«å°±æ˜¯å¼‚æ­¥å‡½æ•°çš„æƒ…å†µä¸‹æœ‰æ•ˆã€‚ åˆ©ç”¨å¼•ç”¨å˜é‡çš„æ–¹å¼è§£å†³åŒæ­¥å¼‚æ­¥é—®é¢˜ã€‚è¿™ç§æ–¹å¼å®Œç¾è§£å†³äº†ç¬¬2ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜ï¼Œè°ƒç”¨æ–¹å¯ä»¥æ˜¯åŒæ­¥æ–¹æ³•ã€‚ä½†æ˜¯è¯¥ç§æ–¹å¼ä¸èƒ½è§£å†³åŸºæœ¬ç±»å‹ï¼Œå› ä¸ºåŸºæœ¬ç±»å‹ä¸æ˜¯ä½¿ç”¨å¼•ç”¨å˜é‡çš„ã€‚å¯é€šè¿‡å°†åŸºæœ¬ç±»å‹åŒ…è£…åœ¨å¯¹è±¡ä¸­ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ä»¥ä¸Šä¸‰ç§æ–¹å¼å„æœ‰åˆ©å¼Šï¼Œå…·ä½“æƒ…å†µä½¿ç”¨å…·ä½“æ–¹å¼ã€‚ä¸‹é¢é€šè¿‡ç¤ºä¾‹æ¨¡æ‹Ÿä¸€ä¸‹ä¸Šè¿°ä¸‰ç§æ–¹å¼ã€‚\nå›è°ƒè§£å†³\næ­£å¸¸æƒ…å†µä¸‹ï¼š\n// æ¨¡æ‹Ÿå¼‚æ­¥å‘æ•°æ® function req(str) { return new Promise((resolve, reject) =\u0026gt; { resolve(str) }) } // è¯·æ±‚æ–¹æ³• function update(data) { req(data).then(result =\u0026gt; { str = result; // ä»£ç æ›´æ–°ååŒºåŸŸ console.log(\u0026#34;ç»“æœ3:\u0026#34; + str); // ä»£ç 1 }); console.log(\u0026#34;ç»“æœ1:\u0026#34; + str); // ä»£ç 2 } let str = \u0026#34;ä½ å¥½\u0026#34;; // ä»£ç 3 update(\u0026#34;hello\u0026#34;); // ä»£ç 4 console.log(\u0026#34;ç»“æœ2:\u0026#34; + str); // ä»£ç 5 ç»“æœï¼š åˆ†æï¼šä»£ç 3,ä¹‹åï¼Œæ‰§è¡Œä»£ç 4ï¼Œå…¶ä¸­å¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œä»£ç 1ï¼Œè€Œæ˜¯æ‰§è¡Œæ–¹æ³•å†…éƒ¨çš„ä»£ç 2å’Œä¹‹åè·³å‡ºä»£ç 5ã€‚å› ä¸ºreq(data).then()æ˜¯å¼‚æ­¥çš„ï¼Œç­‰å¼‚æ­¥è¯·æ±‚ç»“æŸåä¹‹è¡Œä»£ç 1ï¼Œå› æ­¤å†™åœ¨ä»£ç 1åŒºåŸŸèƒ½å¤Ÿè§£å†³å®é™…é—®é¢˜ï¼Œå°‘é‡å›è°ƒï¼Œè¿™ä¸ªæ–¹å¼å¾ˆæ–¹ä¾¿ï¼Œå¤šæ¬¡å›è°ƒæ—¶ï¼Œé™ä½äº†ä»£ç çš„å¯è¯»æ€§ã€‚\nasync/awaitå…³é”®å­—\n// æ¨¡æ‹Ÿå¼‚æ­¥å‘æ•°æ® function req(str) { return new Promise((resolve, reject) =\u0026gt; { resolve(str) }) } // è¯·æ±‚æ–¹æ³•,é€šè¿‡å£°æ˜async/await,å¯ç­‰å¾…å¼‚æ­¥å®Œæˆä¹‹åå†æ‰§è¡Œ async function update(data) { await req(data).then(result =\u0026gt; { str = result; console.log(\u0026#34;ç»“æœ2:\u0026#34; + str); // ä»£ç 1 }); // ä»£ç æ›´æ–°ååŒºåŸŸ console.log(\u0026#34;ç»“æœ3:\u0026#34; + str); // ä»£ç 2 } let str = \u0026#34;ä½ å¥½\u0026#34;; // ä»£ç 3 update(\u0026#34;hello\u0026#34;); // ä»£ç 4 console.log(\u0026#34;ç»“æœ1:\u0026#34; + str); // ä»£ç 5 ç»“æœï¼š æ­¥éª¤ï¼šç¬¬ä¸€æ­¥å°†çˆ¶çº§æ–¹æ³•ä¹Ÿå°±æ˜¯updateï¼Œå£°æ˜ä¸ºå¼‚æ­¥æ–¹æ³•ï¼ˆasyncï¼‰ï¼Œç„¶åå†éœ€è¦ç­‰å¾…åŒæ­¥çš„åœ°æ–¹æ ‡æ³¨ä¸ºawaitï¼Œè¿™æ ·å³å¯ç­‰å¾…req(data).then()è¯·æ±‚æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œå†æ‰§è¡Œä¸‹é¢ä»£ç ã€‚æ³¨æ„ï¼šasyncå¿…ä¸å¯å°‘ï¼Œå¦åˆ™æŠ¥é”™ã€‚ åˆ†æï¼šä»£ç æ‰§è¡Œå®Œ3æ—¶ï¼Œå› ä¸ºä»£ç 4å£°æ˜ä¸ºå¼‚æ­¥äº†ï¼Œæ•…å…ˆæ‰§è¡Œäº†ä»£ç 5ï¼Œæ‰§è¡Œè¯·æ±‚æ—¶ï¼Œå‘ç°è¯·æ±‚ä¸ºç­‰å¾…ï¼Œæ•…ç­‰thenæ‰§è¡Œç»“æŸåï¼Œå³æ‰§è¡Œäº†ä»£ç 1ï¼Œæœ€åæ‰§è¡Œäº†ä»£ç 2ã€‚æ‰€ä»¥ä»£ç 2åŒºåŸŸèƒ½å¤Ÿè§£å†³å®é™…é—®é¢˜ã€‚è™½ç„¶è¿™æ ·æ˜¯è§£å†³äº†updateæ–¹æ³•å†…éƒ¨çš„åŒæ­¥ä»£ç é—®é¢˜ï¼Œä½†æ˜¯å˜ç›¸çš„å°†å¼‚æ­¥é—®é¢˜å‘ä¸Šæ‹‹äº†ã€‚updateæ–¹æ³•ä¸ºå¼‚æ­¥äº†ã€‚\nåˆ©ç”¨å¼•ç”¨å˜é‡çš„æ–¹å¼è§£å†³åŒæ­¥å¼‚æ­¥é—®é¢˜ ä¸‹é¢ä½¿ç”¨æ–°çš„ç¤ºä¾‹ï¼Œå› ä¸ºå­—ç¬¦ä¸²ä¸æ˜¯ä½¿ç”¨å¼•ç”¨çš„æ–¹å¼ï¼Œéœ€è¦å°†å­—ç¬¦ä¸²åŒ…è£¹åœ¨å¯¹è±¡ä¸­æ‰èµ·ä½œç”¨ã€‚å…ˆçœ‹æ­£å¸¸çš„ç¤ºä¾‹ï¼š\n// æ¨¡æ‹Ÿå¼‚æ­¥å‘æ•°æ® function req(obj) { return new Promise((resolve, reject) =\u0026gt; { resolve(obj) }) } // è¯·æ±‚æ–¹æ³•,é€šè¿‡å£°æ˜async/await,å¯ç­‰å¾…å¼‚æ­¥å®Œæˆä¹‹åå†æ‰§è¡Œ function update(data) { req(data).then(result =\u0026gt; { obj = result; console.log(\u0026#34;ç»“æœ3:\u0026#34;,obj); // ä»£ç 1 }); console.log(\u0026#34;ç»“æœ1:\u0026#34;,obj); // ä»£ç 2 } let obj = { msg: \u0026#34;ä½ å¥½\u0026#34; }; // ä»£ç 3 update({ msg: \u0026#34;hello\u0026#34; }); // ä»£ç 4 console.log(\u0026#34;ç»“æœ2:\u0026#34;,obj); // ä»£ç 5 ç»“æœï¼š åˆ†æï¼šä¸ç”¨å¤šè¯´ï¼Œä»£ç æ‰§è¡Œé¡ºåºä¸ºï¼šä»£ç 3ã€4ã€2ã€5ã€1ã€‚æ‰§è¡Œä»£ç 2å’Œ5æ—¶ï¼Œobjå…¶å®æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤è¿™ä¸¤ä¸ªç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ï¼Œèµ‹å€¼ä½¿ç”¨obj = resultï¼Œç»“æœ2ä¹‹å‰å°†objå¼•ç”¨åˆ°äº†æ–°çš„å¯¹è±¡ï¼Œå› æ­¤æ‰§è¡Œç»“æœ2æœ€åå’Œä¹‹å‰ä¸ä¸€æ ·ã€‚ é—®é¢˜ï¼šæ€ä¹ˆæ ·æ‰èƒ½å°†ç»“æœ1å’Œç»“æœ2çš„å€¼å’Œç»“æœ3æ˜¯ä¸€æ ·çš„å‘¢ï¼Ÿ æ–¹æ¡ˆï¼šè¿™æ˜¯èµ‹å€¼çš„é—®é¢˜ï¼Œå› æ­¤obj = resultçš„æ„æ€æ˜¯å°†objæŒ‡å‘äº†æ–°çš„å¼•ç”¨å¯¹è±¡ï¼Œä¹‹å‰çš„ä¸¢å¼ƒã€‚æ‰€ä»¥åœ¨èµ‹å€¼çš„æ—¶å€™ï¼Œä¸è¦ä¸¢å¼ƒä¹‹å‰çš„å¯¹è±¡ï¼Œåªæ˜¯åšä¿®æ”¹å¯¹è±¡å†…éƒ¨å±æ€§çš„å€¼ï¼Œé‚£ä¹ˆä¸ç®¡å†å“ªé‡Œå¼•ç”¨éƒ½æ˜¯ä¸€æ ·çš„å€¼äº†ã€‚\n// æ¨¡æ‹Ÿå¼‚æ­¥å‘æ•°æ® function req(obj) { return new Promise((resolve, reject) =\u0026gt; { resolve(obj) }) } // è¯·æ±‚æ–¹æ³•,é€šè¿‡å£°æ˜async/await,å¯ç­‰å¾…å¼‚æ­¥å®Œæˆä¹‹åå†æ‰§è¡Œ function update(data) { req(data).then(result =\u0026gt; { // åªèµ‹å€¼å±æ€§çš„å€¼ï¼Œä¸æ”¹å˜å¼•ç”¨åœ°å€ obj.msg = result.msg; console.log(\u0026#34;ç»“æœ3:\u0026#34;,obj); // ä»£ç 1 }); console.log(\u0026#34;ç»“æœ1:\u0026#34;,obj); // ä»£ç 2 } let obj = { msg: \u0026#34;ä½ å¥½\u0026#34; }; // ä»£ç 3 update({ msg: \u0026#34;hello\u0026#34; }); // ä»£ç 4 console.log(\u0026#34;ç»“æœ2:\u0026#34;,obj); // ä»£ç 5 ç»“æœï¼š åˆ†æï¼šå¦‚ç»“æœæ‰€ç¤ºï¼Œæœ€åçš„æ•°æ®ä¸ºå®æ—¶çš„æ•°æ®ï¼Œä½†æ˜¯ä¸Šé¢çš„æ‰“å°æ•°æ®æ˜¯ä»£ç æ‰§è¡Œæ—¶çš„å€¼ï¼Œè€Œæˆ‘ä»¬å¹³æ—¶è°ƒç”¨è·å–å€¼æ—¶ï¼Œéƒ½æ˜¯ä½¿ç”¨å¼•ç”¨æ¥è·å–å˜é‡çš„å®æ—¶æ•°æ®ã€‚è¿™ç§æ–¹å¼æ²¡æœ‰æ”¹å˜ä»£ç æ‰§è¡Œçš„é¡ºåºï¼Œä¹Ÿæ²¡æœ‰æ”¹å˜å¼‚æ­¥å’ŒåŒæ­¥çš„æ–¹å¼ï¼Œåªæ˜¯æ”¹å˜äº†èµ‹å€¼æ–¹å¼ã€‚è¿™ç§æ–¹å¼åœ¨çˆ¶æ–¹æ³•ä¸èƒ½ä¸ºå¼‚æ­¥æ–¹æ³•æ—¶ï¼Œå¾ˆæœ‰æ•ˆã€‚å†æ¬¡å¼ºè°ƒï¼Œå¦‚æœä¸ºåŸºæœ¬ç±»å‹ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå¯¹è±¡æˆ–æ•°ç»„çš„åº”ç”¨ä¸‹æ‰æœ‰æ•ˆã€‚\n","date":"2022-07-15T17:07:31+08:00","permalink":"https://zg-dd.github.io/blog/axios-sync-solutions/","title":"axiosåŒæ­¥é—®é¢˜ - ä¸‰ç§è§£å†³æ–¹æ¡ˆè¯¦è§£"},{"content":"æ­£åˆ™è¡¨è¾¾å¼éƒ¨åˆ†ç†è§£\r[] ä½¿ç”¨[]è¡¨ç¤ºåŒ¹é…[]ä¸­æ‹¬å·ä¸­çš„ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚[abc]ï¼Œè¡¨ç¤ºåŒ¹é…a,b,cçš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ä¸­abcdabcdbdï¼Œä¼šåŒ¹é…åˆ°a,b,c,a,b,c,bï¼Œæœ¬æ„æ˜¯åªè¦å‡ºç°ä¸€ä¸ªå­—ç¬¦å°±ä¼šåŒ¹é…ï¼Œä¸ä¼šåˆå¹¶åˆ°ä¸€èµ·ã€‚ è€Œ[abc]+ï¼Œä»£è¡¨çš„æ˜¯åŒ¹é…abcä¸€æ¬¡æˆ–å‡ºç°å¤šæ¬¡ï¼Œabcdabcdbdè¿™ä¸ªä¾‹å­ä¸­ä¼šåŒ¹é…åˆ°abc,abc,bï¼Œä¹Ÿå°±è¯´åŒ¹é…çš„æ˜¯a,b,cä¸­çš„ä»»ä½•å­—ç¬¦ï¼Œå‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡éƒ½åŒ¹é…ï¼Œå¦‚æœæ˜¯è¿ç»­å‡ºç°çš„ä¼šå½“åšä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…åˆ°ã€‚ \\ \\è¡¨ç¤ºè½¬ç§»ç¬¦å·ï¼Œå¸¸ç”¨çš„è½¬ä¹‰å­—ç¬¦æœ‰\\n(æ¢è¡Œ)ã€\\t(æ°´å¹³åˆ¶è¡¨ç¬¦ï¼Œä¸€ä¸ªTabé”®)ã€\\r(å›è½¦)ã€\\b(é€€æ ¼)ã€\\f(æ¢é¡µç¬¦)ã€\\n(æ¢è¡Œç¬¦)ã€\\v(å‚ç›´åˆ¶è¡¨ç¬¦)ã€\\\u0026rsquo;(ä»£è¡¨ \u0026rsquo; )ã€\\\u0026quot;(ä»£è¡¨ \u0026ldquo;)ã€\\\\(ä»£è¡¨ \\)ç­‰ç­‰ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­è¿˜æœ‰è¡¨ç¤ºçš„å¾ˆå¤šç¬¦å·ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä¸¾ä¾‹äº†ï¼Œä¸‹é¢çš„å›¾ç‰‡ä¸­ç»™å‡ºäº†æ‰€æœ‰ç¬¦å·ã€‚ è¿™é‡Œè¦å¼ºè°ƒçš„æ˜¯ï¼š å†™æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œ\\bã€\\fã€\\nã€\\tã€\\rã€\\\u0026rsquo; è¿™äº›éƒ½å¯ä»¥ç›´æ¥å†™ï¼Œä¾‹å¦‚regex=\u0026quot;\\n\u0026rdquo;;å®ƒå°±è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œè€Œregex=\u0026quot;\\\\n\u0026quot;ï¼›ä¹Ÿè¡¨ç¤ºä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œè¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥ï¼Œä½†æ˜¯å¯¹äºä¸€äº›ç¬¦å·å°±ä¸èƒ½è¿™æ ·å†™äº†ï¼Œä¾‹å¦‚ï¼š\\wã€\\Wã€\\Bã€\\Sã€\\sç­‰ç­‰è¿™äº›è¡¨ç¤ºå«ä¹‰å°±ä¸èƒ½è¿™æ ·å†™äº†ï¼Œå¿…é¡»å†™æˆregex=\u0026quot;\\\\w\u0026quot;,æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œå†å¤åˆ¶è¿™äº›è½¬ä¹‰å­—ç¬¦æ—¶ï¼Œä¼šå°†\\è‡ªåŠ¨å†™æˆ\\\\ï¼Œæ‰€ä»¥åœ¨å†™æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åˆ°å¸¦æœ‰\\ç¬¦å·çš„ï¼Œæˆ‘å»ºè®®ä½¿ç”¨\\\\è¡¨ç¤ºã€‚ æ³¨æ„ï¼š å¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„è½¬ä¹‰å­—ç¬¦éƒ½è¦å†™æˆ\\\\ï¼Œä¾‹å¦‚ï¼šåŒ¹é… \u0026quot; å­—ç¬¦ï¼Œä¸èƒ½å†™æˆregex=\u0026quot;\\\\\u0026quot;\u0026quot;ï¼Œç³»ç»Ÿä¼šå°† \u0026quot; è½¬ä¹‰ä¸ºæœ¬èº« \u0026quot; å«ä¹‰ï¼Œé‚£ä¹ˆå†javaä¸­ä¸Šè¿°è¿™å¥è¯å°±ä¼šå¤šå‡ºä¸€ä¸ª \u0026quot; ã€‚æ‰€ä»¥åº”è¯¥å†™æˆregex=\u0026quot;\\\\\\\u0026quot;\u0026quot;ï¼Œå†™æˆregex=\u0026quot;\\\u0026quot;\u0026quot;ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ å¦‚æœè¦åŒ¹é…çš„æ˜¯ \\ çš„è¯ï¼Œjavaä¸­çš„è¡¨ç¤ºä¸ºregex= \u0026quot; \\\\\\\\ \u0026ldquo;ï¼Œä¸ºå››ä¸ª \\ ï¼Œå…¶ä¸­ä¸¤ä¸ªçš„å«ä¹‰è¡¨ç¤ºè½¬ä¹‰å­—ç¬¦ï¼Œå‰ä¸¤ä¸ªä»£è¡¨è½¬ä¹‰ç¬¦å· \\ ï¼Œåä¸¤ä¸ªä»£è¡¨å¦å¤–ä¸€ä¸ªç¬¦å· \\ ï¼Œä½¿ç”¨ç¬¬ä¸€ä¸ª \\ å†å°†ç¬¬äºŒä¸ª \\ è½¬ä¹‰ä¸ºæœ¬èº«å­—ç¬¦ (è¿™æ˜¯æˆ‘è‡ªå·±çš„ç†è§£ï¼Œä¹Ÿè®¸ä¸æ­£ç¡®ï¼Œä½†æ˜¯è¡¨ç¤ºæ–¹å¼æ˜¯å¯¹çš„)ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¦‚æœè¦åŒ¹é…\\\\,å†™æ³•ä¸ºregex=\u0026rdquo; \\\\\\\\\\\\\\\\ \u0026ldquo; | è¿™ä¸ªç¬¦å·åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­è¡¨ç¤ºæˆ–çš„æ„æ€ï¼Œå¯¹äºæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„x|yï¼Œè¡¨ç¤ºåŒ¹é…xæˆ–è€…yï¼Œè¿™é‡Œçš„ | è¿ç®—çš„ä¼˜å…ˆçº§è¦é«˜äºx,yï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºregex = \u0026ldquo;[a][b]|[c][d]\u0026rdquo;ï¼Œæ¥è¯´ï¼Œå®ƒåŒ¹é…çš„æ˜¯å‡ºç°abæˆ–è€…å‡ºç°cdçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯åŒ¹é…a(bæˆ–è€…c)dè¿™æ ·çš„å­—ç¬¦ä¸²ã€‚ ?\u0026lt;=å’Œ?= è¿™ä¸¤ä¸ªç¬¦å·å¾ˆé‡è¦ï¼Œè¿™ç®—æ˜¯ä¸ªç»„åˆç¬¦å·å§ï¼ŒåŒ¹é…è¯¥æŸç¬¦å·ä½†ä¸åŒ…å«æ­¤ç¬¦å·ï¼Œä¸¾ä¸ªä¾‹å­å°±èƒ½æ˜ç™½äº†ï¼Œæ¯”å¦‚è¯´è¦æˆªå–åŒå¼•å·ï¼ˆ\u0026rdquo; \u0026ldquo;ï¼‰ä¸­è¯´çš„è¯ï¼Œæ¯”å¦‚String str = \u0026ldquo;he says,\\\u0026ldquo;Hello,Java!\\\u0026rdquo; \u0026ldquo;ï¼›è¯´å‡ºçš„è¯ä¸­é€šå¸¸ä½¿ç”¨\u0026quot;\u0026ldquo;å·æ‹¬èµ·æ¥ï¼Œç°åœ¨éœ€è¦åŒ¹é…è¯´è¯çš„å†…å®¹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤ºä¸ºregex = \u0026ldquo;(?\u0026lt;=\\\u0026rdquo;)[^\\\u0026rdquo;]+(?=\\\u0026rdquo;)\u0026quot;;è¿™å…¶ä¸­çš„æ„æ€æ˜¯ï¼š(?\u0026lt;=\\\u0026quot;)ä»£è¡¨é¦–å…ˆåŒ¹é… \u0026quot; ï¼Œä½†æ˜¯ä¸åŒ…å« \u0026quot; ï¼Œ[^\\\u0026rdquo;]+ä»£è¡¨å…¶æ¬¡åŒ¹é…ä¸€æ¬¡æˆ–è€…å¤šæ¬¡åŒ¹é…ä¸æ˜¯ \u0026quot; çš„å­—ç¬¦ï¼Œ(?=\\\u0026quot;)ä»£è¡¨å†æ¬¡åŒ¹é… \u0026quot; ï¼Œä½†æ˜¯ä¸åŒ…å« \u0026quot; ã€‚è¿™æ ·å­å°±èƒ½æˆªå–ä¸­é—´çš„å¥å­äº†ã€‚è¿™ä¸¤ä¸ªç¬¦å·ä¸€èˆ¬é…åˆä½¿ç”¨ï¼Œè¡¨ç¤ºä¸åŒ…å«åŒ¹é…å­—ç¬¦ï¼Œä¸€ä¸ªåœ¨å‰ï¼Œä¸€ä¸ªåœ¨å æ³¨ï¼šä»¥ä¸Šæ‰€æœ‰çš„å•å¼•å·åŒå¼•å·éƒ½æ˜¯è‹±æ–‡ï¼Œç”±äºè½¬ä¹‰çš„é—®é¢˜ï¼Œè®¸å¤šç¬¦å·å˜æˆäº†ä¸­æ–‡ï¼Œçœ‹æœ¬åšå®¢çš„æ—¶å€™éœ€è¦æ³¨æ„ æš‚æ—¶å­¦åˆ°çš„ç”¨åˆ°çš„å°±åªæœ‰è¿™äº›ï¼Œåè¾¹å¦‚æœå†æ³¨æ„åˆ°æ–°çš„ç‚¹ï¼Œä¹‹åå†è¡¥å……ã€‚\næ­£åˆ™è¡¨è¾¾å¼è¡¨\r","date":"2020-04-27T18:00:00+08:00","permalink":"https://zg-dd.github.io/stu/regular/","title":"æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€å…¥é—¨ï¼šå¸¸ç”¨ç¬¦å·è§£æ([]ã€\\ã€|ã€(?\u003c=))"}]