<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Properties to YAML Conversion Tool User Manual\rğŸ“‹ Overview\rThis is a powerful Python script tool for converting Java .properties configuration files to YAML format. The tool not only supports basic format conversion, but also features intelligent comment preservation, type inference, and structure maintenance functions.\nğŸ“œ Script\r#!/usr/bin/env python3 # -*- coding: utf-8 -*- &#34;&#34;&#34; Propertiesæ–‡ä»¶è½¬YAMLæ–‡ä»¶å·¥å…·ï¼ˆä¼˜åŒ–ç‰ˆï¼‰ ä¼˜åŒ–ç‚¹ï¼š 1. ä½¿ç”¨æ™®é€šdictæ›¿ä»£OrderedDictï¼ˆPython 3.7+ä¿æŒæ’å…¥é¡ºåºï¼‰ 2. å‡å°‘æ•°æ®å†—ä½™å­˜å‚¨ 3. ç¼“å­˜é‡å¤çš„å­—ç¬¦ä¸²æ“ä½œ 4. ç®€åŒ–é€»è¾‘æµç¨‹ &#34;&#34;&#34; import sys import argparse from pathlib import Path import yaml import re def infer_value_type(value_str): &#34;&#34;&#34;æ¨æ–­å€¼çš„ç±»å‹å¹¶è¿”å›é€‚å½“çš„Pythonå¯¹è±¡&#34;&#34;&#34; if not isinstance(value_str, str): return value_str value_str = value_str.strip() # ç©ºå€¼å¤„ç† if value_str == '' or value_str.lower() in ['null', 'nil']: return None # å¸ƒå°”å€¼ if value_str.lower() in ['true', 'false']: return value_str.lower() == 'true' # æ•°å­—ï¼ˆæ•´æ•°ï¼‰ if '.' not in value_str and re.match(r'^-?\\d+$', value_str): try: return int(value_str) except ValueError: pass # æ•°å­—ï¼ˆæµ®ç‚¹æ•°ï¼‰ if re.match(r'^-?\\d+\\.?\\d*$', value_str): try: return float(value_str) except ValueError: pass # å»æ‰å¯èƒ½çš„å¼•å· if len(value_str) >= 2 and ( (value_str[0] == '&#34;' and value_str[-1] == '&#34;') or (value_str[0] == &#34;'&#34; and value_str[-1] == &#34;'&#34;) ): return value_str[1:-1] return value_str def parse_properties_content(content): &#34;&#34;&#34;è§£æpropertiesæ–‡ä»¶å†…å®¹&#34;&#34;&#34; structure = [] lines = content.splitlines() for i, line in enumerate(lines): stripped = line.strip() # æ³¨é‡Šè¡Œ if stripped.startswith('#') or stripped.startswith('!'): structure.append({ 'type': 'comment', 'content': stripped[1:].strip(), 'line_num': i + 1 }) continue # ç©ºè¡Œ if not stripped: structure.append({'type': 'empty_line', 'line_num': i + 1}) continue # å±æ€§è¡Œ if '=' in stripped or ':' in stripped: separator = '=' if '=' in stripped else ':' key, value = stripped.split(separator, 1) key = key.strip() value = value.strip() structure.append({ 'type': 'property', 'key': key, 'value': infer_value_type(value), 'line_num': i + 1 }) else: print(f&#34;è­¦å‘Šï¼šç¬¬{i + 1}è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: {stripped}&#34;) return structure def build_comment_mapping(structure): &#34;&#34;&#34;æ„å»ºæ³¨é‡Šåˆ°å±æ€§çš„æ˜ å°„å…³ç³»&#34;&#34;&#34; comment_mapping = {} i = 0 while i < len(structure): if structure[i]['type'] != 'comment': i += 1 continue # æ”¶é›†è¿ç»­æ³¨é‡Šå— comment_start = i comments = [] while i < len(structure) and structure[i]['type'] == 'comment': comments.append(structure[i]['content']) i += 1 comment_end = i - 1 # åˆ¤æ–­æ³¨é‡Šå—ç±»å‹å’Œç›®æ ‡å±æ€§ prev_empty = (comment_start == 0 or structure[comment_start - 1]['type'] == 'empty_line') next_empty = (comment_end == len(structure) - 1 or structure[comment_end + 1]['type'] == 'empty_line') next_property = (comment_end < len(structure) - 1 and structure[comment_end + 1]['type'] == 'property') target_key = None position = None # ç‹¬ç«‹æ³¨é‡Šå—ï¼ˆä¸Šä¸‹éƒ½æ˜¯ç©ºè¡Œï¼‰ if prev_empty and next_empty: # å‘ä¸ŠæŸ¥æ‰¾å±æ€§ for j in range(comment_start - 1, -1, -1): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'below' break # å‘ä¸Šæ²¡æ‰¾åˆ°ï¼Œå‘ä¸‹æŸ¥æ‰¾ if not target_key: for j in range(comment_end + 1, len(structure)): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'above' break # å…³è”æ³¨é‡Šå—ï¼ˆä¸‹æ–¹æ˜¯å±æ€§ï¼‰ elif next_property: target_key = structure[comment_end + 1]['key'] position = 'above' # æ·»åŠ åˆ°æ˜ å°„ if target_key and position: if target_key not in comment_mapping: comment_mapping[target_key] = [] comment_mapping[target_key].append({ 'comments': comments, 'position': position }) return comment_mapping def dump_yaml_with_structure(structure): &#34;&#34;&#34;ç”ŸæˆYAMLå†…å®¹&#34;&#34;&#34; # æ„å»ºæ³¨é‡Šæ˜ å°„ comment_mapping = build_comment_mapping(structure) # æå–æ‰€æœ‰å±æ€§å¹¶æŒ‰ç»„åˆ†ç±» properties = [item for item in structure if item['type'] == 'property'] groups = {} # {top_level_key: [properties]} simple_props = [] # æ— ç‚¹å·çš„ç®€å•å±æ€§ for prop in properties: key = prop['key'] if '.' in key: top_key = key.split('.', 1)[0] if top_key not in groups: groups[top_key] = [] groups[top_key].append(prop) else: simple_props.append(prop) # ç”Ÿæˆè¾“å‡º output_lines = [] processed_keys = set() # æŒ‰åŸå§‹é¡ºåºå¤„ç† for item in structure: if item['type'] != 'property': continue key = item['key'] if key in processed_keys: continue # å¤„ç†åˆ†ç»„å±æ€§ if '.' in key: top_key = key.split('.', 1)[0] if top_key in processed_keys: continue # æ ‡è®°è¯¥ç»„æ‰€æœ‰å±æ€§ä¸ºå·²å¤„ç† for prop in groups[top_key]: processed_keys.add(prop['key']) # è¾“å‡ºç»„çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆä½¿ç”¨ç»„å†…ç¬¬ä¸€ä¸ªå±æ€§çš„æ³¨é‡Šï¼‰ first_key = groups[top_key][0]['key'] if first_key in comment_mapping: for block in comment_mapping[first_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºç»„å output_lines.append(f&#34;{top_key}:&#34;) # è¾“å‡ºç»„å†…å±æ€§ nested_path = [] for idx, prop in enumerate(groups[top_key]): prop_key = prop['key'] value = prop['value'] # å±æ€§çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆè·³è¿‡ç¬¬ä¸€ä¸ªå±æ€§çš„ç»„çº§æ³¨é‡Šï¼‰ if prop_key in comment_mapping and not (idx == 0 and prop_key == first_key): for block in comment_mapping[prop_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34; # {comment}&#34;) # è¾“å‡ºå±æ€§ parts = prop_key.split('.')[1:] # å»æ‰é¡¶å±‚key if len(parts) == 1: # äºŒçº§å±æ€§ yaml_str = yaml.dump({parts[0]: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() output_lines.append(f&#34; {yaml_str}&#34;) else: # å¤šçº§åµŒå¥— for level, part in enumerate(parts[:-1]): path = parts[:level+1] if path != nested_path[:len(path)]: indent = ' ' * (level + 1) output_lines.append(f&#34;{indent}{part}:&#34;) nested_path = path[:] # æœ€åä¸€çº§ final_indent = ' ' * len(parts) final_key = parts[-1] yaml_str = yaml.dump({final_key: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() value_part = yaml_str.split(':', 1)[1].strip() if ':' in yaml_str else str(value) output_lines.append(f&#34;{final_indent}{final_key}: {value_part}&#34;) # å±æ€§çº§ä¸‹æ–¹æ³¨é‡Š if prop_key in comment_mapping: for block in comment_mapping[prop_key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # å¤„ç†ç®€å•å±æ€§ else: processed_keys.add(key) # ä¸Šæ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºå±æ€§ output_lines.append(f&#34;{key}: '{item['value']}'&#34;) # ä¸‹æ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # ç§»é™¤æœ«å°¾ç©ºè¡Œ while output_lines and output_lines[-1] == &#34;&#34;: output_lines.pop() return '\\n'.join(output_lines) def properties_to_yaml(properties_file_path): &#34;&#34;&#34;è½¬æ¢propertiesæ–‡ä»¶ä¸ºYAMLæ ¼å¼&#34;&#34;&#34; try: prop_path = Path(properties_file_path) if not prop_path.exists(): print(f&#34;é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - {properties_file_path}&#34;) return False if not prop_path.is_file(): print(f&#34;é”™è¯¯ï¼šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ - {properties_file_path}&#34;) return False with open(prop_path, 'r', encoding='utf-8') as f: content = f.read() structure = parse_properties_content(content) yaml_content = dump_yaml_with_structure(structure) yaml_file_path = prop_path.with_suffix('.yaml') with open(yaml_file_path, 'w', encoding='utf-8') as f: f.write(yaml_content) print(f&#34;æˆåŠŸè½¬æ¢ï¼š{properties_file_path} -> {yaml_file_path}&#34;) return True except Exception as e: print(f&#34;è½¬æ¢å¤±è´¥ï¼š{properties_file_path}&#34;) print(f&#34;é”™è¯¯ä¿¡æ¯ï¼š{str(e)}&#34;) import traceback traceback.print_exc() return False def main(): &#34;&#34;&#34;ä¸»å‡½æ•°ï¼šå¤„ç†å‘½ä»¤è¡Œå‚æ•°å¹¶æ‰§è¡Œè½¬æ¢&#34;&#34;&#34; parser = argparse.ArgumentParser(description='å°†propertiesæ–‡ä»¶è½¬æ¢ä¸ºyamlæ–‡ä»¶') parser.add_argument('files', nargs='+', help='è¦è½¬æ¢çš„propertiesæ–‡ä»¶è·¯å¾„') args = parser.parse_args() success_count = 0 fail_count = 0 print(&#34;å¼€å§‹è½¬æ¢propertiesæ–‡ä»¶åˆ°yamlæ ¼å¼...&#34;) print(&#34;=&#34; * 50) for file_path in args.files: if properties_to_yaml(file_path): success_count += 1 else: fail_count += 1 print(&#34;=&#34; * 50) print(f&#34;è½¬æ¢å®Œæˆï¼æˆåŠŸï¼š{success_count}ä¸ªï¼Œå¤±è´¥ï¼š{fail_count}ä¸ª&#34;) return 1 if fail_count > 0 else 0 if __name__ == '__main__': sys.exit(main()) ğŸš€ Main Features\râœ… Core Functions\rMulti-file batch conversion - Support simultaneous conversion of multiple configuration files Intelligent type inference - Automatically identify boolean values, numbers, strings and other data types Complete comment preservation - Preserve all original comments and their positional relationships Structure order maintenance - Strictly maintain the key-value pair order of the original file Nested property handling - Intelligent processing of dot-separated hierarchical configurations ğŸ¯ Advanced Features\rComment intelligent positioning - Support precise position maintenance of above and below comments Independent comment processing - Intelligent processing of independent comment blocks in files UTF-8 encoding support - Perfect support for Chinese and other multilingual characters Error handling mechanism - Comprehensive error prompts and conversion statistics ğŸ“¦ Installation Requirements\rSystem Environment\rPython version: 3.6 or higher Operating system: Windows, Linux, macOS all supported Dependencies\rNeed to install PyYAML library:\n"><title>Properties to YAML Conversion Tool</title><link rel=canonical href=https://zg-dd.github.io/en/blog/properties-to-yaml/><link rel=stylesheet href=/scss/style.min.ff560f1cad7a040e336f2dd6880b9ee1ad344d6e3d8f5411e5a1aaa8b23bbdd0.css><meta property='og:title' content="Properties to YAML Conversion Tool"><meta property='og:description' content="Properties to YAML Conversion Tool User Manual\rğŸ“‹ Overview\rThis is a powerful Python script tool for converting Java .properties configuration files to YAML format. The tool not only supports basic format conversion, but also features intelligent comment preservation, type inference, and structure maintenance functions.\nğŸ“œ Script\r#!/usr/bin/env python3 # -*- coding: utf-8 -*- &#34;&#34;&#34; Propertiesæ–‡ä»¶è½¬YAMLæ–‡ä»¶å·¥å…·ï¼ˆä¼˜åŒ–ç‰ˆï¼‰ ä¼˜åŒ–ç‚¹ï¼š 1. ä½¿ç”¨æ™®é€šdictæ›¿ä»£OrderedDictï¼ˆPython 3.7+ä¿æŒæ’å…¥é¡ºåºï¼‰ 2. å‡å°‘æ•°æ®å†—ä½™å­˜å‚¨ 3. ç¼“å­˜é‡å¤çš„å­—ç¬¦ä¸²æ“ä½œ 4. ç®€åŒ–é€»è¾‘æµç¨‹ &#34;&#34;&#34; import sys import argparse from pathlib import Path import yaml import re def infer_value_type(value_str): &#34;&#34;&#34;æ¨æ–­å€¼çš„ç±»å‹å¹¶è¿”å›é€‚å½“çš„Pythonå¯¹è±¡&#34;&#34;&#34; if not isinstance(value_str, str): return value_str value_str = value_str.strip() # ç©ºå€¼å¤„ç† if value_str == '' or value_str.lower() in ['null', 'nil']: return None # å¸ƒå°”å€¼ if value_str.lower() in ['true', 'false']: return value_str.lower() == 'true' # æ•°å­—ï¼ˆæ•´æ•°ï¼‰ if '.' not in value_str and re.match(r'^-?\\d+$', value_str): try: return int(value_str) except ValueError: pass # æ•°å­—ï¼ˆæµ®ç‚¹æ•°ï¼‰ if re.match(r'^-?\\d+\\.?\\d*$', value_str): try: return float(value_str) except ValueError: pass # å»æ‰å¯èƒ½çš„å¼•å· if len(value_str) >= 2 and ( (value_str[0] == '&#34;' and value_str[-1] == '&#34;') or (value_str[0] == &#34;'&#34; and value_str[-1] == &#34;'&#34;) ): return value_str[1:-1] return value_str def parse_properties_content(content): &#34;&#34;&#34;è§£æpropertiesæ–‡ä»¶å†…å®¹&#34;&#34;&#34; structure = [] lines = content.splitlines() for i, line in enumerate(lines): stripped = line.strip() # æ³¨é‡Šè¡Œ if stripped.startswith('#') or stripped.startswith('!'): structure.append({ 'type': 'comment', 'content': stripped[1:].strip(), 'line_num': i + 1 }) continue # ç©ºè¡Œ if not stripped: structure.append({'type': 'empty_line', 'line_num': i + 1}) continue # å±æ€§è¡Œ if '=' in stripped or ':' in stripped: separator = '=' if '=' in stripped else ':' key, value = stripped.split(separator, 1) key = key.strip() value = value.strip() structure.append({ 'type': 'property', 'key': key, 'value': infer_value_type(value), 'line_num': i + 1 }) else: print(f&#34;è­¦å‘Šï¼šç¬¬{i + 1}è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: {stripped}&#34;) return structure def build_comment_mapping(structure): &#34;&#34;&#34;æ„å»ºæ³¨é‡Šåˆ°å±æ€§çš„æ˜ å°„å…³ç³»&#34;&#34;&#34; comment_mapping = {} i = 0 while i < len(structure): if structure[i]['type'] != 'comment': i += 1 continue # æ”¶é›†è¿ç»­æ³¨é‡Šå— comment_start = i comments = [] while i < len(structure) and structure[i]['type'] == 'comment': comments.append(structure[i]['content']) i += 1 comment_end = i - 1 # åˆ¤æ–­æ³¨é‡Šå—ç±»å‹å’Œç›®æ ‡å±æ€§ prev_empty = (comment_start == 0 or structure[comment_start - 1]['type'] == 'empty_line') next_empty = (comment_end == len(structure) - 1 or structure[comment_end + 1]['type'] == 'empty_line') next_property = (comment_end < len(structure) - 1 and structure[comment_end + 1]['type'] == 'property') target_key = None position = None # ç‹¬ç«‹æ³¨é‡Šå—ï¼ˆä¸Šä¸‹éƒ½æ˜¯ç©ºè¡Œï¼‰ if prev_empty and next_empty: # å‘ä¸ŠæŸ¥æ‰¾å±æ€§ for j in range(comment_start - 1, -1, -1): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'below' break # å‘ä¸Šæ²¡æ‰¾åˆ°ï¼Œå‘ä¸‹æŸ¥æ‰¾ if not target_key: for j in range(comment_end + 1, len(structure)): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'above' break # å…³è”æ³¨é‡Šå—ï¼ˆä¸‹æ–¹æ˜¯å±æ€§ï¼‰ elif next_property: target_key = structure[comment_end + 1]['key'] position = 'above' # æ·»åŠ åˆ°æ˜ å°„ if target_key and position: if target_key not in comment_mapping: comment_mapping[target_key] = [] comment_mapping[target_key].append({ 'comments': comments, 'position': position }) return comment_mapping def dump_yaml_with_structure(structure): &#34;&#34;&#34;ç”ŸæˆYAMLå†…å®¹&#34;&#34;&#34; # æ„å»ºæ³¨é‡Šæ˜ å°„ comment_mapping = build_comment_mapping(structure) # æå–æ‰€æœ‰å±æ€§å¹¶æŒ‰ç»„åˆ†ç±» properties = [item for item in structure if item['type'] == 'property'] groups = {} # {top_level_key: [properties]} simple_props = [] # æ— ç‚¹å·çš„ç®€å•å±æ€§ for prop in properties: key = prop['key'] if '.' in key: top_key = key.split('.', 1)[0] if top_key not in groups: groups[top_key] = [] groups[top_key].append(prop) else: simple_props.append(prop) # ç”Ÿæˆè¾“å‡º output_lines = [] processed_keys = set() # æŒ‰åŸå§‹é¡ºåºå¤„ç† for item in structure: if item['type'] != 'property': continue key = item['key'] if key in processed_keys: continue # å¤„ç†åˆ†ç»„å±æ€§ if '.' in key: top_key = key.split('.', 1)[0] if top_key in processed_keys: continue # æ ‡è®°è¯¥ç»„æ‰€æœ‰å±æ€§ä¸ºå·²å¤„ç† for prop in groups[top_key]: processed_keys.add(prop['key']) # è¾“å‡ºç»„çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆä½¿ç”¨ç»„å†…ç¬¬ä¸€ä¸ªå±æ€§çš„æ³¨é‡Šï¼‰ first_key = groups[top_key][0]['key'] if first_key in comment_mapping: for block in comment_mapping[first_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºç»„å output_lines.append(f&#34;{top_key}:&#34;) # è¾“å‡ºç»„å†…å±æ€§ nested_path = [] for idx, prop in enumerate(groups[top_key]): prop_key = prop['key'] value = prop['value'] # å±æ€§çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆè·³è¿‡ç¬¬ä¸€ä¸ªå±æ€§çš„ç»„çº§æ³¨é‡Šï¼‰ if prop_key in comment_mapping and not (idx == 0 and prop_key == first_key): for block in comment_mapping[prop_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34; # {comment}&#34;) # è¾“å‡ºå±æ€§ parts = prop_key.split('.')[1:] # å»æ‰é¡¶å±‚key if len(parts) == 1: # äºŒçº§å±æ€§ yaml_str = yaml.dump({parts[0]: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() output_lines.append(f&#34; {yaml_str}&#34;) else: # å¤šçº§åµŒå¥— for level, part in enumerate(parts[:-1]): path = parts[:level+1] if path != nested_path[:len(path)]: indent = ' ' * (level + 1) output_lines.append(f&#34;{indent}{part}:&#34;) nested_path = path[:] # æœ€åä¸€çº§ final_indent = ' ' * len(parts) final_key = parts[-1] yaml_str = yaml.dump({final_key: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() value_part = yaml_str.split(':', 1)[1].strip() if ':' in yaml_str else str(value) output_lines.append(f&#34;{final_indent}{final_key}: {value_part}&#34;) # å±æ€§çº§ä¸‹æ–¹æ³¨é‡Š if prop_key in comment_mapping: for block in comment_mapping[prop_key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # å¤„ç†ç®€å•å±æ€§ else: processed_keys.add(key) # ä¸Šæ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºå±æ€§ output_lines.append(f&#34;{key}: '{item['value']}'&#34;) # ä¸‹æ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # ç§»é™¤æœ«å°¾ç©ºè¡Œ while output_lines and output_lines[-1] == &#34;&#34;: output_lines.pop() return '\\n'.join(output_lines) def properties_to_yaml(properties_file_path): &#34;&#34;&#34;è½¬æ¢propertiesæ–‡ä»¶ä¸ºYAMLæ ¼å¼&#34;&#34;&#34; try: prop_path = Path(properties_file_path) if not prop_path.exists(): print(f&#34;é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - {properties_file_path}&#34;) return False if not prop_path.is_file(): print(f&#34;é”™è¯¯ï¼šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ - {properties_file_path}&#34;) return False with open(prop_path, 'r', encoding='utf-8') as f: content = f.read() structure = parse_properties_content(content) yaml_content = dump_yaml_with_structure(structure) yaml_file_path = prop_path.with_suffix('.yaml') with open(yaml_file_path, 'w', encoding='utf-8') as f: f.write(yaml_content) print(f&#34;æˆåŠŸè½¬æ¢ï¼š{properties_file_path} -> {yaml_file_path}&#34;) return True except Exception as e: print(f&#34;è½¬æ¢å¤±è´¥ï¼š{properties_file_path}&#34;) print(f&#34;é”™è¯¯ä¿¡æ¯ï¼š{str(e)}&#34;) import traceback traceback.print_exc() return False def main(): &#34;&#34;&#34;ä¸»å‡½æ•°ï¼šå¤„ç†å‘½ä»¤è¡Œå‚æ•°å¹¶æ‰§è¡Œè½¬æ¢&#34;&#34;&#34; parser = argparse.ArgumentParser(description='å°†propertiesæ–‡ä»¶è½¬æ¢ä¸ºyamlæ–‡ä»¶') parser.add_argument('files', nargs='+', help='è¦è½¬æ¢çš„propertiesæ–‡ä»¶è·¯å¾„') args = parser.parse_args() success_count = 0 fail_count = 0 print(&#34;å¼€å§‹è½¬æ¢propertiesæ–‡ä»¶åˆ°yamlæ ¼å¼...&#34;) print(&#34;=&#34; * 50) for file_path in args.files: if properties_to_yaml(file_path): success_count += 1 else: fail_count += 1 print(&#34;=&#34; * 50) print(f&#34;è½¬æ¢å®Œæˆï¼æˆåŠŸï¼š{success_count}ä¸ªï¼Œå¤±è´¥ï¼š{fail_count}ä¸ª&#34;) return 1 if fail_count > 0 else 0 if __name__ == '__main__': sys.exit(main()) ğŸš€ Main Features\râœ… Core Functions\rMulti-file batch conversion - Support simultaneous conversion of multiple configuration files Intelligent type inference - Automatically identify boolean values, numbers, strings and other data types Complete comment preservation - Preserve all original comments and their positional relationships Structure order maintenance - Strictly maintain the key-value pair order of the original file Nested property handling - Intelligent processing of dot-separated hierarchical configurations ğŸ¯ Advanced Features\rComment intelligent positioning - Support precise position maintenance of above and below comments Independent comment processing - Intelligent processing of independent comment blocks in files UTF-8 encoding support - Perfect support for Chinese and other multilingual characters Error handling mechanism - Comprehensive error prompts and conversion statistics ğŸ“¦ Installation Requirements\rSystem Environment\rPython version: 3.6 or higher Operating system: Windows, Linux, macOS all supported Dependencies\rNeed to install PyYAML library:\n"><meta property='og:url' content='https://zg-dd.github.io/en/blog/properties-to-yaml/'><meta property='og:site_name' content='å°å·· Blog'><meta property='og:type' content='article'><meta property='article:section' content='Blog'><meta property='article:tag' content='Properties'><meta property='article:tag' content='YAML'><meta property='article:published_time' content='2026-02-09T00:32:40+08:00'><meta property='article:modified_time' content='2026-02-09T00:32:40+08:00'><meta name=twitter:title content="Properties to YAML Conversion Tool"><meta name=twitter:description content="Properties to YAML Conversion Tool User Manual\rğŸ“‹ Overview\rThis is a powerful Python script tool for converting Java .properties configuration files to YAML format. The tool not only supports basic format conversion, but also features intelligent comment preservation, type inference, and structure maintenance functions.\nğŸ“œ Script\r#!/usr/bin/env python3 # -*- coding: utf-8 -*- &#34;&#34;&#34; Propertiesæ–‡ä»¶è½¬YAMLæ–‡ä»¶å·¥å…·ï¼ˆä¼˜åŒ–ç‰ˆï¼‰ ä¼˜åŒ–ç‚¹ï¼š 1. ä½¿ç”¨æ™®é€šdictæ›¿ä»£OrderedDictï¼ˆPython 3.7+ä¿æŒæ’å…¥é¡ºåºï¼‰ 2. å‡å°‘æ•°æ®å†—ä½™å­˜å‚¨ 3. ç¼“å­˜é‡å¤çš„å­—ç¬¦ä¸²æ“ä½œ 4. ç®€åŒ–é€»è¾‘æµç¨‹ &#34;&#34;&#34; import sys import argparse from pathlib import Path import yaml import re def infer_value_type(value_str): &#34;&#34;&#34;æ¨æ–­å€¼çš„ç±»å‹å¹¶è¿”å›é€‚å½“çš„Pythonå¯¹è±¡&#34;&#34;&#34; if not isinstance(value_str, str): return value_str value_str = value_str.strip() # ç©ºå€¼å¤„ç† if value_str == '' or value_str.lower() in ['null', 'nil']: return None # å¸ƒå°”å€¼ if value_str.lower() in ['true', 'false']: return value_str.lower() == 'true' # æ•°å­—ï¼ˆæ•´æ•°ï¼‰ if '.' not in value_str and re.match(r'^-?\\d+$', value_str): try: return int(value_str) except ValueError: pass # æ•°å­—ï¼ˆæµ®ç‚¹æ•°ï¼‰ if re.match(r'^-?\\d+\\.?\\d*$', value_str): try: return float(value_str) except ValueError: pass # å»æ‰å¯èƒ½çš„å¼•å· if len(value_str) >= 2 and ( (value_str[0] == '&#34;' and value_str[-1] == '&#34;') or (value_str[0] == &#34;'&#34; and value_str[-1] == &#34;'&#34;) ): return value_str[1:-1] return value_str def parse_properties_content(content): &#34;&#34;&#34;è§£æpropertiesæ–‡ä»¶å†…å®¹&#34;&#34;&#34; structure = [] lines = content.splitlines() for i, line in enumerate(lines): stripped = line.strip() # æ³¨é‡Šè¡Œ if stripped.startswith('#') or stripped.startswith('!'): structure.append({ 'type': 'comment', 'content': stripped[1:].strip(), 'line_num': i + 1 }) continue # ç©ºè¡Œ if not stripped: structure.append({'type': 'empty_line', 'line_num': i + 1}) continue # å±æ€§è¡Œ if '=' in stripped or ':' in stripped: separator = '=' if '=' in stripped else ':' key, value = stripped.split(separator, 1) key = key.strip() value = value.strip() structure.append({ 'type': 'property', 'key': key, 'value': infer_value_type(value), 'line_num': i + 1 }) else: print(f&#34;è­¦å‘Šï¼šç¬¬{i + 1}è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: {stripped}&#34;) return structure def build_comment_mapping(structure): &#34;&#34;&#34;æ„å»ºæ³¨é‡Šåˆ°å±æ€§çš„æ˜ å°„å…³ç³»&#34;&#34;&#34; comment_mapping = {} i = 0 while i < len(structure): if structure[i]['type'] != 'comment': i += 1 continue # æ”¶é›†è¿ç»­æ³¨é‡Šå— comment_start = i comments = [] while i < len(structure) and structure[i]['type'] == 'comment': comments.append(structure[i]['content']) i += 1 comment_end = i - 1 # åˆ¤æ–­æ³¨é‡Šå—ç±»å‹å’Œç›®æ ‡å±æ€§ prev_empty = (comment_start == 0 or structure[comment_start - 1]['type'] == 'empty_line') next_empty = (comment_end == len(structure) - 1 or structure[comment_end + 1]['type'] == 'empty_line') next_property = (comment_end < len(structure) - 1 and structure[comment_end + 1]['type'] == 'property') target_key = None position = None # ç‹¬ç«‹æ³¨é‡Šå—ï¼ˆä¸Šä¸‹éƒ½æ˜¯ç©ºè¡Œï¼‰ if prev_empty and next_empty: # å‘ä¸ŠæŸ¥æ‰¾å±æ€§ for j in range(comment_start - 1, -1, -1): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'below' break # å‘ä¸Šæ²¡æ‰¾åˆ°ï¼Œå‘ä¸‹æŸ¥æ‰¾ if not target_key: for j in range(comment_end + 1, len(structure)): if structure[j]['type'] == 'property': target_key = structure[j]['key'] position = 'above' break # å…³è”æ³¨é‡Šå—ï¼ˆä¸‹æ–¹æ˜¯å±æ€§ï¼‰ elif next_property: target_key = structure[comment_end + 1]['key'] position = 'above' # æ·»åŠ åˆ°æ˜ å°„ if target_key and position: if target_key not in comment_mapping: comment_mapping[target_key] = [] comment_mapping[target_key].append({ 'comments': comments, 'position': position }) return comment_mapping def dump_yaml_with_structure(structure): &#34;&#34;&#34;ç”ŸæˆYAMLå†…å®¹&#34;&#34;&#34; # æ„å»ºæ³¨é‡Šæ˜ å°„ comment_mapping = build_comment_mapping(structure) # æå–æ‰€æœ‰å±æ€§å¹¶æŒ‰ç»„åˆ†ç±» properties = [item for item in structure if item['type'] == 'property'] groups = {} # {top_level_key: [properties]} simple_props = [] # æ— ç‚¹å·çš„ç®€å•å±æ€§ for prop in properties: key = prop['key'] if '.' in key: top_key = key.split('.', 1)[0] if top_key not in groups: groups[top_key] = [] groups[top_key].append(prop) else: simple_props.append(prop) # ç”Ÿæˆè¾“å‡º output_lines = [] processed_keys = set() # æŒ‰åŸå§‹é¡ºåºå¤„ç† for item in structure: if item['type'] != 'property': continue key = item['key'] if key in processed_keys: continue # å¤„ç†åˆ†ç»„å±æ€§ if '.' in key: top_key = key.split('.', 1)[0] if top_key in processed_keys: continue # æ ‡è®°è¯¥ç»„æ‰€æœ‰å±æ€§ä¸ºå·²å¤„ç† for prop in groups[top_key]: processed_keys.add(prop['key']) # è¾“å‡ºç»„çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆä½¿ç”¨ç»„å†…ç¬¬ä¸€ä¸ªå±æ€§çš„æ³¨é‡Šï¼‰ first_key = groups[top_key][0]['key'] if first_key in comment_mapping: for block in comment_mapping[first_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºç»„å output_lines.append(f&#34;{top_key}:&#34;) # è¾“å‡ºç»„å†…å±æ€§ nested_path = [] for idx, prop in enumerate(groups[top_key]): prop_key = prop['key'] value = prop['value'] # å±æ€§çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆè·³è¿‡ç¬¬ä¸€ä¸ªå±æ€§çš„ç»„çº§æ³¨é‡Šï¼‰ if prop_key in comment_mapping and not (idx == 0 and prop_key == first_key): for block in comment_mapping[prop_key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34; # {comment}&#34;) # è¾“å‡ºå±æ€§ parts = prop_key.split('.')[1:] # å»æ‰é¡¶å±‚key if len(parts) == 1: # äºŒçº§å±æ€§ yaml_str = yaml.dump({parts[0]: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() output_lines.append(f&#34; {yaml_str}&#34;) else: # å¤šçº§åµŒå¥— for level, part in enumerate(parts[:-1]): path = parts[:level+1] if path != nested_path[:len(path)]: indent = ' ' * (level + 1) output_lines.append(f&#34;{indent}{part}:&#34;) nested_path = path[:] # æœ€åä¸€çº§ final_indent = ' ' * len(parts) final_key = parts[-1] yaml_str = yaml.dump({final_key: value}, allow_unicode=True, default_flow_style=False, sort_keys=False).strip() value_part = yaml_str.split(':', 1)[1].strip() if ':' in yaml_str else str(value) output_lines.append(f&#34;{final_indent}{final_key}: {value_part}&#34;) # å±æ€§çº§ä¸‹æ–¹æ³¨é‡Š if prop_key in comment_mapping: for block in comment_mapping[prop_key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # å¤„ç†ç®€å•å±æ€§ else: processed_keys.add(key) # ä¸Šæ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'above': for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) # è¾“å‡ºå±æ€§ output_lines.append(f&#34;{key}: '{item['value']}'&#34;) # ä¸‹æ–¹æ³¨é‡Š if key in comment_mapping: for block in comment_mapping[key]: if block['position'] == 'below': output_lines.append(&#34;&#34;) for comment in block['comments']: output_lines.append(f&#34;# {comment}&#34;) output_lines.append(&#34;&#34;) # ç§»é™¤æœ«å°¾ç©ºè¡Œ while output_lines and output_lines[-1] == &#34;&#34;: output_lines.pop() return '\\n'.join(output_lines) def properties_to_yaml(properties_file_path): &#34;&#34;&#34;è½¬æ¢propertiesæ–‡ä»¶ä¸ºYAMLæ ¼å¼&#34;&#34;&#34; try: prop_path = Path(properties_file_path) if not prop_path.exists(): print(f&#34;é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - {properties_file_path}&#34;) return False if not prop_path.is_file(): print(f&#34;é”™è¯¯ï¼šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ - {properties_file_path}&#34;) return False with open(prop_path, 'r', encoding='utf-8') as f: content = f.read() structure = parse_properties_content(content) yaml_content = dump_yaml_with_structure(structure) yaml_file_path = prop_path.with_suffix('.yaml') with open(yaml_file_path, 'w', encoding='utf-8') as f: f.write(yaml_content) print(f&#34;æˆåŠŸè½¬æ¢ï¼š{properties_file_path} -> {yaml_file_path}&#34;) return True except Exception as e: print(f&#34;è½¬æ¢å¤±è´¥ï¼š{properties_file_path}&#34;) print(f&#34;é”™è¯¯ä¿¡æ¯ï¼š{str(e)}&#34;) import traceback traceback.print_exc() return False def main(): &#34;&#34;&#34;ä¸»å‡½æ•°ï¼šå¤„ç†å‘½ä»¤è¡Œå‚æ•°å¹¶æ‰§è¡Œè½¬æ¢&#34;&#34;&#34; parser = argparse.ArgumentParser(description='å°†propertiesæ–‡ä»¶è½¬æ¢ä¸ºyamlæ–‡ä»¶') parser.add_argument('files', nargs='+', help='è¦è½¬æ¢çš„propertiesæ–‡ä»¶è·¯å¾„') args = parser.parse_args() success_count = 0 fail_count = 0 print(&#34;å¼€å§‹è½¬æ¢propertiesæ–‡ä»¶åˆ°yamlæ ¼å¼...&#34;) print(&#34;=&#34; * 50) for file_path in args.files: if properties_to_yaml(file_path): success_count += 1 else: fail_count += 1 print(&#34;=&#34; * 50) print(f&#34;è½¬æ¢å®Œæˆï¼æˆåŠŸï¼š{success_count}ä¸ªï¼Œå¤±è´¥ï¼š{fail_count}ä¸ª&#34;) return 1 if fail_count > 0 else 0 if __name__ == '__main__': sys.exit(main()) ğŸš€ Main Features\râœ… Core Functions\rMulti-file batch conversion - Support simultaneous conversion of multiple configuration files Intelligent type inference - Automatically identify boolean values, numbers, strings and other data types Complete comment preservation - Preserve all original comments and their positional relationships Structure order maintenance - Strictly maintain the key-value pair order of the original file Nested property handling - Intelligent processing of dot-separated hierarchical configurations ğŸ¯ Advanced Features\rComment intelligent positioning - Support precise position maintenance of above and below comments Independent comment processing - Intelligent processing of independent comment blocks in files UTF-8 encoding support - Perfect support for Chinese and other multilingual characters Error handling mechanism - Comprehensive error prompts and conversion statistics ğŸ“¦ Installation Requirements\rSystem Environment\rPython version: 3.6 or higher Operating system: Windows, Linux, macOS all supported Dependencies\rNeed to install PyYAML library:\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/en/><img src=/img/avatar_hu_a0cc1cf57968b27d.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ±</span></figure><div class=site-meta><h1 class=site-name><a href=/en>å°å·· Blog</a></h1><h2 class=site-description>Recording is not to prove myself; rather, to make a habit of 'solving problems â†’ thinking â†’ sedimentation'.</h2></div></header><ol class=menu id=main-menu><li><a href=/en/stu/><span>Study Notes</span></a></li><li class=current><a href=/en/blog/><span>Essays</span></a></li><li><a href=/en/life/><span>Life</span></a></li><li><a href=/categories/><span>Categories</span></a></li><li><a href=/tags/><span>Tags</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://zg-dd.github.io/>ç®€ä½“ä¸­æ–‡</option><option value=https://zg-dd.github.io/en/ selected>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#-overview>ğŸ“‹ Overview</a></li><li><a href=#-script>ğŸ“œ Script</a></li><li><a href=#-main-features>ğŸš€ Main Features</a><ul><li><a href=#-core-functions>âœ… Core Functions</a></li><li><a href=#-advanced-features>ğŸ¯ Advanced Features</a></li></ul></li><li><a href=#-installation-requirements>ğŸ“¦ Installation Requirements</a><ul><li><a href=#system-environment>System Environment</a></li><li><a href=#dependencies>Dependencies</a></li></ul></li><li><a href=#-usage-methods>ğŸ› ï¸ Usage Methods</a><ul><li><a href=#1-basic-usage>1. Basic Usage</a></li><li><a href=#2-path-usage>2. Path Usage</a></li></ul></li><li><a href=#-conversion-examples>ğŸ“ Conversion Examples</a><ul><li><a href=#input-file-example-applicationproperties>Input File Example (application.properties)</a></li><li><a href=#output-file-example-applicationyaml>Output File Example (application.yaml)</a></li></ul></li><li><a href=#-function-details>ğŸ”§ Function Details</a><ul><li><a href=#1-type-inference-mechanism>1. Type Inference Mechanism</a></li><li><a href=#2-comment-processing-mechanism>2. Comment Processing Mechanism</a></li><li><a href=#3-nested-structure-processing>3. Nested Structure Processing</a></li><li><a href=#4-order-maintenance-mechanism>4. Order Maintenance Mechanism</a></li></ul></li><li><a href=#-advanced-usage>âš™ï¸ Advanced Usage</a><ul><li><a href=#1-batch-processing-script>1. Batch Processing Script</a></li><li><a href=#2-integration-into-cicd-pipeline>2. Integration into CI/CD Pipeline</a></li><li><a href=#3-import-as-module>3. Import as Module</a></li></ul></li><li><a href=#-output-format-description>ğŸ“Š Output Format Description</a><ul><li><a href=#generated-file-naming>Generated File Naming</a></li><li><a href=#yaml-format-characteristics>YAML Format Characteristics</a></li></ul></li><li><a href=#-error-handling>ğŸš¨ Error Handling</a><ul><li><a href=#common-errors-and-solutions>Common Errors and Solutions</a></li></ul></li><li><a href=#-troubleshooting>ğŸ” Troubleshooting</a><ul><li><a href=#debugging-tips>Debugging Tips</a></li></ul></li><li><a href=#-performance-information>ğŸ“ˆ Performance Information</a><ul><li><a href=#processing-capability>Processing Capability</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/en/categories/java/>Java
</a><a href=/en/categories/ops-tools/>Ops Tools</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/en/blog/properties-to-yaml/>Properties to YAML Conversion Tool</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2026-02-09T00:32:40+08:00>Feb 09, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://zg-dd.github.io/blog/properties-to-yaml/ class=link>ç®€ä½“ä¸­æ–‡</a></div></footer></div></header><section class=article-content><h1 id=properties-to-yaml-conversion-tool-user-manual>Properties to YAML Conversion Tool User Manual</h1><h2 id=-overview>ğŸ“‹ Overview</h2><p>This is a powerful Python script tool for converting Java <code>.properties</code> configuration files to YAML format. The tool not only supports basic format conversion, but also features intelligent comment preservation, type inference, and structure maintenance functions.</p><h2 id=-script>ğŸ“œ Script</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env python3</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -*- coding: utf-8 -*-</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Propertiesæ–‡ä»¶è½¬YAMLæ–‡ä»¶å·¥å…·ï¼ˆä¼˜åŒ–ç‰ˆï¼‰
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ä¼˜åŒ–ç‚¹ï¼š
</span></span></span><span style=display:flex><span><span style=color:#e6db74>1. ä½¿ç”¨æ™®é€šdictæ›¿ä»£OrderedDictï¼ˆPython 3.7+ä¿æŒæ’å…¥é¡ºåºï¼‰
</span></span></span><span style=display:flex><span><span style=color:#e6db74>2. å‡å°‘æ•°æ®å†—ä½™å­˜å‚¨
</span></span></span><span style=display:flex><span><span style=color:#e6db74>3. ç¼“å­˜é‡å¤çš„å­—ç¬¦ä¸²æ“ä½œ
</span></span></span><span style=display:flex><span><span style=color:#e6db74>4. ç®€åŒ–é€»è¾‘æµç¨‹
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> argparse
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pathlib <span style=color:#f92672>import</span> Path
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> yaml
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> re
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>infer_value_type</span>(value_str):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;æ¨æ–­å€¼çš„ç±»å‹å¹¶è¿”å›é€‚å½“çš„Pythonå¯¹è±¡&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> isinstance(value_str, str):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    value_str <span style=color:#f92672>=</span> value_str<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç©ºå€¼å¤„ç†</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> value_str <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#f92672>or</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;null&#39;</span>, <span style=color:#e6db74>&#39;nil&#39;</span>]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¸ƒå°”å€¼</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;true&#39;</span>, <span style=color:#e6db74>&#39;false&#39;</span>]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;true&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ•°å­—ï¼ˆæ•´æ•°ï¼‰</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> value_str <span style=color:#f92672>and</span> re<span style=color:#f92672>.</span><span style=color:#66d9ef>match</span>(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;^-?\d+$&#39;</span>, value_str):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> int(value_str)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>ValueError</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ•°å­—ï¼ˆæµ®ç‚¹æ•°ï¼‰</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> re<span style=color:#f92672>.</span><span style=color:#66d9ef>match</span>(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;^-?\d+\.?\d*$&#39;</span>, value_str):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> float(value_str)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>ValueError</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å»æ‰å¯èƒ½çš„å¼•å·</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(value_str) <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>and</span> (
</span></span><span style=display:flex><span>        (value_str[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;&#34;&#39;</span> <span style=color:#f92672>and</span> value_str[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;&#34;&#39;</span>) <span style=color:#f92672>or</span>
</span></span><span style=display:flex><span>        (value_str[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#39;&#34;</span> <span style=color:#f92672>and</span> value_str[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#39;&#34;</span>)
</span></span><span style=display:flex><span>    ):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str[<span style=color:#ae81ff>1</span>:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> value_str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>parse_properties_content</span>(content):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;è§£æpropertiesæ–‡ä»¶å†…å®¹&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    structure <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> content<span style=color:#f92672>.</span>splitlines()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i, line <span style=color:#f92672>in</span> enumerate(lines):
</span></span><span style=display:flex><span>        stripped <span style=color:#f92672>=</span> line<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ³¨é‡Šè¡Œ</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> stripped<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;#&#39;</span>) <span style=color:#f92672>or</span> stripped<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;!&#39;</span>):
</span></span><span style=display:flex><span>            structure<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;comment&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;content&#39;</span>: stripped[<span style=color:#ae81ff>1</span>:]<span style=color:#f92672>.</span>strip(),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;line_num&#39;</span>: i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> stripped:
</span></span><span style=display:flex><span>            structure<span style=color:#f92672>.</span>append({<span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;empty_line&#39;</span>, <span style=color:#e6db74>&#39;line_num&#39;</span>: i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>})
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># å±æ€§è¡Œ</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>in</span> stripped <span style=color:#f92672>or</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>in</span> stripped:
</span></span><span style=display:flex><span>            separator <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>in</span> stripped <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#39;:&#39;</span>
</span></span><span style=display:flex><span>            key, value <span style=color:#f92672>=</span> stripped<span style=color:#f92672>.</span>split(separator, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>            value <span style=color:#f92672>=</span> value<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            structure<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;property&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;key&#39;</span>: key,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;value&#39;</span>: infer_value_type(value),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;line_num&#39;</span>: i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è­¦å‘Šï¼šç¬¬</span><span style=color:#e6db74>{</span>i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: </span><span style=color:#e6db74>{</span>stripped<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> structure
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_comment_mapping</span>(structure):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;æ„å»ºæ³¨é‡Šåˆ°å±æ€§çš„æ˜ å°„å…³ç³»&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    comment_mapping <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>    i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(structure):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> structure[i][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;comment&#39;</span>:
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ”¶é›†è¿ç»­æ³¨é‡Šå—</span>
</span></span><span style=display:flex><span>        comment_start <span style=color:#f92672>=</span> i
</span></span><span style=display:flex><span>        comments <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(structure) <span style=color:#f92672>and</span> structure[i][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;comment&#39;</span>:
</span></span><span style=display:flex><span>            comments<span style=color:#f92672>.</span>append(structure[i][<span style=color:#e6db74>&#39;content&#39;</span>])
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        comment_end <span style=color:#f92672>=</span> i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># åˆ¤æ–­æ³¨é‡Šå—ç±»å‹å’Œç›®æ ‡å±æ€§</span>
</span></span><span style=display:flex><span>        prev_empty <span style=color:#f92672>=</span> (comment_start <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>or</span>
</span></span><span style=display:flex><span>                     structure[comment_start <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;empty_line&#39;</span>)
</span></span><span style=display:flex><span>        next_empty <span style=color:#f92672>=</span> (comment_end <span style=color:#f92672>==</span> len(structure) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>or</span>
</span></span><span style=display:flex><span>                     structure[comment_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;empty_line&#39;</span>)
</span></span><span style=display:flex><span>        next_property <span style=color:#f92672>=</span> (comment_end <span style=color:#f92672>&lt;</span> len(structure) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>and</span>
</span></span><span style=display:flex><span>                        structure[comment_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        target_key <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        position <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># ç‹¬ç«‹æ³¨é‡Šå—ï¼ˆä¸Šä¸‹éƒ½æ˜¯ç©ºè¡Œï¼‰</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> prev_empty <span style=color:#f92672>and</span> next_empty:
</span></span><span style=display:flex><span>            <span style=color:#75715e># å‘ä¸ŠæŸ¥æ‰¾å±æ€§</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(comment_start <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> structure[j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                    target_key <span style=color:#f92672>=</span> structure[j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                    position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;below&#39;</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># å‘ä¸Šæ²¡æ‰¾åˆ°ï¼Œå‘ä¸‹æŸ¥æ‰¾</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> target_key:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(comment_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, len(structure)):
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> structure[j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                        target_key <span style=color:#f92672>=</span> structure[j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                        position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;above&#39;</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># å…³è”æ³¨é‡Šå—ï¼ˆä¸‹æ–¹æ˜¯å±æ€§ï¼‰</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> next_property:
</span></span><span style=display:flex><span>            target_key <span style=color:#f92672>=</span> structure[comment_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>            position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;above&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æ·»åŠ åˆ°æ˜ å°„</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> target_key <span style=color:#f92672>and</span> position:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> target_key <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                comment_mapping[target_key] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>            comment_mapping[target_key]<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;comments&#39;</span>: comments,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;position&#39;</span>: position
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> comment_mapping
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dump_yaml_with_structure</span>(structure):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;ç”ŸæˆYAMLå†…å®¹&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ„å»ºæ³¨é‡Šæ˜ å°„</span>
</span></span><span style=display:flex><span>    comment_mapping <span style=color:#f92672>=</span> build_comment_mapping(structure)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æå–æ‰€æœ‰å±æ€§å¹¶æŒ‰ç»„åˆ†ç±»</span>
</span></span><span style=display:flex><span>    properties <span style=color:#f92672>=</span> [item <span style=color:#66d9ef>for</span> item <span style=color:#f92672>in</span> structure <span style=color:#66d9ef>if</span> item[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>]
</span></span><span style=display:flex><span>    groups <span style=color:#f92672>=</span> {}  <span style=color:#75715e># {top_level_key: [properties]}</span>
</span></span><span style=display:flex><span>    simple_props <span style=color:#f92672>=</span> []  <span style=color:#75715e># æ— ç‚¹å·çš„ç®€å•å±æ€§</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> prop <span style=color:#f92672>in</span> properties:
</span></span><span style=display:flex><span>        key <span style=color:#f92672>=</span> prop[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> key:
</span></span><span style=display:flex><span>            top_key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> top_key <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> groups:
</span></span><span style=display:flex><span>                groups[top_key] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>            groups[top_key]<span style=color:#f92672>.</span>append(prop)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            simple_props<span style=color:#f92672>.</span>append(prop)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç”Ÿæˆè¾“å‡º</span>
</span></span><span style=display:flex><span>    output_lines <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    processed_keys <span style=color:#f92672>=</span> set()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æŒ‰åŸå§‹é¡ºåºå¤„ç†</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> item <span style=color:#f92672>in</span> structure:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> item[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        key <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> processed_keys:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># å¤„ç†åˆ†ç»„å±æ€§</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> key:
</span></span><span style=display:flex><span>            top_key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> top_key <span style=color:#f92672>in</span> processed_keys:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ ‡è®°è¯¥ç»„æ‰€æœ‰å±æ€§ä¸ºå·²å¤„ç†</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> prop <span style=color:#f92672>in</span> groups[top_key]:
</span></span><span style=display:flex><span>                processed_keys<span style=color:#f92672>.</span>add(prop[<span style=color:#e6db74>&#39;key&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># è¾“å‡ºç»„çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆä½¿ç”¨ç»„å†…ç¬¬ä¸€ä¸ªå±æ€§çš„æ³¨é‡Šï¼‰</span>
</span></span><span style=display:flex><span>            first_key <span style=color:#f92672>=</span> groups[top_key][<span style=color:#ae81ff>0</span>][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> first_key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> block <span style=color:#f92672>in</span> comment_mapping[first_key]:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># è¾“å‡ºç»„å</span>
</span></span><span style=display:flex><span>            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>top_key<span style=color:#e6db74>}</span><span style=color:#e6db74>:&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># è¾“å‡ºç»„å†…å±æ€§</span>
</span></span><span style=display:flex><span>            nested_path <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> idx, prop <span style=color:#f92672>in</span> enumerate(groups[top_key]):
</span></span><span style=display:flex><span>                prop_key <span style=color:#f92672>=</span> prop[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                value <span style=color:#f92672>=</span> prop[<span style=color:#e6db74>&#39;value&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># å±æ€§çº§ä¸Šæ–¹æ³¨é‡Šï¼ˆè·³è¿‡ç¬¬ä¸€ä¸ªå±æ€§çš„ç»„çº§æ³¨é‡Šï¼‰</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> prop_key <span style=color:#f92672>in</span> comment_mapping <span style=color:#f92672>and</span> <span style=color:#f92672>not</span> (idx <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>and</span> prop_key <span style=color:#f92672>==</span> first_key):
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> block <span style=color:#f92672>in</span> comment_mapping[prop_key]:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;  # </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># è¾“å‡ºå±æ€§</span>
</span></span><span style=display:flex><span>                parts <span style=color:#f92672>=</span> prop_key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>1</span>:]  <span style=color:#75715e># å»æ‰é¡¶å±‚key</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> len(parts) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># äºŒçº§å±æ€§</span>
</span></span><span style=display:flex><span>                    yaml_str <span style=color:#f92672>=</span> yaml<span style=color:#f92672>.</span>dump({parts[<span style=color:#ae81ff>0</span>]: value},
</span></span><span style=display:flex><span>                                        allow_unicode<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>                                        default_flow_style<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>                                        sort_keys<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                    output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;  </span><span style=color:#e6db74>{</span>yaml_str<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># å¤šçº§åµŒå¥—</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> level, part <span style=color:#f92672>in</span> enumerate(parts[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]):
</span></span><span style=display:flex><span>                        path <span style=color:#f92672>=</span> parts[:level<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> path <span style=color:#f92672>!=</span> nested_path[:len(path)]:
</span></span><span style=display:flex><span>                            indent <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;  &#39;</span> <span style=color:#f92672>*</span> (level <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>indent<span style=color:#e6db74>}{</span>part<span style=color:#e6db74>}</span><span style=color:#e6db74>:&#34;</span>)
</span></span><span style=display:flex><span>                            nested_path <span style=color:#f92672>=</span> path[:]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e># æœ€åä¸€çº§</span>
</span></span><span style=display:flex><span>                    final_indent <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;  &#39;</span> <span style=color:#f92672>*</span> len(parts)
</span></span><span style=display:flex><span>                    final_key <span style=color:#f92672>=</span> parts[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>                    yaml_str <span style=color:#f92672>=</span> yaml<span style=color:#f92672>.</span>dump({final_key: value},
</span></span><span style=display:flex><span>                                        allow_unicode<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>,
</span></span><span style=display:flex><span>                                        default_flow_style<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>                                        sort_keys<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                    value_part <span style=color:#f92672>=</span> yaml_str<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;:&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>.</span>strip() <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>in</span> yaml_str <span style=color:#66d9ef>else</span> str(value)
</span></span><span style=display:flex><span>                    output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>final_indent<span style=color:#e6db74>}{</span>final_key<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>value_part<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># å±æ€§çº§ä¸‹æ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> prop_key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> block <span style=color:#f92672>in</span> comment_mapping[prop_key]:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;below&#39;</span>:
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># å¤„ç†ç®€å•å±æ€§</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            processed_keys<span style=color:#f92672>.</span>add(key)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># ä¸Šæ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> block <span style=color:#f92672>in</span> comment_mapping[key]:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># è¾“å‡ºå±æ€§</span>
</span></span><span style=display:flex><span>            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>key<span style=color:#e6db74>}</span><span style=color:#e6db74>: &#39;</span><span style=color:#e6db74>{</span>item[<span style=color:#e6db74>&#39;value&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># ä¸‹æ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> block <span style=color:#f92672>in</span> comment_mapping[key]:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;below&#39;</span>:
</span></span><span style=display:flex><span>                        output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                        output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç§»é™¤æœ«å°¾ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> output_lines <span style=color:#f92672>and</span> output_lines[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span>:
</span></span><span style=display:flex><span>        output_lines<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>join(output_lines)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>properties_to_yaml</span>(properties_file_path):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;è½¬æ¢propertiesæ–‡ä»¶ä¸ºYAMLæ ¼å¼&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        prop_path <span style=color:#f92672>=</span> Path(properties_file_path)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> prop_path<span style=color:#f92672>.</span>exists():
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - </span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> prop_path<span style=color:#f92672>.</span>is_file():
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ï¼šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ - </span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(prop_path, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            content <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        structure <span style=color:#f92672>=</span> parse_properties_content(content)
</span></span><span style=display:flex><span>        yaml_content <span style=color:#f92672>=</span> dump_yaml_with_structure(structure)
</span></span><span style=display:flex><span>        yaml_file_path <span style=color:#f92672>=</span> prop_path<span style=color:#f92672>.</span>with_suffix(<span style=color:#e6db74>&#39;.yaml&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(yaml_file_path, <span style=color:#e6db74>&#39;w&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            f<span style=color:#f92672>.</span>write(yaml_content)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;æˆåŠŸè½¬æ¢ï¼š</span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74> -&gt; </span><span style=color:#e6db74>{</span>yaml_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è½¬æ¢å¤±è´¥ï¼š</span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ä¿¡æ¯ï¼š</span><span style=color:#e6db74>{</span>str(e)<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#f92672>import</span> traceback
</span></span><span style=display:flex><span>        traceback<span style=color:#f92672>.</span>print_exc()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;ä¸»å‡½æ•°ï¼šå¤„ç†å‘½ä»¤è¡Œå‚æ•°å¹¶æ‰§è¡Œè½¬æ¢&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    parser <span style=color:#f92672>=</span> argparse<span style=color:#f92672>.</span>ArgumentParser(description<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;å°†propertiesæ–‡ä»¶è½¬æ¢ä¸ºyamlæ–‡ä»¶&#39;</span>)
</span></span><span style=display:flex><span>    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;files&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;+&#39;</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;è¦è½¬æ¢çš„propertiesæ–‡ä»¶è·¯å¾„&#39;</span>)
</span></span><span style=display:flex><span>    args <span style=color:#f92672>=</span> parser<span style=color:#f92672>.</span>parse_args()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    success_count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    fail_count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;å¼€å§‹è½¬æ¢propertiesæ–‡ä»¶åˆ°yamlæ ¼å¼...&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;=&#34;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> file_path <span style=color:#f92672>in</span> args<span style=color:#f92672>.</span>files:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> properties_to_yaml(file_path):
</span></span><span style=display:flex><span>            success_count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            fail_count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;=&#34;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è½¬æ¢å®Œæˆï¼æˆåŠŸï¼š</span><span style=color:#e6db74>{</span>success_count<span style=color:#e6db74>}</span><span style=color:#e6db74>ä¸ªï¼Œå¤±è´¥ï¼š</span><span style=color:#e6db74>{</span>fail_count<span style=color:#e6db74>}</span><span style=color:#e6db74>ä¸ª&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>if</span> fail_count <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>else</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    sys<span style=color:#f92672>.</span>exit(main())
</span></span></code></pre></div><h2 id=-main-features>ğŸš€ Main Features</h2><h3 id=-core-functions>âœ… Core Functions</h3><ul><li><strong>Multi-file batch conversion</strong> - Support simultaneous conversion of multiple configuration files</li><li><strong>Intelligent type inference</strong> - Automatically identify boolean values, numbers, strings and other data types</li><li><strong>Complete comment preservation</strong> - Preserve all original comments and their positional relationships</li><li><strong>Structure order maintenance</strong> - Strictly maintain the key-value pair order of the original file</li><li><strong>Nested property handling</strong> - Intelligent processing of dot-separated hierarchical configurations</li></ul><h3 id=-advanced-features>ğŸ¯ Advanced Features</h3><ul><li><strong>Comment intelligent positioning</strong> - Support precise position maintenance of above and below comments</li><li><strong>Independent comment processing</strong> - Intelligent processing of independent comment blocks in files</li><li><strong>UTF-8 encoding support</strong> - Perfect support for Chinese and other multilingual characters</li><li><strong>Error handling mechanism</strong> - Comprehensive error prompts and conversion statistics</li></ul><h2 id=-installation-requirements>ğŸ“¦ Installation Requirements</h2><h3 id=system-environment>System Environment</h3><ul><li><strong>Python version</strong>: 3.6 or higher</li><li><strong>Operating system</strong>: Windows, Linux, macOS all supported</li></ul><h3 id=dependencies>Dependencies</h3><p>Need to install PyYAML library:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install pyyaml
</span></span></code></pre></div><h2 id=-usage-methods>ğŸ› ï¸ Usage Methods</h2><h3 id=1-basic-usage>1. Basic Usage</h3><h4 id=convert-single-file>Convert Single File</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py config.properties
</span></span></code></pre></div><h4 id=convert-multiple-files>Convert Multiple Files</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py app.properties database.properties redis.properties
</span></span></code></pre></div><h3 id=2-path-usage>2. Path Usage</h3><h4 id=absolute-path>Absolute Path</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py C:<span style=color:#ae81ff>\p</span>rojects<span style=color:#ae81ff>\m</span>yapp<span style=color:#ae81ff>\c</span>onfig<span style=color:#ae81ff>\a</span>pplication.properties
</span></span></code></pre></div><h4 id=relative-path>Relative Path</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py ./config/dev.properties
</span></span></code></pre></div><h4 id=current-directory-file>Current Directory File</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py application.properties
</span></span></code></pre></div><h2 id=-conversion-examples>ğŸ“ Conversion Examples</h2><h3 id=input-file-example-applicationproperties>Input File Example (application.properties)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Application Core Configuration</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Application Basic Information</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.name</span><span style=color:#f92672>=</span><span style=color:#e6db74>MyAwesomeApplication</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.version</span><span style=color:#f92672>=</span><span style=color:#e6db74>2.1.0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.description</span><span style=color:#f92672>=</span><span style=color:#e6db74>Enterprise Application Platform</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Development Mode Switch</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.debug</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Database Connection Configuration</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.host</span><span style=color:#f92672>=</span><span style=color:#e6db74>localhost</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.port</span><span style=color:#f92672>=</span><span style=color:#e6db74>3306</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.username</span><span style=color:#f92672>=</span><span style=color:#e6db74>admin</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.password</span><span style=color:#f92672>=</span><span style=color:#e6db74>secure_password_123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Connection Pool Configuration</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.max-size</span><span style=color:#f92672>=</span><span style=color:#e6db74>20</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.min-idle</span><span style=color:#f92672>=</span><span style=color:#e6db74>5</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.max-wait</span><span style=color:#f92672>=</span><span style=color:#e6db74>30000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Other Configuration Items</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>timeout</span><span style=color:#f92672>=</span><span style=color:#e6db74>30000</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max-connections</span><span style=color:#f92672>=</span><span style=color:#e6db74>100</span>
</span></span></code></pre></div><h3 id=output-file-example-applicationyaml>Output File Example (application.yaml)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Application Core Configuration</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Application Basic Information</span>
</span></span><span style=display:flex><span><span style=color:#f92672>app</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>MyAwesomeApplication</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>version</span>: <span style=color:#ae81ff>2.1.0</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: <span style=color:#ae81ff>Enterprise Application Platform</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Development Mode Switch</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>debug</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Database Connection Configuration</span>
</span></span><span style=display:flex><span><span style=color:#f92672>database</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>host</span>: <span style=color:#ae81ff>localhost</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>port</span>: <span style=color:#ae81ff>3306</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>username</span>: <span style=color:#ae81ff>admin</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>password</span>: <span style=color:#ae81ff>secure_password_123</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># Connection Pool Configuration</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>pool</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>max-size</span>: <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>min-idle</span>: <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>max-wait</span>: <span style=color:#ae81ff>30000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Other Configuration Items</span>
</span></span><span style=display:flex><span><span style=color:#f92672>timeout</span>: <span style=color:#e6db74>&#39;30000&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>max-connections</span>: <span style=color:#e6db74>&#39;100&#39;</span>
</span></span></code></pre></div><h2 id=-function-details>ğŸ”§ Function Details</h2><h3 id=1-type-inference-mechanism>1. Type Inference Mechanism</h3><p>The tool can intelligently identify and maintain the following data types:</p><div class=table-wrapper><table><thead><tr><th>Properties Value</th><th>Inferred Type</th><th>YAML Output</th><th>Description</th></tr></thead><tbody><tr><td><code>true</code>/<code>false</code></td><td>boolean</td><td><code>true</code>/<code>false</code></td><td>Boolean values</td></tr><tr><td><code>8080</code></td><td>integer</td><td><code>8080</code></td><td>Integers</td></tr><tr><td><code>30.5</code></td><td>float</td><td><code>30.5</code></td><td>Floating point numbers</td></tr><tr><td><code>hello</code></td><td>string</td><td><code>hello</code></td><td>Strings</td></tr><tr><td><code>"hello world"</code></td><td>string</td><td><code>hello world</code></td><td>Unquoted strings</td></tr></tbody></table></div><h3 id=2-comment-processing-mechanism>2. Comment Processing Mechanism</h3><h4 id=comment-type-recognition>Comment Type Recognition</h4><ul><li><strong>Associated comments</strong>: Comments immediately preceding configuration items</li><li><strong>Independent comments</strong>: Comment blocks surrounded by blank lines</li><li><strong>File header comments</strong>: Comments at the beginning of the file</li></ul><h4 id=position-maintenance-strategy>Position Maintenance Strategy</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e># This is above comment</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>config.value</span><span style=color:#f92672>=</span><span style=color:#e6db74>test</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is below comment</span>
</span></span></code></pre></div><p>After conversion:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># This is above comment</span>
</span></span><span style=display:flex><span><span style=color:#f92672>config</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>value</span>: <span style=color:#ae81ff>test</span>
</span></span><span style=display:flex><span><span style=color:#75715e># This is below comment</span>
</span></span></code></pre></div><h3 id=3-nested-structure-processing>3. Nested Structure Processing</h3><p>Dot-separated key names are automatically converted to YAML nested structures:</p><div class=table-wrapper><table><thead><tr><th>Properties</th><th>YAML</th></tr></thead><tbody><tr><td><code>database.host=localhost</code></td><td><code>database: {host: localhost}</code></td></tr><tr><td><code>spring.datasource.url=jdbc:...</code></td><td><code>spring: {datasource: {url: jdbc:...}}</code></td></tr></tbody></table></div><h3 id=4-order-maintenance-mechanism>4. Order Maintenance Mechanism</h3><ul><li><strong>Strict order</strong>: Completely maintain the key-value pair order in the original properties file</li><li><strong>Hierarchical order</strong>: The hierarchical structure of nested properties also maintains the original order</li><li><strong>Comment order</strong>: The relative position of comments and configuration items is completely maintained</li></ul><h2 id=-advanced-usage>âš™ï¸ Advanced Usage</h2><h3 id=1-batch-processing-script>1. Batch Processing Script</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Batch convert all properties files in current directory</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> file in *.properties; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    python properties_to_yaml.py <span style=color:#e6db74>&#34;</span>$file<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=2-integration-into-cicd-pipeline>2. Integration into CI/CD Pipeline</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># Using in GitHub Actions</span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Convert Properties to YAML</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    python properties_to_yaml.py config/*.properties</span>
</span></span></code></pre></div><h3 id=3-import-as-module>3. Import as Module</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> properties_to_yaml <span style=color:#f92672>import</span> parse_properties_content, dump_yaml_with_structure
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Read and convert</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;config.properties&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>    content <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>parsed_data <span style=color:#f92672>=</span> parse_properties_content(content)
</span></span><span style=display:flex><span>yaml_result <span style=color:#f92672>=</span> dump_yaml_with_structure(parsed_data)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(yaml_result)
</span></span></code></pre></div><h2 id=-output-format-description>ğŸ“Š Output Format Description</h2><h3 id=generated-file-naming>Generated File Naming</h3><ul><li>Input: <code>application.properties</code></li><li>Output: <code>application.yaml</code></li><li>Save location: Same directory as source file</li></ul><h3 id=yaml-format-characteristics>YAML Format Characteristics</h3><ul><li>Uses 2-space indentation</li><li>Supports UTF-8 encoding</li><li>Maintains clear hierarchical structure</li><li>Comments start with <code>#</code></li></ul><h2 id=-error-handling>ğŸš¨ Error Handling</h2><h3 id=common-errors-and-solutions>Common Errors and Solutions</h3><h4 id=1-file-not-found>1. File Not Found</h4><pre tabindex=0><code>Error: File does not exist - /path/to/config.properties
</code></pre><p><strong>Solution</strong>: Check if the file path is correct</p><h4 id=2-format-error>2. Format Error</h4><pre tabindex=0><code>Warning: Line 5 format is incorrect, skipping: invalid=format=line
</code></pre><p><strong>Solution</strong>: Check properties file format, ensure using <code>=</code> or <code>:</code> separator</p><h4 id=3-insufficient-permissions>3. Insufficient Permissions</h4><pre tabindex=0><code>Error: Permission denied - config.properties
</code></pre><p><strong>Solution</strong>: Check file read/write permissions</p><h2 id=-troubleshooting>ğŸ” Troubleshooting</h2><h3 id=debugging-tips>Debugging Tips</h3><ol><li><strong>View Detailed Output</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py config.properties
</span></span></code></pre></div><ol start=2><li><strong>Check Generated YAML</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat config.yaml
</span></span></code></pre></div><ol start=3><li><strong>Validate YAML Syntax</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -c <span style=color:#e6db74>&#34;import yaml; yaml.safe_load(open(&#39;config.yaml&#39;))&#34;</span>
</span></span></code></pre></div><h2 id=-performance-information>ğŸ“ˆ Performance Information</h2><h3 id=processing-capability>Processing Capability</h3><ul><li><strong>Small files</strong> (&lt; 100KB): Instant completion</li><li><strong>Medium files</strong> (100KB-1MB): 1-2 seconds</li><li><strong>Large files</strong> (> 1MB): Usually within 5 seconds depending on content complexity</li></ul><hr><p><strong>Note</strong>: This tool is designed specifically for configuration file conversion and is not suitable for other types of file conversion. It is recommended to backup original files before conversion.</p></section><footer class=article-footer><section class=article-tags><a href=/en/tags/properties/>Properties</a>
<a href=/en/tags/yaml/>YAML</a></section></footer></article><script src=https://giscus.app/client.js data-repo=zg-dd/zg-dd.github.io data-repo-id=R_kgDOQwB7tw data-category=Announcements data-category-id=DIC_kwDOQwB7t84C0WGD data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2026 å°å·· Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>