<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Propertiesè½¬YAMLè½¬æ¢å·¥å…·ä½¿ç”¨æ‰‹å†Œ\rğŸ“‹ æ¦‚è¿°\rè¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Pythonè„šæœ¬å·¥å…·ï¼Œç”¨äºå°†Java .properties é…ç½®æ–‡ä»¶è½¬æ¢ä¸ºYAMLæ ¼å¼ã€‚è¯¥å·¥å…·ä¸ä»…æ”¯æŒåŸºæœ¬çš„æ ¼å¼è½¬æ¢ï¼Œè¿˜å…·å¤‡æ™ºèƒ½çš„æ³¨é‡Šä¿ç•™ã€ç±»å‹æ¨æ–­å’Œç»“æ„ä¿æŒåŠŸèƒ½ã€‚\n"><title>Propertiesè½¬YAMLè½¬æ¢å·¥å…·</title><link rel=canonical href=https://zg-dd.github.io/blog/properties-to-yaml/><link rel=stylesheet href=/scss/style.min.ff560f1cad7a040e336f2dd6880b9ee1ad344d6e3d8f5411e5a1aaa8b23bbdd0.css><meta property='og:title' content="Propertiesè½¬YAMLè½¬æ¢å·¥å…·"><meta property='og:description' content="Propertiesè½¬YAMLè½¬æ¢å·¥å…·ä½¿ç”¨æ‰‹å†Œ\rğŸ“‹ æ¦‚è¿°\rè¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Pythonè„šæœ¬å·¥å…·ï¼Œç”¨äºå°†Java .properties é…ç½®æ–‡ä»¶è½¬æ¢ä¸ºYAMLæ ¼å¼ã€‚è¯¥å·¥å…·ä¸ä»…æ”¯æŒåŸºæœ¬çš„æ ¼å¼è½¬æ¢ï¼Œè¿˜å…·å¤‡æ™ºèƒ½çš„æ³¨é‡Šä¿ç•™ã€ç±»å‹æ¨æ–­å’Œç»“æ„ä¿æŒåŠŸèƒ½ã€‚\n"><meta property='og:url' content='https://zg-dd.github.io/blog/properties-to-yaml/'><meta property='og:site_name' content='å°å··çš„éšç¬”'><meta property='og:type' content='article'><meta property='article:section' content='Blog'><meta property='article:tag' content='Properties'><meta property='article:tag' content='YAML'><meta property='article:published_time' content='2026-02-09T00:32:40+08:00'><meta property='article:modified_time' content='2026-02-09T00:32:40+08:00'><meta name=twitter:title content="Propertiesè½¬YAMLè½¬æ¢å·¥å…·"><meta name=twitter:description content="Propertiesè½¬YAMLè½¬æ¢å·¥å…·ä½¿ç”¨æ‰‹å†Œ\rğŸ“‹ æ¦‚è¿°\rè¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Pythonè„šæœ¬å·¥å…·ï¼Œç”¨äºå°†Java .properties é…ç½®æ–‡ä»¶è½¬æ¢ä¸ºYAMLæ ¼å¼ã€‚è¯¥å·¥å…·ä¸ä»…æ”¯æŒåŸºæœ¬çš„æ ¼å¼è½¬æ¢ï¼Œè¿˜å…·å¤‡æ™ºèƒ½çš„æ³¨é‡Šä¿ç•™ã€ç±»å‹æ¨æ–­å’Œç»“æ„ä¿æŒåŠŸèƒ½ã€‚\n"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_a0cc1cf57968b27d.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸŒ±</span></figure><div class=site-meta><h1 class=site-name><a href=/>å°å··çš„éšç¬”</a></h1><h2 class=site-description>è®°å½•ï¼Œä¸æ˜¯ä¸ºäº†è¯æ˜è‡ªå·±ï¼›è€Œæ˜¯æŠŠâ€œè§£å†³é—®é¢˜ â†’ æ€è€ƒ â†’ æ²‰æ·€â€å½¢æˆä¹ æƒ¯ã€‚</h2></div></header><ol class=menu id=main-menu><li><a href=/stu/><span>å­¦ä¹ ç¬”è®°</span></a></li><li class=current><a href=/blog/><span>éšç¬”æ€è€ƒ</span></a></li><li><a href=/life/><span>ç”Ÿæ´»è®°å½•</span></a></li><li><a href=/categories/><span>åˆ†ç±»</span></a></li><li><a href=/tags/><span>æ ‡ç­¾</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://zg-dd.github.io/ selected>ç®€ä½“ä¸­æ–‡</option><option value=https://zg-dd.github.io/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#-æ¦‚è¿°>ğŸ“‹ æ¦‚è¿°</a></li><li><a href=#è„šæœ¬>ğŸ“œè„šæœ¬</a></li><li><a href=#-ä¸»è¦ç‰¹æ€§>ğŸš€ ä¸»è¦ç‰¹æ€§</a><ul><li><a href=#-æ ¸å¿ƒåŠŸèƒ½>âœ… æ ¸å¿ƒåŠŸèƒ½</a></li><li><a href=#-é«˜çº§ç‰¹æ€§>ğŸ¯ é«˜çº§ç‰¹æ€§</a></li></ul></li><li><a href=#-å®‰è£…è¦æ±‚>ğŸ“¦ å®‰è£…è¦æ±‚</a><ul><li><a href=#ç³»ç»Ÿç¯å¢ƒ>ç³»ç»Ÿç¯å¢ƒ</a></li><li><a href=#ä¾èµ–åº“>ä¾èµ–åº“</a></li></ul></li><li><a href=#-ä½¿ç”¨æ–¹æ³•>ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•</a><ul><li><a href=#1-åŸºæœ¬ç”¨æ³•>1. åŸºæœ¬ç”¨æ³•</a></li><li><a href=#2-è·¯å¾„ä½¿ç”¨>2. è·¯å¾„ä½¿ç”¨</a></li></ul></li><li><a href=#-è½¬æ¢ç¤ºä¾‹>ğŸ“ è½¬æ¢ç¤ºä¾‹</a><ul><li><a href=#è¾“å…¥æ–‡ä»¶ç¤ºä¾‹-applicationproperties>è¾“å…¥æ–‡ä»¶ç¤ºä¾‹ (application.properties)</a></li><li><a href=#è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹-applicationyaml>è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹ (application.yaml)</a></li></ul></li><li><a href=#-åŠŸèƒ½è¯¦è§£>ğŸ”§ åŠŸèƒ½è¯¦è§£</a><ul><li><a href=#1-ç±»å‹æ¨æ–­æœºåˆ¶>1. ç±»å‹æ¨æ–­æœºåˆ¶</a></li><li><a href=#2-æ³¨é‡Šå¤„ç†æœºåˆ¶>2. æ³¨é‡Šå¤„ç†æœºåˆ¶</a></li><li><a href=#3-åµŒå¥—ç»“æ„å¤„ç†>3. åµŒå¥—ç»“æ„å¤„ç†</a></li><li><a href=#4-é¡ºåºä¿æŒæœºåˆ¶>4. é¡ºåºä¿æŒæœºåˆ¶</a></li></ul></li><li><a href=#-é«˜çº§ç”¨æ³•>âš™ï¸ é«˜çº§ç”¨æ³•</a><ul><li><a href=#1-æ‰¹é‡å¤„ç†è„šæœ¬>1. æ‰¹é‡å¤„ç†è„šæœ¬</a></li><li><a href=#2-é›†æˆåˆ°cicdæµç¨‹>2. é›†æˆåˆ°CI/CDæµç¨‹</a></li><li><a href=#3-ä½œä¸ºæ¨¡å—å¯¼å…¥>3. ä½œä¸ºæ¨¡å—å¯¼å…¥</a></li></ul></li><li><a href=#-è¾“å‡ºæ ¼å¼è¯´æ˜>ğŸ“Š è¾“å‡ºæ ¼å¼è¯´æ˜</a><ul><li><a href=#ç”Ÿæˆæ–‡ä»¶å‘½å>ç”Ÿæˆæ–‡ä»¶å‘½å</a></li><li><a href=#yamlæ ¼å¼ç‰¹ç‚¹>YAMLæ ¼å¼ç‰¹ç‚¹</a></li></ul></li><li><a href=#-é”™è¯¯å¤„ç†>ğŸš¨ é”™è¯¯å¤„ç†</a><ul><li><a href=#å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ>å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</a></li></ul></li><li><a href=#-æ•…éšœæ’é™¤>ğŸ” æ•…éšœæ’é™¤</a><ul><li><a href=#è°ƒè¯•æŠ€å·§>è°ƒè¯•æŠ€å·§</a></li></ul></li><li><a href=#-æ€§èƒ½è¯´æ˜>ğŸ“ˆ æ€§èƒ½è¯´æ˜</a><ul><li><a href=#å¤„ç†èƒ½åŠ›>å¤„ç†èƒ½åŠ›</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/java/>Java
</a><a href=/categories/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7/>è¿ç»´å·¥å…·</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/properties-to-yaml/>Propertiesè½¬YAMLè½¬æ¢å·¥å…·</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2026-02-09T00:32:40+08:00>Feb 09, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 8 åˆ†é’Ÿ</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://zg-dd.github.io/en/blog/properties-to-yaml/ class=link>English</a></div></footer></div></header><section class=article-content><h1 id=propertiesè½¬yamlè½¬æ¢å·¥å…·ä½¿ç”¨æ‰‹å†Œ>Propertiesè½¬YAMLè½¬æ¢å·¥å…·ä½¿ç”¨æ‰‹å†Œ</h1><h2 id=-æ¦‚è¿°>ğŸ“‹ æ¦‚è¿°</h2><p>è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„Pythonè„šæœ¬å·¥å…·ï¼Œç”¨äºå°†Java <code>.properties</code> é…ç½®æ–‡ä»¶è½¬æ¢ä¸ºYAMLæ ¼å¼ã€‚è¯¥å·¥å…·ä¸ä»…æ”¯æŒåŸºæœ¬çš„æ ¼å¼è½¬æ¢ï¼Œè¿˜å…·å¤‡æ™ºèƒ½çš„æ³¨é‡Šä¿ç•™ã€ç±»å‹æ¨æ–­å’Œç»“æ„ä¿æŒåŠŸèƒ½ã€‚</p><h2 id=è„šæœ¬>ğŸ“œè„šæœ¬</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env python3</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -*- coding: utf-8 -*-</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Propertiesæ–‡ä»¶è½¬YAMLæ–‡ä»¶å·¥å…·ï¼ˆä¿®å¤ç‰ˆï¼‰
</span></span></span><span style=display:flex><span><span style=color:#e6db74>ä¿®å¤äº†å€¼è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„é—®é¢˜
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> argparse
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pathlib <span style=color:#f92672>import</span> Path
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> OrderedDict
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> yaml
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> re
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>infer_value_type</span>(value_str):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    æ¨æ–­å€¼çš„ç±»å‹å¹¶è¿”å›é€‚å½“çš„Pythonå¯¹è±¡
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> isinstance(value_str, str):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    value_str <span style=color:#f92672>=</span> value_str<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç©ºå€¼å¤„ç†</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> value_str <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;&#39;</span> <span style=color:#f92672>or</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;null&#39;</span>, <span style=color:#e6db74>&#39;nil&#39;</span>]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¸ƒå°”å€¼</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;true&#39;</span>, <span style=color:#e6db74>&#39;false&#39;</span>]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str<span style=color:#f92672>.</span>lower() <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;true&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ•°å­—ï¼ˆæ•´æ•°ï¼‰</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> value_str <span style=color:#f92672>and</span> re<span style=color:#f92672>.</span><span style=color:#66d9ef>match</span>(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;^-?\d+$&#39;</span>, value_str):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> int(value_str)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>ValueError</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ•°å­—ï¼ˆæµ®ç‚¹æ•°ï¼‰</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> re<span style=color:#f92672>.</span><span style=color:#66d9ef>match</span>(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#39;^-?\d+\.?\d*$&#39;</span>, value_str):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> float(value_str)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>ValueError</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å»æ‰å¯èƒ½çš„å¼•å·</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (value_str<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;&#34;&#39;</span>) <span style=color:#f92672>and</span> value_str<span style=color:#f92672>.</span>endswith(<span style=color:#e6db74>&#39;&#34;&#39;</span>)) <span style=color:#f92672>or</span> \
</span></span><span style=display:flex><span>            (value_str<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#34;&#39;&#34;</span>) <span style=color:#f92672>and</span> value_str<span style=color:#f92672>.</span>endswith(<span style=color:#e6db74>&#34;&#39;&#34;</span>)):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> value_str[<span style=color:#ae81ff>1</span>:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> value_str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>parse_properties_content</span>(content):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    è§£æpropertiesæ–‡ä»¶å†…å®¹ï¼Œä¸¥æ ¼æŒ‰ç…§åŸæ–‡é¡ºåºå’Œç»“æ„
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>    result[<span style=color:#e6db74>&#39;_structure&#39;</span>] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> content<span style=color:#f92672>.</span>splitlines()
</span></span><span style=display:flex><span>    i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(lines):
</span></span><span style=display:flex><span>        line <span style=color:#f92672>=</span> lines[i]
</span></span><span style=display:flex><span>        stripped_line <span style=color:#f92672>=</span> line<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> stripped_line<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;#&#39;</span>) <span style=color:#f92672>or</span> stripped_line<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;!&#39;</span>):
</span></span><span style=display:flex><span>            comment_content <span style=color:#f92672>=</span> stripped_line[<span style=color:#ae81ff>1</span>:]<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>            result[<span style=color:#e6db74>&#39;_structure&#39;</span>]<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;comment&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;content&#39;</span>: comment_content,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;original_line&#39;</span>: line
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> stripped_line:
</span></span><span style=display:flex><span>            result[<span style=color:#e6db74>&#39;_structure&#39;</span>]<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;empty_line&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;original_line&#39;</span>: line
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>in</span> stripped_line <span style=color:#f92672>or</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>in</span> stripped_line:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;=&#39;</span> <span style=color:#f92672>in</span> stripped_line:
</span></span><span style=display:flex><span>                separator <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;=&#39;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                separator <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;:&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            key, value <span style=color:#f92672>=</span> stripped_line<span style=color:#f92672>.</span>split(separator, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>            key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>            value <span style=color:#f92672>=</span> value<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ¨æ–­å€¼ç±»å‹</span>
</span></span><span style=display:flex><span>            typed_value <span style=color:#f92672>=</span> infer_value_type(value)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            struct_entry <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;property&#39;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;key&#39;</span>: key,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;value&#39;</span>: value,  <span style=color:#75715e># åŸå§‹å­—ç¬¦ä¸²å€¼</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;typed_value&#39;</span>: typed_value,  <span style=color:#75715e># ç±»å‹æ¨æ–­åçš„å€¼</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#39;original_line&#39;</span>: line
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            result[<span style=color:#e6db74>&#39;_structure&#39;</span>]<span style=color:#f92672>.</span>append(struct_entry)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> key:
</span></span><span style=display:flex><span>                keys <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)
</span></span><span style=display:flex><span>                current_dict <span style=color:#f92672>=</span> result
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> j, k <span style=color:#f92672>in</span> enumerate(keys[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]):
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> k <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> current_dict:
</span></span><span style=display:flex><span>                        current_dict[k] <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>elif</span> <span style=color:#f92672>not</span> isinstance(current_dict[k], OrderedDict):
</span></span><span style=display:flex><span>                        current_dict[k] <span style=color:#f92672>=</span> OrderedDict([(<span style=color:#e6db74>&#39;_value&#39;</span>, current_dict[k])])
</span></span><span style=display:flex><span>                    current_dict <span style=color:#f92672>=</span> current_dict[k]
</span></span><span style=display:flex><span>                current_dict[keys[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] <span style=color:#f92672>=</span> typed_value
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                result[key] <span style=color:#f92672>=</span> typed_value
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è­¦å‘Šï¼šç¬¬</span><span style=color:#e6db74>{</span>i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: </span><span style=color:#e6db74>{</span>stripped_line<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dump_yaml_with_structure</span>(data, stream<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ä¿®å¤ç‰ˆæœ¬ï¼šæ­£ç¡®å¤„ç†å€¼ç±»å‹ï¼Œé¿å…å¼ºåˆ¶å­—ç¬¦ä¸²åŒ–
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ„å»ºåµŒå¥—ç»“æ„ï¼ˆä½¿ç”¨ç±»å‹æ¨æ–­åçš„å€¼ï¼‰</span>
</span></span><span style=display:flex><span>    ordered_nested <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i, item <span style=color:#f92672>in</span> enumerate(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> item[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>            key <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>            typed_value <span style=color:#f92672>=</span> item<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;typed_value&#39;</span>, item[<span style=color:#e6db74>&#39;value&#39;</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> key:
</span></span><span style=display:flex><span>                top_level_key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> top_level_key <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> ordered_nested:
</span></span><span style=display:flex><span>                    ordered_nested[top_level_key] <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                parts <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)
</span></span><span style=display:flex><span>                current <span style=color:#f92672>=</span> ordered_nested
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> part <span style=color:#f92672>in</span> parts[:<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]:
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> part <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> current:
</span></span><span style=display:flex><span>                        current[part] <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>elif</span> <span style=color:#f92672>not</span> isinstance(current[part], OrderedDict):
</span></span><span style=display:flex><span>                        current[part] <span style=color:#f92672>=</span> OrderedDict([(<span style=color:#e6db74>&#39;_value&#39;</span>, current[part])])
</span></span><span style=display:flex><span>                    current <span style=color:#f92672>=</span> current[part]
</span></span><span style=display:flex><span>                current[parts[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] <span style=color:#f92672>=</span> typed_value
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                ordered_nested[key] <span style=color:#f92672>=</span> typed_value
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç”ŸæˆYAMLï¼ˆä½¿ç”¨æ ‡å‡†yaml.dumpï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†ç±»å‹ï¼‰</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>OrderedDumper</span>(yaml<span style=color:#f92672>.</span>SafeDumper):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>represent_ordereddict</span>(dumper, data):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> dumper<span style=color:#f92672>.</span>represent_dict(data<span style=color:#f92672>.</span>items())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    OrderedDumper<span style=color:#f92672>.</span>add_representer(OrderedDict, represent_ordereddict)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å¤„ç†æ³¨é‡Šå’Œç»“æ„</span>
</span></span><span style=display:flex><span>    output_lines <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    processed_groups <span style=color:#f92672>=</span> set()
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ³¨é‡Šå¤„ç†é€»è¾‘ï¼šè¯†åˆ«ç‹¬ç«‹å’Œå…³è”æ³¨é‡Šå—</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç‹¬ç«‹æ³¨é‡Šå—ï¼šä¸Šä¸‹ä¸ºç©ºè¡Œæˆ–æ–‡ä»¶è¾¹ç•Œ</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># å…³è”æ³¨é‡Šå—ï¼šä¸‹ä¸€è¡Œæ˜¯å±æ€§é¡¹</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># é»æ€§å¤„ç†ï¼šç‹¬ç«‹æ³¨é‡Šå—ä¼˜å…ˆå‘ä¸ŠæŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°åˆ™å‘ä¸‹</span>
</span></span><span style=display:flex><span>    comment_mapping <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç¬¬ä¸€éæ‰«æï¼šè¯†åˆ«æ³¨é‡Šå—ç±»å‹å’Œä½ç½®</span>
</span></span><span style=display:flex><span>    scan_index <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> scan_index <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][scan_index][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;comment&#39;</span>:
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ‰¾åˆ°æ³¨é‡Šå—çš„å¼€å§‹å’Œç»“æŸ</span>
</span></span><span style=display:flex><span>            comment_block_start <span style=color:#f92672>=</span> scan_index
</span></span><span style=display:flex><span>            comment_contents <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ”¶é›†è¿ç»­çš„æ³¨é‡Š</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>while</span> scan_index <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]) <span style=color:#f92672>and</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][scan_index][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;comment&#39;</span>:
</span></span><span style=display:flex><span>                comment_contents<span style=color:#f92672>.</span>append(data[<span style=color:#e6db74>&#39;_structure&#39;</span>][scan_index][<span style=color:#e6db74>&#39;content&#39;</span>])
</span></span><span style=display:flex><span>                scan_index <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            comment_block_end <span style=color:#f92672>=</span> scan_index <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># åˆ¤æ–­æ³¨é‡Šå—ç±»å‹å’Œé»æ€§å¤„ç†</span>
</span></span><span style=display:flex><span>            target_property <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            target_position <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            comment_type <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># æ£€æŸ¥ä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
</span></span><span style=display:flex><span>            prev_is_empty_or_start <span style=color:#f92672>=</span> (comment_block_start <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>or</span>
</span></span><span style=display:flex><span>                                      data[<span style=color:#e6db74>&#39;_structure&#39;</span>][comment_block_start <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;empty_line&#39;</span>)
</span></span><span style=display:flex><span>            next_is_empty_or_end <span style=color:#f92672>=</span> (comment_block_end <span style=color:#f92672>==</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>or</span>
</span></span><span style=display:flex><span>                                    data[<span style=color:#e6db74>&#39;_structure&#39;</span>][comment_block_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;empty_line&#39;</span>)
</span></span><span style=display:flex><span>            next_is_property <span style=color:#f92672>=</span> (comment_block_end <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>and</span>
</span></span><span style=display:flex><span>                                data[<span style=color:#e6db74>&#39;_structure&#39;</span>][comment_block_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># é»æ€§å¤„ç†é€»è¾‘</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> prev_is_empty_or_start <span style=color:#f92672>and</span> next_is_empty_or_end:
</span></span><span style=display:flex><span>                <span style=color:#75715e># ç‹¬ç«‹æ³¨é‡Šå—çš„é»æ€§å¤„ç†</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># å…ˆå°è¯•å¾€ä¸Šå¯»æ‰¾å±æ€§é¡¹</span>
</span></span><span style=display:flex><span>                found_upward_property <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(comment_block_start <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                        found_upward_property <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> found_upward_property:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># ä¸Šæ–¹æ‰¾åˆ°å±æ€§é¡¹ï¼Œè®¾ä¸ºä¸‹æ–¹ç‹¬ç«‹æ³¨é‡Šå—</span>
</span></span><span style=display:flex><span>                    target_property <span style=color:#f92672>=</span> found_upward_property
</span></span><span style=display:flex><span>                    target_position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;below&#39;</span>
</span></span><span style=display:flex><span>                    comment_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;isolated_below&#39;</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># ä¸Šæ–¹æ²¡æ‰¾åˆ°ï¼Œé»æ€§å¾€ä¸‹å¯»æ‰¾ç¬¬ä¸€ä¸ªå±æ€§é¡¹</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(comment_block_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>])):
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                            target_property <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> target_property:
</span></span><span style=display:flex><span>                        target_position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;above&#39;</span>
</span></span><span style=display:flex><span>                        comment_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;isolated_above&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> next_is_property:
</span></span><span style=display:flex><span>                <span style=color:#75715e># å…³è”æ³¨é‡Šå—ï¼šå¾€ä¸‹å¯»æ‰¾é»æ€§é€‰æ‹©ç¬¬ä¸€ä¸ªå±æ€§é¡¹</span>
</span></span><span style=display:flex><span>                target_property <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][comment_block_end <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                target_position <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;above&#39;</span>
</span></span><span style=display:flex><span>                comment_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;associated&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># å¦‚æœæ‰¾åˆ°äº†ç›®æ ‡å±æ€§ï¼Œæ·»åŠ æ³¨é‡Šå—</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> target_property <span style=color:#f92672>and</span> target_position <span style=color:#f92672>and</span> comment_type:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> target_property <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                    comment_mapping[target_property] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>                <span style=color:#75715e># å°†æ³¨é‡Šå—æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œä¿æŒé¡ºåº</span>
</span></span><span style=display:flex><span>                comment_mapping[target_property]<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;comments&#39;</span>: comment_contents<span style=color:#f92672>.</span>copy(),
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;type&#39;</span>: comment_type,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;position&#39;</span>: target_position
</span></span><span style=display:flex><span>                })
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            scan_index <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># æ³¨é‡Šæ˜ å°„ç»“æœè°ƒè¯•ä¿¡æ¯å·²ç§»é™¤</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç»“æ„å¤„ç†ï¼šæŒ‰å±æ€§ç»„å¤„ç†ï¼Œä¿ç•™æ³¨é‡Šä½ç½®</span>
</span></span><span style=display:flex><span>    i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]):
</span></span><span style=display:flex><span>        item <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][i]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> item[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>            key <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> key:
</span></span><span style=display:flex><span>                top_level_key <span style=color:#f92672>=</span> key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>                <span style=color:#75715e># åªå¤„ç†æœªå¤„ç†è¿‡çš„ç»„</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> top_level_key <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> processed_groups:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># åœ¨å¤„ç†ç»„ä¹‹å‰ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ä¸Šæ–¹æ³¨é‡Šéœ€è¦æ’å…¥</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e># å¯¹äºç»„çº§åˆ«çš„æ³¨é‡Šï¼Œæ£€æŸ¥ç»„å†…ç¬¬ä¸€ä¸ªå±æ€§çš„æ³¨é‡Š</span>
</span></span><span style=display:flex><span>                    first_group_property <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e># æ‰¾åˆ°è¯¥ç»„çš„ç¬¬ä¸€ä¸ªå±æ€§</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(i, len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>])):
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                            prop_key <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> prop_key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> top_level_key:
</span></span><span style=display:flex><span>                                first_group_property <span style=color:#f92672>=</span> prop_key
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> first_group_property <span style=color:#f92672>and</span> first_group_property <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>for</span> comment_block <span style=color:#f92672>in</span> comment_mapping[first_group_property]:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> comment_block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> comment_block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                    output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e># æ”¶é›†è¯¥ç»„çš„æ‰€æœ‰å±æ€§ï¼ˆåœ¨æ•´ä¸ªç»“æ„ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒç»„å±æ€§ï¼‰</span>
</span></span><span style=display:flex><span>                    group_properties <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    <span style=color:#75715e># éå†æ•´ä¸ªç»“æ„ï¼Œæ”¶é›†æ‰€æœ‰å±äºè¯¥ç»„çš„å±æ€§</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>])):
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                            prop_key <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> prop_key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> top_level_key:
</span></span><span style=display:flex><span>                                group_properties<span style=color:#f92672>.</span>append({
</span></span><span style=display:flex><span>                                    <span style=color:#e6db74>&#39;key&#39;</span>: prop_key,
</span></span><span style=display:flex><span>                                    <span style=color:#e6db74>&#39;typed_value&#39;</span>: data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j]<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;typed_value&#39;</span>, data[<span style=color:#e6db74>&#39;_structure&#39;</span>][j][<span style=color:#e6db74>&#39;value&#39;</span>])
</span></span><span style=display:flex><span>                                })
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    <span style=color:#75715e># è¾“å‡ºç»„å¼€å§‹</span>
</span></span><span style=display:flex><span>                    output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>top_level_key<span style=color:#e6db74>}</span><span style=color:#e6db74>:&#34;</span>)
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    <span style=color:#75715e># é€ä¸ªå¤„ç†ç»„å†…å±æ€§</span>
</span></span><span style=display:flex><span>                    current_nested_path <span style=color:#f92672>=</span> []  <span style=color:#75715e># è·Ÿè¸ªå½“å‰åµŒå¥—è·¯å¾„</span>
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> idx, prop_info <span style=color:#f92672>in</span> enumerate(group_properties):
</span></span><span style=display:flex><span>                        prop_key <span style=color:#f92672>=</span> prop_info[<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                        typed_value <span style=color:#f92672>=</span> prop_info[<span style=color:#e6db74>&#39;typed_value&#39;</span>]
</span></span><span style=display:flex><span>                        
</span></span><span style=display:flex><span>                        <span style=color:#75715e># å¤„ç†ä¸Šæ–¹æ³¨é‡Šï¼ˆæ’é™¤ç¬¬ä¸€ä¸ªå±æ€§çš„ç»„çº§æ³¨é‡Šï¼‰</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> prop_key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment_block <span style=color:#f92672>in</span> comment_mapping[prop_key]:
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>if</span> comment_block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                                    <span style=color:#75715e># å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå±æ€§ï¼ˆidx=0ï¼‰ï¼Œä¸”è¯¥å±æ€§å°±æ˜¯ç»„çš„ç¬¬ä¸€ä¸ªå±æ€§ï¼Œåˆ™è·³è¿‡</span>
</span></span><span style=display:flex><span>                                    <span style=color:#75715e># å› ä¸ºå®ƒçš„æ³¨é‡Šå·²ç»åœ¨ç»„çº§å¤„ç†è¿‡äº†</span>
</span></span><span style=display:flex><span>                                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> (idx <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>and</span> prop_key <span style=color:#f92672>==</span> first_group_property):
</span></span><span style=display:flex><span>                                        <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> comment_block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;  # </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                        <span style=color:#75715e># è¾“å‡ºå±æ€§ï¼ˆä¼˜åŒ–åµŒå¥—ç»“æ„å¤„ç†ï¼‰</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>in</span> prop_key:
</span></span><span style=display:flex><span>                            <span style=color:#75715e># åµŒå¥—å±æ€§</span>
</span></span><span style=display:flex><span>                            nested_parts <span style=color:#f92672>=</span> prop_key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>1</span>:]  <span style=color:#75715e># å»æ‰é¡¶å±‚key</span>
</span></span><span style=display:flex><span>                            
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> len(nested_parts) <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>                                <span style=color:#75715e># äºŒçº§å±æ€§</span>
</span></span><span style=display:flex><span>                                temp_dict <span style=color:#f92672>=</span> {nested_parts[<span style=color:#ae81ff>0</span>]: typed_value}
</span></span><span style=display:flex><span>                                formatted_line <span style=color:#f92672>=</span> yaml<span style=color:#f92672>.</span>dump(temp_dict, Dumper<span style=color:#f92672>=</span>OrderedDumper,
</span></span><span style=display:flex><span>                                                         allow_unicode<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, default_flow_style<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>                                                         indent<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, sort_keys<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                                <span style=color:#75715e># æ·»åŠ é€‚å½“çš„ç¼©è¿›</span>
</span></span><span style=display:flex><span>                                indented_line <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;  &#39;</span> <span style=color:#f92672>+</span> formatted_line
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(indented_line)
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                                <span style=color:#75715e># æ›´æ·±å±‚åµŒå¥— - éœ€è¦æ„å»ºæ­£ç¡®çš„å±‚çº§ç»“æ„</span>
</span></span><span style=display:flex><span>                                <span style=color:#75715e># å…ˆè¾“å‡ºçˆ¶çº§ç»“æ„</span>
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>for</span> level <span style=color:#f92672>in</span> range(len(nested_parts) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>                                    current_part <span style=color:#f92672>=</span> nested_parts[level]
</span></span><span style=display:flex><span>                                    indent_spaces <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;  &#39;</span> <span style=color:#f92672>*</span> (level <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                                    
</span></span><span style=display:flex><span>                                    <span style=color:#75715e># æ£€æŸ¥æ˜¯å¦å·²ç»è¾“å‡ºè¿‡è¿™ä¸ªå±‚çº§</span>
</span></span><span style=display:flex><span>                                    path_so_far <span style=color:#f92672>=</span> nested_parts[:level<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>                                    <span style=color:#66d9ef>if</span> path_so_far <span style=color:#f92672>!=</span> current_nested_path[:len(path_so_far)]:
</span></span><span style=display:flex><span>                                        output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>indent_spaces<span style=color:#e6db74>}{</span>current_part<span style=color:#e6db74>}</span><span style=color:#e6db74>:&#34;</span>)
</span></span><span style=display:flex><span>                                        <span style=color:#75715e># æ›´æ–°å½“å‰è·¯å¾„</span>
</span></span><span style=display:flex><span>                                        <span style=color:#66d9ef>if</span> len(current_nested_path) <span style=color:#f92672>&lt;=</span> level:
</span></span><span style=display:flex><span>                                            current_nested_path<span style=color:#f92672>.</span>extend(path_so_far[len(current_nested_path):])
</span></span><span style=display:flex><span>                                        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                                            current_nested_path <span style=color:#f92672>=</span> path_so_far[:]
</span></span><span style=display:flex><span>                                
</span></span><span style=display:flex><span>                                <span style=color:#75715e># è¾“å‡ºæœ€åä¸€çº§å±æ€§</span>
</span></span><span style=display:flex><span>                                final_level <span style=color:#f92672>=</span> len(nested_parts) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                                final_indent <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;  &#39;</span> <span style=color:#f92672>*</span> (final_level <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>                                final_key <span style=color:#f92672>=</span> nested_parts[final_level]
</span></span><span style=display:flex><span>                                temp_dict <span style=color:#f92672>=</span> {final_key: typed_value}
</span></span><span style=display:flex><span>                                formatted_line <span style=color:#f92672>=</span> yaml<span style=color:#f92672>.</span>dump(temp_dict, Dumper<span style=color:#f92672>=</span>OrderedDumper,
</span></span><span style=display:flex><span>                                                         allow_unicode<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, default_flow_style<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>                                                         indent<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, sort_keys<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                                <span style=color:#75715e># ç§»é™¤é”®åï¼Œåªä¿ç•™å€¼</span>
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#f92672>in</span> formatted_line:
</span></span><span style=display:flex><span>                                    value_part <span style=color:#f92672>=</span> formatted_line<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;:&#39;</span>, <span style=color:#ae81ff>1</span>)[<span style=color:#ae81ff>1</span>]<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                                    value_part <span style=color:#f92672>=</span> str(typed_value)
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>final_indent<span style=color:#e6db74>}{</span>final_key<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>value_part<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                            <span style=color:#75715e># ç®€å•å±æ€§ï¼ˆç†è®ºä¸Šä¸åº”è¯¥å‡ºç°åœ¨ç»„å†…ï¼Œä½†ä¸ºäº†å®‰å…¨ï¼‰</span>
</span></span><span style=display:flex><span>                            temp_dict <span style=color:#f92672>=</span> {prop_key: typed_value}
</span></span><span style=display:flex><span>                            formatted_line <span style=color:#f92672>=</span> yaml<span style=color:#f92672>.</span>dump(temp_dict, Dumper<span style=color:#f92672>=</span>OrderedDumper,
</span></span><span style=display:flex><span>                                                     allow_unicode<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, default_flow_style<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>,
</span></span><span style=display:flex><span>                                                     indent<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, sort_keys<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;  </span><span style=color:#e6db74>{</span>formatted_line<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                        
</span></span><span style=display:flex><span>                        <span style=color:#75715e># å¤„ç†ä¸‹æ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> prop_key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                            has_below_comments <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment_block <span style=color:#f92672>in</span> comment_mapping[prop_key]:
</span></span><span style=display:flex><span>                                <span style=color:#66d9ef>if</span> comment_block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;below&#39;</span>:
</span></span><span style=display:flex><span>                                    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> has_below_comments:
</span></span><span style=display:flex><span>                                        output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)  <span style=color:#75715e># æ·»åŠ åˆ†éš”ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>                                        has_below_comments <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>                                    <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> comment_block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                        output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                                    output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)  <span style=color:#75715e># å•ç‹¬æ·»åŠ ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>                    
</span></span><span style=display:flex><span>                    processed_groups<span style=color:#f92672>.</span>add(top_level_key)
</span></span><span style=display:flex><span>                    <span style=color:#75715e># è·³è¿‡å·²å¤„ç†çš„å±æ€§</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]) <span style=color:#f92672>and</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][i][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][i][<span style=color:#e6db74>&#39;key&#39;</span>]<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> top_level_key:
</span></span><span style=display:flex><span>                            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># è·³è¿‡è¯¥ç»„çš„æ‰€æœ‰å±æ€§</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>while</span> i <span style=color:#f92672>&lt;</span> len(data[<span style=color:#e6db74>&#39;_structure&#39;</span>]) <span style=color:#f92672>and</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][i][<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;property&#39;</span>:
</span></span><span style=display:flex><span>                    next_key <span style=color:#f92672>=</span> data[<span style=color:#e6db74>&#39;_structure&#39;</span>][i][<span style=color:#e6db74>&#39;key&#39;</span>]
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> next_key<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;.&#39;</span>)[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> top_level_key:
</span></span><span style=display:flex><span>                        i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                <span style=color:#75715e># å¤„ç†ç®€å•å±æ€§çš„æ³¨é‡Šå’Œè¾“å‡º</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                    <span style=color:#75715e># å¤„ç†ä¸Šæ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> comment_block <span style=color:#f92672>in</span> comment_mapping[key]:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> comment_block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;above&#39;</span>:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> comment_block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#75715e># è¾“å‡ºå±æ€§</span>
</span></span><span style=display:flex><span>                value <span style=color:#f92672>=</span> item[<span style=color:#e6db74>&#39;value&#39;</span>]
</span></span><span style=display:flex><span>                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>key<span style=color:#e6db74>}</span><span style=color:#e6db74>: &#39;</span><span style=color:#e6db74>{</span>value<span style=color:#e6db74>}</span><span style=color:#e6db74>&#39;&#34;</span>)
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>                <span style=color:#75715e># å¤„ç†ä¸‹æ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> key <span style=color:#f92672>in</span> comment_mapping:
</span></span><span style=display:flex><span>                    has_below_comments <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>for</span> comment_block <span style=color:#f92672>in</span> comment_mapping[key]:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> comment_block[<span style=color:#e6db74>&#39;position&#39;</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;below&#39;</span>:
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> has_below_comments:
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)  <span style=color:#75715e># åˆ†éš”ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>                                has_below_comments <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>for</span> comment <span style=color:#f92672>in</span> comment_block[<span style=color:#e6db74>&#39;comments&#39;</span>]:
</span></span><span style=display:flex><span>                                output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;# </span><span style=color:#e6db74>{</span>comment<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                            output_lines<span style=color:#f92672>.</span>append(<span style=color:#e6db74>&#34;&#34;</span>)  <span style=color:#75715e># æ³¨é‡Šåç©ºè¡Œ</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            i <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># ç§»é™¤æœ«å°¾ç©ºè¡Œ</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> output_lines <span style=color:#f92672>and</span> output_lines[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span>:
</span></span><span style=display:flex><span>        output_lines<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>join(output_lines)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> stream:
</span></span><span style=display:flex><span>        stream<span style=color:#f92672>.</span>write(result)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> result
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>properties_to_yaml</span>(properties_file_path):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;è½¬æ¢propertiesæ–‡ä»¶ä¸ºYAMLæ ¼å¼&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        prop_path <span style=color:#f92672>=</span> Path(properties_file_path)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> prop_path<span style=color:#f92672>.</span>exists():
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - </span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> prop_path<span style=color:#f92672>.</span>is_file():
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ï¼šè·¯å¾„ä¸æ˜¯æ–‡ä»¶ - </span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(prop_path, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            content <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        properties_dict <span style=color:#f92672>=</span> parse_properties_content(content)
</span></span><span style=display:flex><span>        yaml_file_path <span style=color:#f92672>=</span> prop_path<span style=color:#f92672>.</span>with_suffix(<span style=color:#e6db74>&#39;.yaml&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> dump_yaml_with_structure(properties_dict)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># æœ€ç»ˆå†…å®¹æ£€æŸ¥è°ƒè¯•ä¿¡æ¯å·²ç§»é™¤</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> open(yaml_file_path, <span style=color:#e6db74>&#39;w&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>            f<span style=color:#f92672>.</span>write(result)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;æˆåŠŸè½¬æ¢ï¼š</span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74> -&gt; </span><span style=color:#e6db74>{</span>yaml_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è½¬æ¢å¤±è´¥ï¼š</span><span style=color:#e6db74>{</span>properties_file_path<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;é”™è¯¯ä¿¡æ¯ï¼š</span><span style=color:#e6db74>{</span>str(e)<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#f92672>import</span> traceback
</span></span><span style=display:flex><span>        traceback<span style=color:#f92672>.</span>print_exc()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;ä¸»å‡½æ•°ï¼šå¤„ç†å‘½ä»¤è¡Œå‚æ•°å¹¶æ‰§è¡Œè½¬æ¢&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    parser <span style=color:#f92672>=</span> argparse<span style=color:#f92672>.</span>ArgumentParser(description<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;å°†propertiesæ–‡ä»¶è½¬æ¢ä¸ºyamlæ–‡ä»¶&#39;</span>)
</span></span><span style=display:flex><span>    parser<span style=color:#f92672>.</span>add_argument(<span style=color:#e6db74>&#39;files&#39;</span>, nargs<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;+&#39;</span>, help<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;è¦è½¬æ¢çš„propertiesæ–‡ä»¶è·¯å¾„&#39;</span>)
</span></span><span style=display:flex><span>    args <span style=color:#f92672>=</span> parser<span style=color:#f92672>.</span>parse_args()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    success_count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    fail_count <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;å¼€å§‹è½¬æ¢propertiesæ–‡ä»¶åˆ°yamlæ ¼å¼...&#34;</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;=&#34;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> file_path <span style=color:#f92672>in</span> args<span style=color:#f92672>.</span>files:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> properties_to_yaml(file_path):
</span></span><span style=display:flex><span>            success_count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            fail_count <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;=&#34;</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span>)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;è½¬æ¢å®Œæˆï¼æˆåŠŸï¼š</span><span style=color:#e6db74>{</span>success_count<span style=color:#e6db74>}</span><span style=color:#e6db74>ä¸ªï¼Œå¤±è´¥ï¼š</span><span style=color:#e6db74>{</span>fail_count<span style=color:#e6db74>}</span><span style=color:#e6db74>ä¸ª&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>if</span> fail_count <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>else</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    sys<span style=color:#f92672>.</span>exit(main())
</span></span></code></pre></div><h2 id=-ä¸»è¦ç‰¹æ€§>ğŸš€ ä¸»è¦ç‰¹æ€§</h2><h3 id=-æ ¸å¿ƒåŠŸèƒ½>âœ… æ ¸å¿ƒåŠŸèƒ½</h3><ul><li><strong>å¤šæ–‡ä»¶æ‰¹é‡è½¬æ¢</strong> - æ”¯æŒåŒæ—¶è½¬æ¢å¤šä¸ªé…ç½®æ–‡ä»¶</li><li><strong>æ™ºèƒ½ç±»å‹æ¨æ–­</strong> - è‡ªåŠ¨è¯†åˆ«å¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²ç­‰æ•°æ®ç±»å‹</li><li><strong>å®Œæ•´æ³¨é‡Šä¿ç•™</strong> - ä¿ç•™æ‰€æœ‰åŸå§‹æ³¨é‡ŠåŠå…¶ä½ç½®å…³ç³»</li><li><strong>ç»“æ„é¡ºåºä¿æŒ</strong> - ä¸¥æ ¼ç»´æŒåŸå§‹æ–‡ä»¶çš„é”®å€¼å¯¹é¡ºåº</li><li><strong>åµŒå¥—å±æ€§å¤„ç†</strong> - æ™ºèƒ½å¤„ç†ç‚¹å·åˆ†éš”çš„å±‚çº§é…ç½®</li></ul><h3 id=-é«˜çº§ç‰¹æ€§>ğŸ¯ é«˜çº§ç‰¹æ€§</h3><ul><li><strong>æ³¨é‡Šæ™ºèƒ½å®šä½</strong> - æ”¯æŒä¸Šæ–¹æ³¨é‡Šã€ä¸‹æ–¹æ³¨é‡Šçš„ç²¾ç¡®ä½ç½®ä¿æŒ</li><li><strong>ç‹¬ç«‹æ³¨é‡Šå¤„ç†</strong> - æ™ºèƒ½å¤„ç†æ–‡ä»¶ä¸­çš„ç‹¬ç«‹æ³¨é‡Šå—</li><li><strong>UTF-8ç¼–ç æ”¯æŒ</strong> - å®Œç¾æ”¯æŒä¸­æ–‡ç­‰å¤šè¯­è¨€å­—ç¬¦</li><li><strong>é”™è¯¯å¤„ç†æœºåˆ¶</strong> - å®Œå–„çš„é”™è¯¯æç¤ºå’Œè½¬æ¢ç»Ÿè®¡</li></ul><h2 id=-å®‰è£…è¦æ±‚>ğŸ“¦ å®‰è£…è¦æ±‚</h2><h3 id=ç³»ç»Ÿç¯å¢ƒ>ç³»ç»Ÿç¯å¢ƒ</h3><ul><li><strong>Pythonç‰ˆæœ¬</strong>ï¼š3.6 æˆ–æ›´é«˜ç‰ˆæœ¬</li><li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šWindowsã€Linuxã€macOS å‡æ”¯æŒ</li></ul><h3 id=ä¾èµ–åº“>ä¾èµ–åº“</h3><p>éœ€è¦å®‰è£… PyYAML åº“ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pip install pyyaml
</span></span></code></pre></div><h2 id=-ä½¿ç”¨æ–¹æ³•>ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•</h2><h3 id=1-åŸºæœ¬ç”¨æ³•>1. åŸºæœ¬ç”¨æ³•</h3><h4 id=è½¬æ¢å•ä¸ªæ–‡ä»¶>è½¬æ¢å•ä¸ªæ–‡ä»¶</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py config.properties
</span></span></code></pre></div><h4 id=è½¬æ¢å¤šä¸ªæ–‡ä»¶>è½¬æ¢å¤šä¸ªæ–‡ä»¶</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py app.properties database.properties redis.properties
</span></span></code></pre></div><h3 id=2-è·¯å¾„ä½¿ç”¨>2. è·¯å¾„ä½¿ç”¨</h3><h4 id=ç»å¯¹è·¯å¾„>ç»å¯¹è·¯å¾„</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py C:<span style=color:#ae81ff>\p</span>rojects<span style=color:#ae81ff>\m</span>yapp<span style=color:#ae81ff>\c</span>onfig<span style=color:#ae81ff>\a</span>pplication.properties
</span></span></code></pre></div><h4 id=ç›¸å¯¹è·¯å¾„>ç›¸å¯¹è·¯å¾„</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py ./config/dev.properties
</span></span></code></pre></div><h4 id=å½“å‰ç›®å½•æ–‡ä»¶>å½“å‰ç›®å½•æ–‡ä»¶</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py application.properties
</span></span></code></pre></div><h2 id=-è½¬æ¢ç¤ºä¾‹>ğŸ“ è½¬æ¢ç¤ºä¾‹</h2><h3 id=è¾“å…¥æ–‡ä»¶ç¤ºä¾‹-applicationproperties>è¾“å…¥æ–‡ä»¶ç¤ºä¾‹ (application.properties)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># åº”ç”¨ç¨‹åºæ ¸å¿ƒé…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åº”ç”¨åŸºæœ¬ä¿¡æ¯</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.name</span><span style=color:#f92672>=</span><span style=color:#e6db74>MyAwesomeApplication</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.version</span><span style=color:#f92672>=</span><span style=color:#e6db74>2.1.0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.description</span><span style=color:#f92672>=</span><span style=color:#e6db74>ä¼ä¸šçº§åº”ç”¨å¹³å°</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å¼€å‘æ¨¡å¼å¼€å…³</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app.debug</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ•°æ®åº“è¿æ¥é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.host</span><span style=color:#f92672>=</span><span style=color:#e6db74>localhost</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.port</span><span style=color:#f92672>=</span><span style=color:#e6db74>3306</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.username</span><span style=color:#f92672>=</span><span style=color:#e6db74>admin</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.password</span><span style=color:#f92672>=</span><span style=color:#e6db74>secure_password_123</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¿æ¥æ± é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.max-size</span><span style=color:#f92672>=</span><span style=color:#e6db74>20</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.min-idle</span><span style=color:#f92672>=</span><span style=color:#e6db74>5</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>database.pool.max-wait</span><span style=color:#f92672>=</span><span style=color:#e6db74>30000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å…¶ä»–é…ç½®é¡¹</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>timeout</span><span style=color:#f92672>=</span><span style=color:#e6db74>30000</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>max-connections</span><span style=color:#f92672>=</span><span style=color:#e6db74>100</span>
</span></span></code></pre></div><h3 id=è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹-applicationyaml>è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹ (application.yaml)</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># åº”ç”¨ç¨‹åºæ ¸å¿ƒé…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># åº”ç”¨åŸºæœ¬ä¿¡æ¯</span>
</span></span><span style=display:flex><span><span style=color:#f92672>app</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>MyAwesomeApplication</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>version</span>: <span style=color:#ae81ff>2.1.0</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>description</span>: <span style=color:#ae81ff>ä¼ä¸šçº§åº”ç”¨å¹³å°</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># å¼€å‘æ¨¡å¼å¼€å…³</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>debug</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># æ•°æ®åº“è¿æ¥é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#f92672>database</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>host</span>: <span style=color:#ae81ff>localhost</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>port</span>: <span style=color:#ae81ff>3306</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>username</span>: <span style=color:#ae81ff>admin</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>password</span>: <span style=color:#ae81ff>secure_password_123</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e># è¿æ¥æ± é…ç½®</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>pool</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>max-size</span>: <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>min-idle</span>: <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>max-wait</span>: <span style=color:#ae81ff>30000</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># å…¶ä»–é…ç½®é¡¹</span>
</span></span><span style=display:flex><span><span style=color:#f92672>timeout</span>: <span style=color:#e6db74>&#39;30000&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>max-connections</span>: <span style=color:#e6db74>&#39;100&#39;</span>
</span></span></code></pre></div><h2 id=-åŠŸèƒ½è¯¦è§£>ğŸ”§ åŠŸèƒ½è¯¦è§£</h2><h3 id=1-ç±»å‹æ¨æ–­æœºåˆ¶>1. ç±»å‹æ¨æ–­æœºåˆ¶</h3><p>å·¥å…·èƒ½å¤Ÿæ™ºèƒ½è¯†åˆ«å¹¶ä¿æŒä»¥ä¸‹æ•°æ®ç±»å‹ï¼š</p><div class=table-wrapper><table><thead><tr><th>Propertieså€¼</th><th>æ¨æ–­ç±»å‹</th><th>YAMLè¾“å‡º</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>true</code>/<code>false</code></td><td>boolean</td><td><code>true</code>/<code>false</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>8080</code></td><td>integer</td><td><code>8080</code></td><td>æ•´æ•°</td></tr><tr><td><code>30.5</code></td><td>float</td><td><code>30.5</code></td><td>æµ®ç‚¹æ•°</td></tr><tr><td><code>hello</code></td><td>string</td><td><code>hello</code></td><td>å­—ç¬¦ä¸²</td></tr><tr><td><code>"hello world"</code></td><td>string</td><td><code>hello world</code></td><td>å»å¼•å·å­—ç¬¦ä¸²</td></tr></tbody></table></div><h3 id=2-æ³¨é‡Šå¤„ç†æœºåˆ¶>2. æ³¨é‡Šå¤„ç†æœºåˆ¶</h3><h4 id=æ³¨é‡Šç±»å‹è¯†åˆ«>æ³¨é‡Šç±»å‹è¯†åˆ«</h4><ul><li><strong>å…³è”æ³¨é‡Š</strong>ï¼šç´§è·Ÿåœ¨é…ç½®é¡¹å‰çš„æ³¨é‡Š</li><li><strong>ç‹¬ç«‹æ³¨é‡Š</strong>ï¼šè¢«ç©ºè¡ŒåŒ…å›´çš„æ³¨é‡Šå—</li><li><strong>æ–‡ä»¶å¤´æ³¨é‡Š</strong>ï¼šæ–‡ä»¶å¼€å¤´çš„æ³¨é‡Š</li></ul><h4 id=ä½ç½®ä¿æŒç­–ç•¥>ä½ç½®ä¿æŒç­–ç•¥</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#75715e># è¿™æ˜¯ä¸Šæ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>config.value</span><span style=color:#f92672>=</span><span style=color:#e6db74>test</span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¿™æ˜¯ä¸‹æ–¹æ³¨é‡Š</span>
</span></span></code></pre></div><p>è½¬æ¢åï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># è¿™æ˜¯ä¸Šæ–¹æ³¨é‡Š</span>
</span></span><span style=display:flex><span><span style=color:#f92672>config</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>value</span>: <span style=color:#ae81ff>test</span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¿™æ˜¯ä¸‹æ–¹æ³¨é‡Š</span>
</span></span></code></pre></div><h3 id=3-åµŒå¥—ç»“æ„å¤„ç†>3. åµŒå¥—ç»“æ„å¤„ç†</h3><p>ç‚¹å·åˆ†éš”çš„é”®åä¼šè‡ªåŠ¨è½¬æ¢ä¸ºYAMLåµŒå¥—ç»“æ„ï¼š</p><div class=table-wrapper><table><thead><tr><th>Properties</th><th>YAML</th></tr></thead><tbody><tr><td><code>database.host=localhost</code></td><td><code>database: {host: localhost}</code></td></tr><tr><td><code>spring.datasource.url=jdbc:...</code></td><td><code>spring: {datasource: {url: jdbc:...}}</code></td></tr></tbody></table></div><h3 id=4-é¡ºåºä¿æŒæœºåˆ¶>4. é¡ºåºä¿æŒæœºåˆ¶</h3><ul><li><strong>ä¸¥æ ¼é¡ºåº</strong>ï¼šå®Œå…¨ä¿æŒåŸå§‹propertiesæ–‡ä»¶ä¸­çš„é”®å€¼å¯¹é¡ºåº</li><li><strong>å±‚çº§é¡ºåº</strong>ï¼šåµŒå¥—å±æ€§çš„å±‚çº§ç»“æ„ä¹Ÿä¿æŒåŸæœ‰é¡ºåº</li><li><strong>æ³¨é‡Šé¡ºåº</strong>ï¼šæ³¨é‡Šä¸é…ç½®é¡¹çš„ç›¸å¯¹ä½ç½®å®Œå…¨ä¿æŒ</li></ul><h2 id=-é«˜çº§ç”¨æ³•>âš™ï¸ é«˜çº§ç”¨æ³•</h2><h3 id=1-æ‰¹é‡å¤„ç†è„šæœ¬>1. æ‰¹é‡å¤„ç†è„šæœ¬</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># æ‰¹é‡è½¬æ¢å½“å‰ç›®å½•æ‰€æœ‰propertiesæ–‡ä»¶</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> file in *.properties; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    python properties_to_yaml.py <span style=color:#e6db74>&#34;</span>$file<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=2-é›†æˆåˆ°cicdæµç¨‹>2. é›†æˆåˆ°CI/CDæµç¨‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># åœ¨GitHub Actionsä¸­ä½¿ç”¨</span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Convert Properties to YAML</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    python properties_to_yaml.py config/*.properties</span>
</span></span></code></pre></div><h3 id=3-ä½œä¸ºæ¨¡å—å¯¼å…¥>3. ä½œä¸ºæ¨¡å—å¯¼å…¥</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> properties_to_yaml <span style=color:#f92672>import</span> parse_properties_content, dump_yaml_with_structure
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># è¯»å–å¹¶è½¬æ¢</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;config.properties&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>    content <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>parsed_data <span style=color:#f92672>=</span> parse_properties_content(content)
</span></span><span style=display:flex><span>yaml_result <span style=color:#f92672>=</span> dump_yaml_with_structure(parsed_data)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(yaml_result)
</span></span></code></pre></div><h2 id=-è¾“å‡ºæ ¼å¼è¯´æ˜>ğŸ“Š è¾“å‡ºæ ¼å¼è¯´æ˜</h2><h3 id=ç”Ÿæˆæ–‡ä»¶å‘½å>ç”Ÿæˆæ–‡ä»¶å‘½å</h3><ul><li>è¾“å…¥ï¼š<code>application.properties</code></li><li>è¾“å‡ºï¼š<code>application.yaml</code></li><li>ä¿å­˜ä½ç½®ï¼šä¸æºæ–‡ä»¶ç›¸åŒç›®å½•</li></ul><h3 id=yamlæ ¼å¼ç‰¹ç‚¹>YAMLæ ¼å¼ç‰¹ç‚¹</h3><ul><li>ä½¿ç”¨2ä¸ªç©ºæ ¼ç¼©è¿›</li><li>æ”¯æŒUTF-8ç¼–ç </li><li>ä¿æŒæ¸…æ™°çš„å±‚æ¬¡ç»“æ„</li><li>æ³¨é‡Šä»¥<code>#</code>å¼€å¤´</li></ul><h2 id=-é”™è¯¯å¤„ç†>ğŸš¨ é”™è¯¯å¤„ç†</h2><h3 id=å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ>å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h3><h4 id=1-æ–‡ä»¶ä¸å­˜åœ¨>1. æ–‡ä»¶ä¸å­˜åœ¨</h4><pre tabindex=0><code>é”™è¯¯ï¼šæ–‡ä»¶ä¸å­˜åœ¨ - /path/to/config.properties
</code></pre><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®</p><h4 id=2-æ ¼å¼é”™è¯¯>2. æ ¼å¼é”™è¯¯</h4><pre tabindex=0><code>è­¦å‘Šï¼šç¬¬5è¡Œæ ¼å¼ä¸æ­£ç¡®ï¼Œè·³è¿‡: invalid=format=line
</code></pre><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ£€æŸ¥propertiesæ–‡ä»¶æ ¼å¼ï¼Œç¡®ä¿ä½¿ç”¨<code>=</code>æˆ–<code>:</code>åˆ†éš”</p><h4 id=3-æƒé™ä¸è¶³>3. æƒé™ä¸è¶³</h4><pre tabindex=0><code>é”™è¯¯ï¼šæƒé™è¢«æ‹’ç» - config.properties
</code></pre><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ£€æŸ¥æ–‡ä»¶è¯»å†™æƒé™</p><h2 id=-æ•…éšœæ’é™¤>ğŸ” æ•…éšœæ’é™¤</h2><h3 id=è°ƒè¯•æŠ€å·§>è°ƒè¯•æŠ€å·§</h3><ol><li><strong>æŸ¥çœ‹è¯¦ç»†è¾“å‡º</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python properties_to_yaml.py config.properties
</span></span></code></pre></div><ol start=2><li><strong>æ£€æŸ¥ç”Ÿæˆçš„YAML</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat config.yaml
</span></span></code></pre></div><ol start=3><li><strong>éªŒè¯YAMLè¯­æ³•</strong></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -c <span style=color:#e6db74>&#34;import yaml; yaml.safe_load(open(&#39;config.yaml&#39;))&#34;</span>
</span></span></code></pre></div><h2 id=-æ€§èƒ½è¯´æ˜>ğŸ“ˆ æ€§èƒ½è¯´æ˜</h2><h3 id=å¤„ç†èƒ½åŠ›>å¤„ç†èƒ½åŠ›</h3><ul><li><strong>å°æ–‡ä»¶</strong> (&lt; 100KB)ï¼šç¬é—´å®Œæˆ</li><li><strong>ä¸­ç­‰æ–‡ä»¶</strong> (100KB-1MB)ï¼š1-2ç§’</li><li><strong>å¤§æ–‡ä»¶</strong> (> 1MB)ï¼šæ ¹æ®å†…å®¹å¤æ‚åº¦ï¼Œé€šå¸¸åœ¨5ç§’å†…</li></ul><hr><p><strong>æ³¨æ„</strong>ï¼šæœ¬å·¥å…·ä¸“ä¸ºé…ç½®æ–‡ä»¶è½¬æ¢è®¾è®¡ï¼Œä¸é€‚ç”¨äºå…¶ä»–ç±»å‹çš„æ–‡ä»¶è½¬æ¢ã€‚è½¬æ¢å‰å»ºè®®å¤‡ä»½åŸå§‹æ–‡ä»¶ã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/tags/properties/>Properties</a>
<a href=/tags/yaml/>YAML</a></section></footer></article><script src=https://giscus.app/client.js data-repo=zg-dd/zg-dd.github.io data-repo-id=R_kgDOQwB7tw data-category=Announcements data-category-id=DIC_kwDOQwB7t84C0WGD data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"preferred_color_scheme")}})()</script><footer class=site-footer><section class=copyright>&copy;
2026 å°å··çš„éšç¬”</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>